{
  "run_id": "2026-02-19_1103",
  "lens": {
    "guest_call": "Sophie Charvet - 18 April 2022.txt",
    "book_extract": "nudge-choice-architecture.txt"
  },
  "element_count": 7,
  "elements": [
    {
      "id": "ds-ui-1103-001",
      "title": "Eligibility Qualification Gate",
      "description": "An inline eligibility checker for the guest discovery phase that surfaces hard service constraints (6-week minimum commitment, 3-week lead time) before any human interaction. Responds within 200ms to the prospect's input with warm, specific feedback about whether their need matches the platform. Prevents the Sophie Charvet pattern: ineligible prospects consuming agent time on calls that could have been self-qualified in 10 seconds. Uses Thaler/Sunstein's stimulus-response compatibility principle -- the discovery signal must match the actual service.",
      "journey_phase": "discovery",
      "type": "ui_element",
      "priority": "high",
      "layer_sources": ["works-001", "communicates-001", "looks-001", "behaves-001", "feels-001"],
      "evidence": {
        "call_quote": "I don't think we can help you with anything, um, before like three weeks. So is that the minimum commitment we require is minimum six weeks after that?",
        "call_source": "Sophie Charvet - 18 April 2022.txt, 0:26-1:00",
        "book_quote": "The idea is that you want the signal you receive (the stimulus) to be consistent with the desired action. When there are inconsistencies, performance suffers and people blunder.",
        "book_source": "nudge-choice-architecture.txt, Stimulus-Response Compatibility"
      },
      "html_css": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>Eligibility Qualification Gate</title>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=DM+Sans:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap\" rel=\"stylesheet\">\n<style>\n  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }\n  body { font-family: 'Inter', -apple-system, sans-serif; background: #f9fafb; display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 24px; }\n\n  .gate-container {\n    max-width: 460px;\n    width: 100%;\n    background: #ffffff;\n    border-radius: 12px;\n    border: 1px solid #e5e7eb;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n    padding: 32px;\n  }\n\n  .gate-header {\n    margin-bottom: 8px;\n  }\n\n  .gate-header h2 {\n    font-family: 'DM Sans', sans-serif;\n    font-size: 20px;\n    font-weight: 700;\n    color: #31135D;\n    line-height: 1.2;\n  }\n\n  .gate-subtext {\n    font-size: 14px;\n    color: #6b7280;\n    line-height: 1.5;\n    margin-bottom: 24px;\n  }\n\n  .constraint-strip {\n    background: rgb(252, 250, 255);\n    border: 1px solid #E7E0EC;\n    border-radius: 8px;\n    padding: 12px 16px;\n    margin-bottom: 24px;\n    display: flex;\n    gap: 24px;\n  }\n\n  .constraint-item {\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n  }\n\n  .constraint-label {\n    font-size: 11px;\n    font-weight: 500;\n    color: #6b7280;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n  }\n\n  .constraint-value {\n    font-family: 'IBM Plex Mono', monospace;\n    font-size: 14px;\n    font-weight: 500;\n    color: #31135D;\n  }\n\n  .form-group {\n    margin-bottom: 16px;\n  }\n\n  .form-group label {\n    display: block;\n    font-size: 13px;\n    font-weight: 500;\n    color: #374151;\n    margin-bottom: 6px;\n  }\n\n  .form-group select,\n  .form-group input {\n    width: 100%;\n    height: 42px;\n    padding: 0 12px;\n    font-family: 'Inter', sans-serif;\n    font-size: 14px;\n    color: #1a1a1a;\n    background: #ffffff;\n    border: 1px solid #e5e7eb;\n    border-radius: 6px;\n    transition: border-color 0.2s ease;\n    outline: none;\n  }\n\n  .form-group select:focus,\n  .form-group input:focus {\n    border-color: rgb(109, 49, 194);\n    box-shadow: 0 0 0 3px rgba(109, 49, 194, 0.1);\n  }\n\n  /* Feedback states */\n  .feedback {\n    margin-top: 16px;\n    border-radius: 8px;\n    padding: 14px 16px;\n    font-size: 13px;\n    line-height: 1.5;\n    opacity: 0;\n    transform: translateY(8px);\n    transition: opacity 0.2s cubic-bezier(0.16, 1, 0.3, 1), transform 0.2s cubic-bezier(0.16, 1, 0.3, 1);\n    pointer-events: none;\n  }\n\n  .feedback.visible {\n    opacity: 1;\n    transform: translateY(0);\n    pointer-events: auto;\n  }\n\n  .feedback.eligible {\n    background: #F0EBFF;\n    border: 1px solid rgba(109, 49, 194, 0.2);\n    color: #31135D;\n  }\n\n  .feedback.eligible .feedback-icon { color: rgb(109, 49, 194); }\n\n  .feedback.ineligible {\n    background: #FDF4E3;\n    border: 1px solid rgba(196, 132, 29, 0.2);\n    color: #92620E;\n  }\n\n  .feedback-row {\n    display: flex;\n    align-items: flex-start;\n    gap: 10px;\n  }\n\n  .feedback-icon {\n    font-size: 16px;\n    flex-shrink: 0;\n    margin-top: 1px;\n  }\n\n  .feedback-text strong {\n    font-weight: 600;\n  }\n\n  .feedback-compare {\n    display: flex;\n    gap: 16px;\n    margin-top: 10px;\n    font-family: 'IBM Plex Mono', monospace;\n    font-size: 12px;\n  }\n\n  .feedback-compare .yours { color: #92620E; }\n  .feedback-compare .minimum { color: #31135D; font-weight: 500; }\n  .feedback-compare span { display: inline-block; }\n\n  .gate-cta {\n    margin-top: 20px;\n    width: 100%;\n    height: 44px;\n    border: none;\n    border-radius: 20px;\n    font-family: 'Inter', sans-serif;\n    font-size: 14px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: background 0.1s ease, opacity 0.2s ease;\n  }\n\n  .gate-cta.explore {\n    background: rgb(109, 49, 194);\n    color: #ffffff;\n  }\n\n  .gate-cta.explore:hover {\n    background: rgb(140, 104, 238);\n  }\n\n  .gate-cta.redirect {\n    background: #31135D;\n    color: #ffffff;\n  }\n\n  .gate-cta.redirect:hover {\n    background: #251047;\n  }\n\n  @media (prefers-reduced-motion: reduce) {\n    .feedback { transition: none; }\n  }\n</style>\n</head>\n<body>\n<div class=\"gate-container\">\n  <div class=\"gate-header\">\n    <h2>Check your fit</h2>\n  </div>\n  <p class=\"gate-subtext\">Split Lease matches guests for stays of 6+ weeks on complementary schedules. See if your timeline works.</p>\n\n  <div class=\"constraint-strip\">\n    <div class=\"constraint-item\">\n      <span class=\"constraint-label\">Min. stay</span>\n      <span class=\"constraint-value\">6 weeks</span>\n    </div>\n    <div class=\"constraint-item\">\n      <span class=\"constraint-label\">Lead time</span>\n      <span class=\"constraint-value\">3+ weeks</span>\n    </div>\n  </div>\n\n  <div class=\"form-group\">\n    <label for=\"duration\">How long do you need housing?</label>\n    <select id=\"duration\">\n      <option value=\"\" disabled selected>Select duration</option>\n      <option value=\"2\">2 weeks</option>\n      <option value=\"4\">1 month (4 weeks)</option>\n      <option value=\"6\">6 weeks</option>\n      <option value=\"8\">2 months (8 weeks)</option>\n      <option value=\"12\">3 months (12 weeks)</option>\n      <option value=\"24\">6 months</option>\n    </select>\n  </div>\n\n  <div class=\"form-group\">\n    <label for=\"startDate\">When do you need to start?</label>\n    <input type=\"date\" id=\"startDate\">\n  </div>\n\n  <!-- Eligible feedback -->\n  <div class=\"feedback eligible\" id=\"feedbackEligible\">\n    <div class=\"feedback-row\">\n      <span class=\"feedback-icon\">&#10003;</span>\n      <div class=\"feedback-text\">\n        <strong>We have options for that.</strong> Your timeline fits our service. Explore listings that match your schedule.\n      </div>\n    </div>\n  </div>\n\n  <!-- Ineligible feedback -->\n  <div class=\"feedback ineligible\" id=\"feedbackIneligible\">\n    <div class=\"feedback-row\">\n      <span class=\"feedback-icon\">&#8599;</span>\n      <div class=\"feedback-text\">\n        <strong>Your stay is shorter than our minimum.</strong> We require at least 6 weeks. See what matches if your plans change.\n      </div>\n    </div>\n    <div class=\"feedback-compare\">\n      <span class=\"yours\">Your need: <strong id=\"userDuration\">4 wks</strong></span>\n      <span class=\"minimum\">Our min: <strong>6 wks</strong></span>\n    </div>\n  </div>\n\n  <button class=\"gate-cta explore\" id=\"ctaButton\">Explore options</button>\n</div>\n\n<script>\n  const durationSelect = document.getElementById('duration');\n  const startInput = document.getElementById('startDate');\n  const feedbackOk = document.getElementById('feedbackEligible');\n  const feedbackNo = document.getElementById('feedbackIneligible');\n  const ctaBtn = document.getElementById('ctaButton');\n  const userDur = document.getElementById('userDuration');\n\n  function evaluate() {\n    const weeks = parseInt(durationSelect.value);\n    if (!weeks) { feedbackOk.classList.remove('visible'); feedbackNo.classList.remove('visible'); ctaBtn.className = 'gate-cta explore'; ctaBtn.textContent = 'Explore options'; return; }\n    if (weeks >= 6) {\n      feedbackOk.classList.add('visible');\n      feedbackNo.classList.remove('visible');\n      ctaBtn.className = 'gate-cta explore';\n      ctaBtn.textContent = 'Explore options';\n    } else {\n      feedbackNo.classList.add('visible');\n      feedbackOk.classList.remove('visible');\n      userDur.textContent = weeks + ' wks';\n      ctaBtn.className = 'gate-cta redirect';\n      ctaBtn.textContent = 'See alternatives';\n    }\n  }\n\n  durationSelect.addEventListener('change', evaluate);\n  startInput.addEventListener('change', evaluate);\n</script>\n</body>\n</html>"
    },
    {
      "id": "ds-ui-1103-002",
      "title": "Dead-End Redirect Card",
      "description": "A structured three-tier redirect card shown when a prospect is confirmed ineligible. Tier 1 diagnoses the specific mismatch in concrete terms. Tier 2 reframes with the nearest viable alternative and a count. Tier 3 captures the prospect's email for future re-engagement. Replaces the verbal dead end from Sophie's call ('That's unfortunate that we cannot help you') with a designed, value-capturing path. Implements the Nudge 'Expect Error' principle: ineligible arrivals are predictable system events, not failures.",
      "journey_phase": "discovery",
      "type": "ui_element",
      "priority": "high",
      "layer_sources": ["works-002", "communicates-002", "looks-002", "behaves-002", "feels-002"],
      "evidence": {
        "call_quote": "That's unfortunate that we cannot help you. It's I'm sorry if you ever need something in this type of arrangement, but it was a little more lead time. We'll be happy to help you.",
        "call_source": "Sophie Charvet - 18 April 2022.txt, 1:25-1:38",
        "book_quote": "Humans make mistakes. A well-designed system expects its users to err and is as forgiving as possible.",
        "book_source": "nudge-choice-architecture.txt, Expect Error"
      },
      "html_css": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>Dead-End Redirect Card</title>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500&display=swap\" rel=\"stylesheet\">\n<style>\n  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }\n  body { font-family: 'Inter', -apple-system, sans-serif; background: #f9fafb; display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 24px; }\n\n  .redirect-card {\n    max-width: 440px;\n    width: 100%;\n    background: rgb(252, 250, 255);\n    border: 1px solid #E7E0EC;\n    border-radius: 12px;\n    padding: 32px;\n    box-shadow: 0 2px 8px rgba(49, 19, 93, 0.06);\n  }\n\n  /* Tier 1: Diagnosis */\n  .tier-diagnosis {\n    margin-bottom: 24px;\n  }\n\n  .tier-diagnosis h3 {\n    font-family: 'DM Sans', sans-serif;\n    font-size: 16px;\n    font-weight: 700;\n    color: #31135D;\n    margin-bottom: 12px;\n  }\n\n  .mismatch-compare {\n    display: flex;\n    gap: 12px;\n    align-items: center;\n  }\n\n  .mismatch-block {\n    flex: 1;\n    background: #ffffff;\n    border-radius: 8px;\n    padding: 12px 14px;\n    border: 1px solid #e5e7eb;\n  }\n\n  .mismatch-block .label {\n    font-size: 11px;\n    font-weight: 500;\n    color: #6b7280;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    margin-bottom: 4px;\n  }\n\n  .mismatch-block .value {\n    font-family: 'IBM Plex Mono', monospace;\n    font-size: 16px;\n    font-weight: 500;\n  }\n\n  .mismatch-block.yours .value { color: #C4841D; }\n  .mismatch-block.ours .value { color: #31135D; }\n\n  .mismatch-arrow {\n    color: #9ca3af;\n    font-size: 18px;\n    flex-shrink: 0;\n  }\n\n  /* Tier 2: Reframe */\n  .tier-reframe {\n    margin-bottom: 24px;\n    padding: 16px;\n    background: #ffffff;\n    border-radius: 8px;\n    border: 1px solid #e5e7eb;\n  }\n\n  .tier-reframe p {\n    font-size: 14px;\n    color: #374151;\n    line-height: 1.5;\n  }\n\n  .tier-reframe .count {\n    font-family: 'IBM Plex Mono', monospace;\n    font-weight: 600;\n    color: rgb(109, 49, 194);\n  }\n\n  .tier-reframe .adjust-hint {\n    font-size: 12px;\n    color: #6b7280;\n    margin-top: 8px;\n  }\n\n  /* Tier 3: Future Capture */\n  .tier-capture {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n  }\n\n  .tier-capture p {\n    font-size: 13px;\n    color: #374151;\n    line-height: 1.4;\n  }\n\n  .capture-row {\n    display: flex;\n    gap: 8px;\n  }\n\n  .capture-row input {\n    flex: 1;\n    height: 42px;\n    padding: 0 12px;\n    font-family: 'Inter', sans-serif;\n    font-size: 14px;\n    color: #1a1a1a;\n    background: #ffffff;\n    border: 1px solid #e5e7eb;\n    border-radius: 6px;\n    outline: none;\n    transition: border-color 0.2s ease;\n  }\n\n  .capture-row input:focus {\n    border-color: rgb(109, 49, 194);\n    box-shadow: 0 0 0 3px rgba(109, 49, 194, 0.1);\n  }\n\n  .capture-row input::placeholder {\n    color: #9ca3af;\n  }\n\n  .capture-btn {\n    height: 42px;\n    padding: 0 20px;\n    border: none;\n    border-radius: 20px;\n    background: #31135D;\n    color: #ffffff;\n    font-family: 'Inter', sans-serif;\n    font-size: 13px;\n    font-weight: 600;\n    cursor: pointer;\n    white-space: nowrap;\n    transition: background 0.1s ease;\n  }\n\n  .capture-btn:hover { background: #251047; }\n\n  /* Success state */\n  .capture-success {\n    display: none;\n    align-items: center;\n    gap: 8px;\n    padding: 10px 14px;\n    background: #F0EBFF;\n    border-radius: 8px;\n    font-size: 13px;\n    font-weight: 500;\n    color: #31135D;\n  }\n\n  .capture-success .check {\n    color: rgb(109, 49, 194);\n    font-size: 16px;\n  }\n\n  .divider {\n    height: 1px;\n    background: #E7E0EC;\n    margin: 20px 0;\n  }\n\n  .share-link {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    font-size: 12px;\n    color: rgb(109, 49, 194);\n    cursor: pointer;\n    text-decoration: none;\n    margin-top: 8px;\n  }\n\n  .share-link:hover { text-decoration: underline; }\n\n  @media (prefers-reduced-motion: reduce) {\n    * { transition: none !important; }\n  }\n</style>\n</head>\n<body>\n<div class=\"redirect-card\">\n  <!-- Tier 1: Diagnosis -->\n  <div class=\"tier-diagnosis\">\n    <h3>Your timeline does not match our service</h3>\n    <div class=\"mismatch-compare\">\n      <div class=\"mismatch-block yours\">\n        <div class=\"label\">Your need</div>\n        <div class=\"value\">1 month</div>\n      </div>\n      <span class=\"mismatch-arrow\">&rarr;</span>\n      <div class=\"mismatch-block ours\">\n        <div class=\"label\">Our minimum</div>\n        <div class=\"value\">6 weeks</div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Tier 2: Reframe -->\n  <div class=\"tier-reframe\">\n    <p>If your timing changes, we have <span class=\"count\">12 options</span> in New York for 6+ week stays starting in June.</p>\n    <p class=\"adjust-hint\">Extending to 6 weeks would unlock listings in your area.</p>\n  </div>\n\n  <!-- Tier 3: Future Capture -->\n  <div class=\"tier-capture\">\n    <p>Want us to let you know when shorter stays open up in your area?</p>\n    <div class=\"capture-row\" id=\"captureForm\">\n      <input type=\"email\" placeholder=\"Your email\" id=\"emailInput\">\n      <button class=\"capture-btn\" id=\"captureBtn\" onclick=\"handleCapture()\">Notify me</button>\n    </div>\n    <div class=\"capture-success\" id=\"captureSuccess\">\n      <span class=\"check\">&#10003;</span>\n      Saved &mdash; we will reach out when options match.\n    </div>\n  </div>\n\n  <div class=\"divider\"></div>\n\n  <a class=\"share-link\" href=\"#\" onclick=\"return false;\">&#8599; Know someone who commutes weekly? Share Split Lease</a>\n</div>\n\n<script>\n  function handleCapture() {\n    const email = document.getElementById('emailInput').value;\n    if (email && email.includes('@')) {\n      document.getElementById('captureForm').style.display = 'none';\n      document.getElementById('captureSuccess').style.display = 'flex';\n    }\n  }\n</script>\n</body>\n</html>"
    },
    {
      "id": "ds-ui-1103-003",
      "title": "Co-Tenancy Schedule Calendar",
      "description": "An interactive weekly calendar visualization that replaces the agent's incomprehensible verbal explanation of the co-tenancy model. Shows guest days in active purple and co-tenant days in neutral gray, making the schedule split tangible at a glance. Each day responds to hover/tap with arrival and departure details. Implements Thaler/Sunstein's 'free taste' principle: the guest experiences the arrangement concretely before committing, just as the ice cream shop lets you taste before buying.",
      "journey_phase": "listing_evaluation",
      "type": "ui_element",
      "priority": "high",
      "layer_sources": ["works-004", "communicates-003", "looks-003", "behaves-003", "feels-003"],
      "evidence": {
        "call_quote": "The way we do it with the two people was complimentary schedule. So let's say for example, somebody needs Monday through Friday and somebody else needs Friday. So Monday they become, goes to amaze, which use the same space, but in different timeframes.",
        "call_source": "Sophie Charvet - 18 April 2022.txt, 2:10-2:33",
        "book_quote": "Even if there are some exotic flavors, the ice cream store can solve the mapping problem by offering a free taste.",
        "book_source": "nudge-choice-architecture.txt, Understanding Mappings"
      },
      "html_css": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>Co-Tenancy Schedule Calendar</title>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500&display=swap\" rel=\"stylesheet\">\n<style>\n  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }\n  body { font-family: 'Inter', -apple-system, sans-serif; background: #f9fafb; display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 24px; }\n\n  .calendar-card {\n    max-width: 480px;\n    width: 100%;\n    background: #ffffff;\n    border-radius: 12px;\n    border: 1px solid #e5e7eb;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n    padding: 28px;\n  }\n\n  .calendar-header {\n    margin-bottom: 20px;\n  }\n\n  .calendar-header h3 {\n    font-family: 'DM Sans', sans-serif;\n    font-size: 18px;\n    font-weight: 700;\n    color: #31135D;\n    margin-bottom: 4px;\n  }\n\n  .calendar-header p {\n    font-size: 13px;\n    color: #6b7280;\n    line-height: 1.4;\n  }\n\n  .week-grid {\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    gap: 8px;\n    margin-bottom: 16px;\n  }\n\n  .day-cell {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 6px;\n    cursor: pointer;\n    padding: 4px 0;\n  }\n\n  .day-label {\n    font-size: 11px;\n    font-weight: 500;\n    color: #6b7280;\n    text-transform: uppercase;\n    letter-spacing: 0.3px;\n  }\n\n  .day-circle {\n    width: 48px;\n    height: 48px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 13px;\n    font-weight: 600;\n    transition: transform 0.1s ease, box-shadow 0.15s ease;\n    position: relative;\n  }\n\n  .day-circle.guest {\n    background: rgb(109, 49, 194);\n    color: #ffffff;\n    box-shadow: 0 2px 4px rgba(49, 19, 93, 0.2);\n  }\n\n  .day-circle.cotenant {\n    background: #f3f4f6;\n    color: #9ca3af;\n    border: 1px solid #e5e7eb;\n  }\n\n  .day-cell:hover .day-circle.guest {\n    transform: scale(1.08);\n    box-shadow: 0 4px 8px rgba(49, 19, 93, 0.3);\n  }\n\n  .day-cell:hover .day-circle.cotenant {\n    transform: scale(1.05);\n    border-color: #d1d5db;\n  }\n\n  /* Legend */\n  .legend {\n    display: flex;\n    gap: 20px;\n    margin-bottom: 20px;\n  }\n\n  .legend-item {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    font-size: 12px;\n    color: #374151;\n  }\n\n  .legend-dot {\n    width: 12px;\n    height: 12px;\n    border-radius: 50%;\n  }\n\n  .legend-dot.guest { background: rgb(109, 49, 194); }\n  .legend-dot.cotenant { background: #f3f4f6; border: 1px solid #e5e7eb; }\n\n  /* Detail tooltip */\n  .day-detail {\n    background: #ffffff;\n    border: 1px solid #E7E0EC;\n    border-radius: 8px;\n    padding: 14px 16px;\n    box-shadow: 0 4px 12px rgba(49, 19, 93, 0.1);\n    opacity: 0;\n    transform: translateY(4px);\n    transition: opacity 0.15s cubic-bezier(0.16, 1, 0.3, 1), transform 0.15s cubic-bezier(0.16, 1, 0.3, 1);\n    pointer-events: none;\n    min-height: 64px;\n  }\n\n  .day-detail.visible {\n    opacity: 1;\n    transform: translateY(0);\n    pointer-events: auto;\n  }\n\n  .day-detail .detail-day {\n    font-family: 'DM Sans', sans-serif;\n    font-weight: 700;\n    font-size: 14px;\n    color: #31135D;\n    margin-bottom: 4px;\n  }\n\n  .day-detail .detail-info {\n    font-size: 13px;\n    color: #374151;\n    line-height: 1.4;\n  }\n\n  .day-detail .detail-info.muted {\n    color: #9ca3af;\n    font-style: italic;\n  }\n\n  /* What to expect narrative */\n  .narrative {\n    background: rgb(252, 250, 255);\n    border: 1px solid #E7E0EC;\n    border-radius: 8px;\n    padding: 14px 16px;\n    margin-top: 16px;\n  }\n\n  .narrative p {\n    font-size: 13px;\n    color: #374151;\n    line-height: 1.6;\n  }\n\n  .narrative strong { color: #31135D; }\n\n  @media (prefers-reduced-motion: reduce) {\n    .day-circle, .day-detail { transition: none !important; }\n  }\n</style>\n</head>\n<body>\n<div class=\"calendar-card\">\n  <div class=\"calendar-header\">\n    <h3>Your weekly schedule</h3>\n    <p>This listing operates on a split schedule. See which days are yours.</p>\n  </div>\n\n  <div class=\"week-grid\">\n    <div class=\"day-cell\" data-day=\"mon\" data-type=\"guest\">\n      <span class=\"day-label\">Mon</span>\n      <div class=\"day-circle guest\">M</div>\n    </div>\n    <div class=\"day-cell\" data-day=\"tue\" data-type=\"guest\">\n      <span class=\"day-label\">Tue</span>\n      <div class=\"day-circle guest\">T</div>\n    </div>\n    <div class=\"day-cell\" data-day=\"wed\" data-type=\"guest\">\n      <span class=\"day-label\">Wed</span>\n      <div class=\"day-circle guest\">W</div>\n    </div>\n    <div class=\"day-cell\" data-day=\"thu\" data-type=\"guest\">\n      <span class=\"day-label\">Thu</span>\n      <div class=\"day-circle guest\">T</div>\n    </div>\n    <div class=\"day-cell\" data-day=\"fri\" data-type=\"guest\">\n      <span class=\"day-label\">Fri</span>\n      <div class=\"day-circle guest\">F</div>\n    </div>\n    <div class=\"day-cell\" data-day=\"sat\" data-type=\"cotenant\">\n      <span class=\"day-label\">Sat</span>\n      <div class=\"day-circle cotenant\">S</div>\n    </div>\n    <div class=\"day-cell\" data-day=\"sun\" data-type=\"cotenant\">\n      <span class=\"day-label\">Sun</span>\n      <div class=\"day-circle cotenant\">S</div>\n    </div>\n  </div>\n\n  <div class=\"legend\">\n    <div class=\"legend-item\"><div class=\"legend-dot guest\"></div>Your days</div>\n    <div class=\"legend-item\"><div class=\"legend-dot cotenant\"></div>Other guest</div>\n  </div>\n\n  <div class=\"day-detail\" id=\"dayDetail\">\n    <div class=\"detail-day\" id=\"detailDay\"></div>\n    <div class=\"detail-info\" id=\"detailInfo\"></div>\n  </div>\n\n  <div class=\"narrative\">\n    <p><strong>Your week:</strong> Arrive Monday by 6 pm. The space is set up for you through Friday morning. Check out by 10 am Friday. Your belongings stay in your private storage area over the weekend.</p>\n  </div>\n</div>\n\n<script>\n  const details = {\n    mon: { day: 'Monday', info: 'You arrive by 6 pm. The space is freshly prepared for you.', type: 'guest' },\n    tue: { day: 'Tuesday', info: 'Full day access. The space is yours.', type: 'guest' },\n    wed: { day: 'Wednesday', info: 'Full day access. The space is yours.', type: 'guest' },\n    thu: { day: 'Thursday', info: 'Full day access. Your last evening before checkout.', type: 'guest' },\n    fri: { day: 'Friday', info: 'Check out by 10 am. Leave the space tidy for the transition.', type: 'guest' },\n    sat: { day: 'Saturday', info: 'The other guest uses the space. You are off-site.', type: 'cotenant' },\n    sun: { day: 'Sunday', info: 'The other guest uses the space. You are off-site.', type: 'cotenant' }\n  };\n\n  const detailEl = document.getElementById('dayDetail');\n  const detailDay = document.getElementById('detailDay');\n  const detailInfo = document.getElementById('detailInfo');\n\n  document.querySelectorAll('.day-cell').forEach(cell => {\n    cell.addEventListener('mouseenter', () => {\n      const d = details[cell.dataset.day];\n      detailDay.textContent = d.day;\n      detailInfo.textContent = d.info;\n      detailInfo.className = d.type === 'cotenant' ? 'detail-info muted' : 'detail-info';\n      detailEl.classList.add('visible');\n    });\n    cell.addEventListener('mouseleave', () => {\n      detailEl.classList.remove('visible');\n    });\n    cell.addEventListener('click', () => {\n      const d = details[cell.dataset.day];\n      detailDay.textContent = d.day;\n      detailInfo.textContent = d.info;\n      detailInfo.className = d.type === 'cotenant' ? 'detail-info muted' : 'detail-info';\n      detailEl.classList.toggle('visible');\n    });\n  });\n</script>\n</body>\n</html>"
    },
    {
      "id": "ds-ui-1103-004",
      "title": "Smart Default Proposal Form",
      "description": "A proposal form pre-populated with smart defaults derived from the guest's search behavior and the listing's most common successful configuration. Transforms the proposal experience from blank-slate paralysis (the chef asking the diner to write the recipe) to prompted confirmation (the chef's recommendation that the diner can adjust). Pre-filled values appear in a visually muted state with source labels; edited values shift to full prominence. Implements Thaler/Sunstein's defaults principle: the path of least resistance becomes submitting a viable proposal rather than abandoning an empty form.",
      "journey_phase": "proposal_creation",
      "type": "ui_element",
      "priority": "high",
      "layer_sources": ["works-005", "communicates-004", "looks-004", "behaves-004", "feels-004"],
      "evidence": {
        "call_quote": "I don't think we can help you with anything, um, before like three weeks. So is that the minimum commitment we require is minimum six weeks after that? Is that something which is going to work for you?",
        "call_source": "Sophie Charvet - 18 April 2022.txt, 0:45-1:00",
        "book_quote": "Many people will take whatever option requires the least effort, or the path of least resistance... if, for a given choice, there is a default option, then we can usually expect a large number of people to end up with that option.",
        "book_source": "nudge-choice-architecture.txt, Defaults"
      },
      "html_css": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>Smart Default Proposal Form</title>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap\" rel=\"stylesheet\">\n<style>\n  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }\n  body { font-family: 'Inter', -apple-system, sans-serif; background: #f9fafb; display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 24px; }\n\n  .proposal-card {\n    max-width: 460px;\n    width: 100%;\n    background: #ffffff;\n    border-radius: 12px;\n    border: 1px solid #e5e7eb;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n    overflow: hidden;\n  }\n\n  .proposal-header {\n    padding: 24px 28px 16px;\n    border-bottom: 1px solid #f3f4f6;\n  }\n\n  .proposal-header h3 {\n    font-family: 'DM Sans', sans-serif;\n    font-size: 18px;\n    font-weight: 700;\n    color: #31135D;\n    margin-bottom: 4px;\n  }\n\n  .proposal-header p {\n    font-size: 13px;\n    color: #6b7280;\n    line-height: 1.4;\n  }\n\n  .proposal-body {\n    padding: 20px 28px;\n  }\n\n  .field-group {\n    margin-bottom: 18px;\n    position: relative;\n  }\n\n  .field-group label {\n    display: block;\n    font-size: 12px;\n    font-weight: 600;\n    color: #374151;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    margin-bottom: 6px;\n  }\n\n  .field-value {\n    width: 100%;\n    height: 42px;\n    padding: 0 12px;\n    font-family: 'Inter', sans-serif;\n    font-size: 14px;\n    background: #ffffff;\n    border: 1px solid #e5e7eb;\n    border-radius: 6px;\n    outline: none;\n    transition: border-color 0.2s ease, color 0.2s ease;\n  }\n\n  .field-value.defaulted {\n    color: #6b7280;\n    font-style: italic;\n  }\n\n  .field-value.edited {\n    color: #1a1a1a;\n    font-style: normal;\n    border-color: rgb(109, 49, 194);\n  }\n\n  .field-value:focus {\n    border-color: rgb(109, 49, 194);\n    box-shadow: 0 0 0 3px rgba(109, 49, 194, 0.1);\n  }\n\n  .field-hint {\n    font-size: 11px;\n    color: #9ca3af;\n    margin-top: 4px;\n    transition: color 0.2s ease;\n  }\n\n  .field-hint.custom {\n    color: rgb(109, 49, 194);\n    font-style: normal;\n  }\n\n  /* Day selector row */\n  .day-selector {\n    display: flex;\n    gap: 6px;\n    margin-top: 6px;\n  }\n\n  .day-btn {\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 12px;\n    font-weight: 600;\n    cursor: pointer;\n    border: none;\n    transition: all 0.1s ease;\n  }\n\n  .day-btn.active {\n    background: rgb(109, 49, 194);\n    color: #ffffff;\n    box-shadow: 0 2px 4px rgba(49, 19, 93, 0.2);\n  }\n\n  .day-btn.inactive {\n    background: #f3f4f6;\n    color: #9ca3af;\n  }\n\n  .day-btn:hover {\n    transform: scale(1.08);\n  }\n\n  /* Price summary */\n  .price-summary {\n    background: rgb(252, 250, 255);\n    border: 1px solid #E7E0EC;\n    border-radius: 8px;\n    padding: 16px;\n    margin-top: 8px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .price-label {\n    font-size: 13px;\n    color: #374151;\n  }\n\n  .price-label span {\n    display: block;\n    font-size: 11px;\n    color: #9ca3af;\n    margin-top: 2px;\n  }\n\n  .price-value {\n    font-family: 'IBM Plex Mono', monospace;\n    font-size: 22px;\n    font-weight: 600;\n    color: #31135D;\n  }\n\n  /* Submit */\n  .proposal-footer {\n    padding: 16px 28px 24px;\n  }\n\n  .submit-btn {\n    width: 100%;\n    height: 48px;\n    border: none;\n    border-radius: 24px;\n    background: rgb(109, 49, 194);\n    color: #ffffff;\n    font-family: 'Inter', sans-serif;\n    font-size: 15px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: background 0.1s ease;\n  }\n\n  .submit-btn:hover {\n    background: rgb(140, 104, 238);\n  }\n\n  /* Confirmation state */\n  .confirm-state {\n    display: none;\n    text-align: center;\n    padding: 32px 28px;\n  }\n\n  .confirm-state .check-icon {\n    width: 56px;\n    height: 56px;\n    border-radius: 50%;\n    background: #F0EBFF;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 24px;\n    color: rgb(109, 49, 194);\n    margin-bottom: 12px;\n  }\n\n  .confirm-state h4 {\n    font-family: 'DM Sans', sans-serif;\n    font-size: 16px;\n    font-weight: 700;\n    color: #31135D;\n    margin-bottom: 4px;\n  }\n\n  .confirm-state p {\n    font-size: 13px;\n    color: #6b7280;\n  }\n\n  @media (prefers-reduced-motion: reduce) {\n    * { transition: none !important; }\n  }\n</style>\n</head>\n<body>\n<div class=\"proposal-card\">\n  <div class=\"proposal-header\">\n    <h3>Your proposal</h3>\n    <p>Pre-filled based on your search. Adjust anything that does not fit.</p>\n  </div>\n\n  <div class=\"proposal-body\" id=\"formBody\">\n    <div class=\"field-group\">\n      <label>Start date</label>\n      <input type=\"date\" class=\"field-value defaulted\" value=\"2026-04-06\" id=\"startDate\" onfocus=\"markEdited(this)\">\n      <div class=\"field-hint\" id=\"startHint\">Based on your search</div>\n    </div>\n\n    <div class=\"field-group\">\n      <label>Duration</label>\n      <select class=\"field-value defaulted\" id=\"duration\" onfocus=\"markEdited(this)\" onchange=\"updatePrice()\">\n        <option value=\"6\">6 weeks</option>\n        <option value=\"8\" selected>8 weeks</option>\n        <option value=\"10\">10 weeks</option>\n        <option value=\"12\">12 weeks</option>\n        <option value=\"16\">16 weeks</option>\n      </select>\n      <div class=\"field-hint\" id=\"durationHint\">Most common at this listing</div>\n    </div>\n\n    <div class=\"field-group\">\n      <label>Your days</label>\n      <div class=\"day-selector\">\n        <button class=\"day-btn active\" data-day=\"M\">M</button>\n        <button class=\"day-btn active\" data-day=\"T\">T</button>\n        <button class=\"day-btn active\" data-day=\"W\">W</button>\n        <button class=\"day-btn active\" data-day=\"T\">T</button>\n        <button class=\"day-btn active\" data-day=\"F\">F</button>\n        <button class=\"day-btn inactive\" data-day=\"S\">S</button>\n        <button class=\"day-btn inactive\" data-day=\"S\">S</button>\n      </div>\n      <div class=\"field-hint\">Mon&ndash;Fri &middot; Based on your search</div>\n    </div>\n\n    <div class=\"price-summary\">\n      <div class=\"price-label\">\n        Estimated total\n        <span>8 weeks &times; 5 days/wk</span>\n      </div>\n      <div class=\"price-value\" id=\"priceValue\">$2,960</div>\n    </div>\n  </div>\n\n  <div class=\"proposal-footer\" id=\"formFooter\">\n    <button class=\"submit-btn\" onclick=\"submitProposal()\">Send proposal</button>\n  </div>\n\n  <div class=\"confirm-state\" id=\"confirmState\">\n    <div class=\"check-icon\">&#10003;</div>\n    <h4>Proposal sent</h4>\n    <p>Your Mon&ndash;Fri proposal for 8 weeks has been sent to the host. You will hear back within 48 hours.</p>\n  </div>\n</div>\n\n<script>\n  function markEdited(el) {\n    el.classList.remove('defaulted');\n    el.classList.add('edited');\n    const hint = el.parentElement.querySelector('.field-hint');\n    if (hint && !hint.classList.contains('custom')) {\n      hint.textContent = 'Custom';\n      hint.classList.add('custom');\n    }\n  }\n\n  const prices = { 6: '$2,220', 8: '$2,960', 10: '$3,700', 12: '$4,440', 16: '$5,920' };\n  function updatePrice() {\n    const dur = document.getElementById('duration').value;\n    document.getElementById('priceValue').textContent = prices[dur] || '$2,960';\n    markEdited(document.getElementById('duration'));\n  }\n\n  document.querySelectorAll('.day-btn').forEach(btn => {\n    btn.addEventListener('click', () => {\n      btn.classList.toggle('active');\n      btn.classList.toggle('inactive');\n    });\n  });\n\n  function submitProposal() {\n    document.getElementById('formBody').style.display = 'none';\n    document.getElementById('formFooter').style.display = 'none';\n    document.getElementById('confirmState').style.display = 'block';\n  }\n</script>\n</body>\n</html>"
    },
    {
      "id": "ds-ui-1103-005",
      "title": "Counter-Proposal Change Diff",
      "description": "A diff view that shows exactly what the host changed in their counter-proposal, displayed as before/after comparisons with only modified parameters expanded and unchanged parameters collapsed. Prevents the guest from misinterpreting a counter as a rejection. Implements the Nudge Give Feedback principle: the system provides specific, actionable feedback about what changed and what the guest should do, avoiding 'warning fatigue' from generic notifications.",
      "journey_phase": "negotiation",
      "type": "ui_element",
      "priority": "medium",
      "layer_sources": ["behaves-005", "communicates-004", "feels-004"],
      "evidence": {
        "call_quote": "So is that the minimum commitment we require is minimum six weeks after that? Is that something which is going to work for you?",
        "call_source": "Sophie Charvet - 18 April 2022.txt, 0:45-1:00",
        "book_quote": "Warning systems have to avoid the problem of offering so many warnings that they are ignored.",
        "book_source": "nudge-choice-architecture.txt, Give Feedback"
      },
      "html_css": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>Counter-Proposal Change Diff</title>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap\" rel=\"stylesheet\">\n<style>\n  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }\n  body { font-family: 'Inter', -apple-system, sans-serif; background: #f9fafb; display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 24px; }\n\n  .diff-card {\n    max-width: 460px;\n    width: 100%;\n    background: #ffffff;\n    border-radius: 12px;\n    border: 1px solid #e5e7eb;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n    overflow: hidden;\n  }\n\n  .diff-header {\n    background: rgb(252, 250, 255);\n    padding: 20px 24px;\n    border-bottom: 1px solid #E7E0EC;\n  }\n\n  .diff-header h3 {\n    font-family: 'DM Sans', sans-serif;\n    font-size: 16px;\n    font-weight: 700;\n    color: #31135D;\n    margin-bottom: 2px;\n  }\n\n  .diff-header p {\n    font-size: 13px;\n    color: #6b7280;\n  }\n\n  .diff-body {\n    padding: 20px 24px;\n  }\n\n  .diff-section-label {\n    font-size: 11px;\n    font-weight: 600;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    color: #C4841D;\n    margin-bottom: 12px;\n  }\n\n  /* Changed parameter row */\n  .diff-row {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: 12px 0;\n    border-bottom: 1px solid #f3f4f6;\n  }\n\n  .diff-row:last-child { border-bottom: none; }\n\n  .diff-param-name {\n    font-size: 12px;\n    font-weight: 500;\n    color: #6b7280;\n    min-width: 80px;\n  }\n\n  .diff-before {\n    font-family: 'IBM Plex Mono', monospace;\n    font-size: 13px;\n    color: #9ca3af;\n    text-decoration: line-through;\n    min-width: 90px;\n  }\n\n  .diff-arrow {\n    color: #d1d5db;\n    font-size: 14px;\n    flex-shrink: 0;\n  }\n\n  .diff-after {\n    font-family: 'IBM Plex Mono', monospace;\n    font-size: 13px;\n    font-weight: 500;\n    color: rgb(109, 49, 194);\n    min-width: 90px;\n  }\n\n  /* Unchanged summary */\n  .unchanged-summary {\n    padding: 12px 0;\n    font-size: 12px;\n    color: #9ca3af;\n    font-style: italic;\n  }\n\n  /* Price impact */\n  .price-impact {\n    margin-top: 16px;\n    padding: 14px 16px;\n    background: rgb(252, 250, 255);\n    border: 1px solid #E7E0EC;\n    border-radius: 8px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .price-impact-label {\n    font-size: 13px;\n    color: #374151;\n  }\n\n  .price-impact-value {\n    font-family: 'IBM Plex Mono', monospace;\n    font-size: 16px;\n    font-weight: 600;\n    color: #C4841D;\n  }\n\n  /* Action buttons */\n  .diff-actions {\n    padding: 16px 24px 24px;\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n  }\n\n  .action-btn {\n    width: 100%;\n    height: 44px;\n    border-radius: 22px;\n    font-family: 'Inter', sans-serif;\n    font-size: 14px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.1s ease;\n    border: none;\n  }\n\n  .action-btn.primary {\n    background: rgb(109, 49, 194);\n    color: #ffffff;\n  }\n  .action-btn.primary:hover { background: rgb(140, 104, 238); }\n\n  .action-btn.secondary {\n    background: #f3f4f6;\n    color: #374151;\n  }\n  .action-btn.secondary:hover { background: #e5e7eb; }\n\n  .action-btn.tertiary {\n    background: transparent;\n    color: #6b7280;\n    height: 36px;\n    font-weight: 500;\n    font-size: 13px;\n  }\n  .action-btn.tertiary:hover { color: #374151; }\n\n  /* Undo bar */\n  .undo-bar {\n    display: none;\n    text-align: center;\n    padding: 12px 24px;\n    background: #F0EBFF;\n    font-size: 13px;\n    color: #31135D;\n  }\n\n  .undo-bar a {\n    color: rgb(109, 49, 194);\n    font-weight: 600;\n    cursor: pointer;\n    text-decoration: underline;\n  }\n\n  .undo-progress {\n    height: 3px;\n    background: rgba(109, 49, 194, 0.2);\n    margin-top: 8px;\n    border-radius: 2px;\n    overflow: hidden;\n  }\n\n  .undo-progress-fill {\n    height: 100%;\n    background: rgb(109, 49, 194);\n    width: 100%;\n    transition: width 5s linear;\n  }\n\n  @media (prefers-reduced-motion: reduce) {\n    * { transition: none !important; }\n  }\n</style>\n</head>\n<body>\n<div class=\"diff-card\">\n  <div class=\"diff-header\">\n    <h3>The host adjusted your proposal</h3>\n    <p>Review the changes and decide how to proceed.</p>\n  </div>\n\n  <div class=\"diff-body\" id=\"diffBody\">\n    <div class=\"diff-section-label\">Changed</div>\n\n    <div class=\"diff-row\">\n      <span class=\"diff-param-name\">Start date</span>\n      <span class=\"diff-before\">Apr 6</span>\n      <span class=\"diff-arrow\">&rarr;</span>\n      <span class=\"diff-after\">Apr 13</span>\n    </div>\n\n    <div class=\"diff-row\">\n      <span class=\"diff-param-name\">Duration</span>\n      <span class=\"diff-before\">8 weeks</span>\n      <span class=\"diff-arrow\">&rarr;</span>\n      <span class=\"diff-after\">10 weeks</span>\n    </div>\n\n    <div class=\"unchanged-summary\">3 parameters unchanged (days, schedule, location)</div>\n\n    <div class=\"price-impact\">\n      <span class=\"price-impact-label\">Price impact</span>\n      <span class=\"price-impact-value\">+$740</span>\n    </div>\n  </div>\n\n  <div class=\"diff-actions\" id=\"diffActions\">\n    <button class=\"action-btn primary\" onclick=\"acceptChanges()\">Accept changes</button>\n    <button class=\"action-btn secondary\">Modify and re-send</button>\n    <button class=\"action-btn tertiary\">Keep my original terms</button>\n  </div>\n\n  <div class=\"undo-bar\" id=\"undoBar\">\n    Changes accepted. <a onclick=\"undoAccept()\">Undo</a>\n    <div class=\"undo-progress\"><div class=\"undo-progress-fill\" id=\"undoFill\"></div></div>\n  </div>\n</div>\n\n<script>\n  function acceptChanges() {\n    document.getElementById('diffActions').style.display = 'none';\n    const bar = document.getElementById('undoBar');\n    bar.style.display = 'block';\n    const fill = document.getElementById('undoFill');\n    requestAnimationFrame(() => { fill.style.width = '0%'; });\n    setTimeout(() => { bar.innerHTML = '<span style=\"color:#31135D;\">&#10003; Terms updated. You are all set.</span>'; }, 5000);\n  }\n  function undoAccept() {\n    document.getElementById('undoBar').style.display = 'none';\n    document.getElementById('diffActions').style.display = 'flex';\n    document.getElementById('undoFill').style.transition = 'none';\n    document.getElementById('undoFill').style.width = '100%';\n  }\n</script>\n</body>\n</html>"
    },
    {
      "id": "ds-ui-1103-006",
      "title": "Post-Acceptance Checkpoint Flow",
      "description": "A sequential three-step forcing-function checkpoint flow for the acceptance-to-move-in transition. Each checkpoint is a compact card (5 key points, under 15 words each) gated behind acknowledgment of the previous step. Prevents postcompletion errors (Thaler/Sunstein's 'gas cap' problem) by making critical follow-up steps unavoidable. Uses positive framing ('Got it, next step') rather than legal language. Progress bar with purple completion indicators builds a sense of accomplishment rather than bureaucratic burden.",
      "journey_phase": "acceptance",
      "type": "ui_element",
      "priority": "medium",
      "layer_sources": ["communicates-005", "looks-005", "behaves-006", "feels-005"],
      "evidence": {
        "call_quote": "This was just, uh, for the month of may actually.",
        "call_source": "Sophie Charvet - 18 April 2022.txt, 1:09",
        "book_quote": "Leaving the gas cap behind is a special kind of mistake psychologists call a postcompletion error. The idea is that when you have finished your main task, you tend to forget things relating to previous steps.",
        "book_source": "nudge-choice-architecture.txt, Expect Error"
      },
      "html_css": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>Post-Acceptance Checkpoint Flow</title>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500&display=swap\" rel=\"stylesheet\">\n<style>\n  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }\n  body { font-family: 'Inter', -apple-system, sans-serif; background: #f9fafb; display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 24px; }\n\n  .checkpoint-container {\n    max-width: 500px;\n    width: 100%;\n  }\n\n  /* Progress bar */\n  .progress-bar {\n    display: flex;\n    align-items: center;\n    gap: 0;\n    margin-bottom: 28px;\n    position: relative;\n  }\n\n  .progress-step {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1;\n    position: relative;\n    z-index: 1;\n  }\n\n  .step-circle {\n    width: 36px;\n    height: 36px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 13px;\n    font-weight: 600;\n    margin-bottom: 8px;\n    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);\n  }\n\n  .step-circle.completed {\n    background: rgb(109, 49, 194);\n    color: #ffffff;\n  }\n\n  .step-circle.current {\n    background: #ffffff;\n    border: 2px solid rgb(109, 49, 194);\n    color: rgb(109, 49, 194);\n  }\n\n  .step-circle.upcoming {\n    background: #f3f4f6;\n    color: #9ca3af;\n  }\n\n  .step-label {\n    font-size: 11px;\n    font-weight: 500;\n    color: #6b7280;\n    text-align: center;\n    max-width: 90px;\n  }\n\n  .step-label.active { color: #31135D; font-weight: 600; }\n\n  .progress-line {\n    position: absolute;\n    top: 18px;\n    left: 18%;\n    right: 18%;\n    height: 2px;\n    background: #e5e7eb;\n    z-index: 0;\n  }\n\n  .progress-line-fill {\n    height: 100%;\n    background: rgb(109, 49, 194);\n    width: 0%;\n    transition: width 0.4s cubic-bezier(0.16, 1, 0.3, 1);\n  }\n\n  /* Checkpoint card */\n  .checkpoint-card {\n    background: #ffffff;\n    border-radius: 12px;\n    border: 1px solid #e5e7eb;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n    padding: 24px;\n    display: none;\n  }\n\n  .checkpoint-card.active { display: block; }\n\n  .checkpoint-card h4 {\n    font-family: 'DM Sans', sans-serif;\n    font-size: 16px;\n    font-weight: 700;\n    color: #31135D;\n    margin-bottom: 16px;\n  }\n\n  .checkpoint-list {\n    list-style: none;\n    margin-bottom: 20px;\n  }\n\n  .checkpoint-list li {\n    padding: 8px 0;\n    font-size: 14px;\n    color: #374151;\n    line-height: 1.4;\n    border-bottom: 1px solid #f3f4f6;\n    display: flex;\n    align-items: flex-start;\n    gap: 10px;\n  }\n\n  .checkpoint-list li:last-child { border-bottom: none; }\n\n  .checkpoint-list li .bullet {\n    color: rgb(109, 49, 194);\n    font-size: 14px;\n    flex-shrink: 0;\n    margin-top: 2px;\n  }\n\n  .ack-btn {\n    width: 100%;\n    height: 44px;\n    border: none;\n    border-radius: 22px;\n    background: rgb(109, 49, 194);\n    color: #ffffff;\n    font-family: 'Inter', sans-serif;\n    font-size: 14px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: background 0.1s ease;\n  }\n\n  .ack-btn:hover { background: rgb(140, 104, 238); }\n\n  /* Final state */\n  .final-card {\n    background: #F0EBFF;\n    border-radius: 12px;\n    padding: 32px;\n    text-align: center;\n    display: none;\n  }\n\n  .final-card.active { display: block; }\n\n  .final-card .final-icon {\n    font-size: 32px;\n    color: rgb(109, 49, 194);\n    margin-bottom: 12px;\n  }\n\n  .final-card h3 {\n    font-family: 'DM Sans', sans-serif;\n    font-size: 20px;\n    font-weight: 700;\n    color: #31135D;\n    margin-bottom: 8px;\n  }\n\n  .final-card p {\n    font-size: 14px;\n    color: #374151;\n    line-height: 1.5;\n  }\n\n  .final-card .move-in-date {\n    font-family: 'IBM Plex Mono', monospace;\n    font-weight: 600;\n    color: #31135D;\n  }\n\n  @media (prefers-reduced-motion: reduce) {\n    * { transition: none !important; }\n  }\n</style>\n</head>\n<body>\n<div class=\"checkpoint-container\">\n  <!-- Progress bar -->\n  <div class=\"progress-bar\">\n    <div class=\"progress-line\"><div class=\"progress-line-fill\" id=\"progressFill\"></div></div>\n    <div class=\"progress-step\">\n      <div class=\"step-circle current\" id=\"step1\">1</div>\n      <span class=\"step-label active\" id=\"label1\">Lease Review</span>\n    </div>\n    <div class=\"progress-step\">\n      <div class=\"step-circle upcoming\" id=\"step2\">2</div>\n      <span class=\"step-label\" id=\"label2\">Payment</span>\n    </div>\n    <div class=\"progress-step\">\n      <div class=\"step-circle upcoming\" id=\"step3\">3</div>\n      <span class=\"step-label\" id=\"label3\">Move-In Prep</span>\n    </div>\n  </div>\n\n  <!-- Checkpoint 1: Lease Review -->\n  <div class=\"checkpoint-card active\" id=\"card1\">\n    <h4>Your lease at a glance</h4>\n    <ul class=\"checkpoint-list\">\n      <li><span class=\"bullet\">&#9679;</span>Mon&ndash;Fri schedule, 8 weeks starting Apr 13</li>\n      <li><span class=\"bullet\">&#9679;</span>Total cost: $2,960 paid biweekly ($740 per period)</li>\n      <li><span class=\"bullet\">&#9679;</span>$500 refundable security deposit due at signing</li>\n      <li><span class=\"bullet\">&#9679;</span>48-hour cancellation policy before move-in</li>\n      <li><span class=\"bullet\">&#9679;</span>House rules: quiet hours 10 pm&ndash;7 am, no smoking</li>\n    </ul>\n    <button class=\"ack-btn\" onclick=\"completeStep(1)\">Got it, next step</button>\n  </div>\n\n  <!-- Checkpoint 2: Payment -->\n  <div class=\"checkpoint-card\" id=\"card2\">\n    <h4>Confirm your payment</h4>\n    <ul class=\"checkpoint-list\">\n      <li><span class=\"bullet\">&#9679;</span>First payment of $740 due on Apr 13</li>\n      <li><span class=\"bullet\">&#9679;</span>Card ending in &bull;&bull;&bull;&bull; 4821 will be charged</li>\n      <li><span class=\"bullet\">&#9679;</span>Security deposit of $500 charged separately</li>\n      <li><span class=\"bullet\">&#9679;</span>Automatic biweekly billing every 2 weeks</li>\n      <li><span class=\"bullet\">&#9679;</span>You can update payment method anytime in settings</li>\n    </ul>\n    <button class=\"ack-btn\" onclick=\"completeStep(2)\">Got it, next step</button>\n  </div>\n\n  <!-- Checkpoint 3: Move-In Prep -->\n  <div class=\"checkpoint-card\" id=\"card3\">\n    <h4>Your move-in day plan</h4>\n    <ul class=\"checkpoint-list\">\n      <li><span class=\"bullet\">&#9679;</span>Arrive at 245 E 24th St, Apt 4B by 6 pm on Apr 13</li>\n      <li><span class=\"bullet\">&#9679;</span>Access code will be sent 24 hours before arrival</li>\n      <li><span class=\"bullet\">&#9679;</span>Your private storage shelf is labeled in the closet</li>\n      <li><span class=\"bullet\">&#9679;</span>Take a check-in photo when you arrive (opens in app)</li>\n      <li><span class=\"bullet\">&#9679;</span>Your host Sarah is available via chat for questions</li>\n    </ul>\n    <button class=\"ack-btn\" onclick=\"completeStep(3)\">Got it, I am ready</button>\n  </div>\n\n  <!-- Final state -->\n  <div class=\"final-card\" id=\"finalCard\">\n    <div class=\"final-icon\">&#10003;</div>\n    <h3>You are ready for move-in</h3>\n    <p>Everything is confirmed. See you at <br><span class=\"move-in-date\">245 E 24th St on Apr 13 at 6 pm</span></p>\n  </div>\n</div>\n\n<script>\n  function completeStep(step) {\n    const card = document.getElementById('card' + step);\n    const circle = document.getElementById('step' + step);\n    const label = document.getElementById('label' + step);\n    const fill = document.getElementById('progressFill');\n\n    // Complete current\n    card.classList.remove('active');\n    circle.className = 'step-circle completed';\n    circle.innerHTML = '&#10003;';\n    label.classList.add('active');\n\n    // Update progress\n    fill.style.width = (step * 50) + '%';\n\n    if (step < 3) {\n      // Activate next\n      const nextCard = document.getElementById('card' + (step + 1));\n      const nextCircle = document.getElementById('step' + (step + 1));\n      const nextLabel = document.getElementById('label' + (step + 1));\n      setTimeout(() => {\n        nextCard.classList.add('active');\n        nextCircle.className = 'step-circle current';\n        nextLabel.classList.add('active');\n      }, 250);\n    } else {\n      // Show final\n      setTimeout(() => {\n        document.getElementById('finalCard').classList.add('active');\n      }, 300);\n    }\n  }\n</script>\n</body>\n</html>"
    },
    {
      "id": "ds-ui-1103-007",
      "title": "Benefit Salience Reinforcement Strip",
      "description": "A compact single-line data strip shown below per-stay friction tasks (cleaning photo uploads, schedule confirmations) that makes the invisible benefits of co-tenancy salient at the exact moment the visible costs are felt. Uses real, personalized savings data in monospace type to signal precision. Counterbalances the 'taxi meter' effect from Thaler/Sunstein: every per-stay task makes the arrangement's cost salient, so the benefit strip makes the arrangement's value equally salient. Appears only after task completion -- never before, to avoid feeling manipulative.",
      "journey_phase": "active_lease",
      "type": "ui_element",
      "priority": "medium",
      "layer_sources": ["looks-007", "behaves-007", "feels-006"],
      "evidence": {
        "call_quote": "I know this, this was just for a family member who was visiting me in New York for a ma.",
        "call_source": "Sophie Charvet - 18 April 2022.txt, 3:07",
        "book_quote": "The most important modification that must be made to a standard analysis of incentives is salience. Do choosers actually notice the incentives they face?",
        "book_source": "nudge-choice-architecture.txt, Incentives"
      },
      "html_css": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>Benefit Salience Reinforcement Strip</title>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=DM+Sans:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap\" rel=\"stylesheet\">\n<style>\n  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }\n  body { font-family: 'Inter', -apple-system, sans-serif; background: #f9fafb; display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 24px; }\n\n  .task-context {\n    max-width: 440px;\n    width: 100%;\n  }\n\n  /* Simulated friction task card */\n  .task-card {\n    background: #ffffff;\n    border-radius: 12px;\n    border: 1px solid #e5e7eb;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n    padding: 24px;\n    margin-bottom: 12px;\n  }\n\n  .task-card h4 {\n    font-family: 'DM Sans', sans-serif;\n    font-size: 15px;\n    font-weight: 700;\n    color: #31135D;\n    margin-bottom: 8px;\n  }\n\n  .task-card p {\n    font-size: 13px;\n    color: #6b7280;\n    margin-bottom: 16px;\n    line-height: 1.4;\n  }\n\n  .upload-area {\n    border: 2px dashed #e5e7eb;\n    border-radius: 8px;\n    padding: 24px;\n    text-align: center;\n    margin-bottom: 12px;\n    cursor: pointer;\n    transition: border-color 0.2s ease, background 0.2s ease;\n  }\n\n  .upload-area:hover {\n    border-color: rgb(109, 49, 194);\n    background: rgb(252, 250, 255);\n  }\n\n  .upload-area .icon {\n    font-size: 28px;\n    color: #9ca3af;\n    margin-bottom: 6px;\n  }\n\n  .upload-area .text {\n    font-size: 13px;\n    color: #6b7280;\n  }\n\n  .submit-task-btn {\n    width: 100%;\n    height: 42px;\n    border: none;\n    border-radius: 21px;\n    background: rgb(109, 49, 194);\n    color: #ffffff;\n    font-family: 'Inter', sans-serif;\n    font-size: 14px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: background 0.1s ease;\n  }\n\n  .submit-task-btn:hover { background: rgb(140, 104, 238); }\n\n  .submit-task-btn.done {\n    background: #31135D;\n    cursor: default;\n  }\n\n  /* Task complete state */\n  .task-complete {\n    display: none;\n    text-align: center;\n    padding: 20px 0;\n  }\n\n  .task-complete .check {\n    font-size: 20px;\n    color: rgb(109, 49, 194);\n    margin-bottom: 4px;\n  }\n\n  .task-complete p {\n    font-size: 13px;\n    color: #374151;\n    font-weight: 500;\n  }\n\n  /* Benefit strip */\n  .benefit-strip {\n    background: #F0EBFF;\n    border-radius: 8px;\n    padding: 12px 16px;\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    opacity: 0;\n    transform: translateY(4px);\n    transition: opacity 0.3s cubic-bezier(0.16, 1, 0.3, 1), transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);\n    pointer-events: none;\n    border-left: 3px solid rgb(109, 49, 194);\n  }\n\n  .benefit-strip.visible {\n    opacity: 1;\n    transform: translateY(0);\n    pointer-events: auto;\n  }\n\n  .benefit-strip .benefit-icon {\n    font-size: 18px;\n    color: rgb(109, 49, 194);\n    flex-shrink: 0;\n  }\n\n  .benefit-strip .benefit-content {\n    display: flex;\n    align-items: baseline;\n    gap: 6px;\n    flex-wrap: wrap;\n  }\n\n  .benefit-strip .benefit-number {\n    font-family: 'IBM Plex Mono', monospace;\n    font-size: 16px;\n    font-weight: 600;\n    color: #31135D;\n  }\n\n  .benefit-strip .benefit-label {\n    font-size: 13px;\n    color: #374151;\n  }\n\n  /* Variant strips for rotation */\n  .benefit-strip.savings { border-left-color: rgb(109, 49, 194); }\n  .benefit-strip.flexibility { border-left-color: #4A90E2; }\n\n  @media (prefers-reduced-motion: reduce) {\n    .benefit-strip { transition: none !important; }\n  }\n</style>\n</head>\n<body>\n<div class=\"task-context\">\n  <!-- Friction task -->\n  <div class=\"task-card\">\n    <h4>Weekly cleaning check</h4>\n    <p>Upload a photo of the space before you leave this Friday. This keeps your deposit protected.</p>\n\n    <div class=\"upload-area\" id=\"uploadArea\">\n      <div class=\"icon\">&#128247;</div>\n      <div class=\"text\">Tap to take a photo</div>\n    </div>\n\n    <div class=\"task-complete\" id=\"taskComplete\">\n      <div class=\"check\">&#10003;</div>\n      <p>Photo submitted. You are all set for this week.</p>\n    </div>\n\n    <button class=\"submit-task-btn\" id=\"taskBtn\" onclick=\"completeTask()\">Submit cleaning photo</button>\n  </div>\n\n  <!-- Benefit strip (appears after task) -->\n  <div class=\"benefit-strip savings\" id=\"benefitStrip\">\n    <span class=\"benefit-icon\">&#9650;</span>\n    <div class=\"benefit-content\">\n      <span class=\"benefit-number\">$2,340</span>\n      <span class=\"benefit-label\">saved vs. solo rental in Midtown this quarter</span>\n    </div>\n  </div>\n</div>\n\n<script>\n  function completeTask() {\n    const btn = document.getElementById('taskBtn');\n    const upload = document.getElementById('uploadArea');\n    const complete = document.getElementById('taskComplete');\n    const strip = document.getElementById('benefitStrip');\n\n    // Show completion\n    upload.style.display = 'none';\n    complete.style.display = 'block';\n    btn.textContent = 'Submitted';\n    btn.classList.add('done');\n    btn.onclick = null;\n\n    // Show benefit strip after 300ms\n    setTimeout(() => {\n      strip.classList.add('visible');\n    }, 300);\n\n    // Subtle pulse on the number after strip appears\n    setTimeout(() => {\n      const num = strip.querySelector('.benefit-number');\n      num.style.transform = 'scale(1.05)';\n      num.style.transition = 'transform 0.15s cubic-bezier(0.34, 1.56, 0.64, 1)';\n      setTimeout(() => { num.style.transform = 'scale(1)'; }, 150);\n    }, 600);\n  }\n</script>\n</body>\n</html>"
    }
  ]
}
