<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Library of Elements â€” Design Stack v2 | Run 2026-02-19_0902</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --primary-purple:#31135D;
  --secondary-purple:rgb(109,49,194);
  --accent-purple:rgb(140,104,238);
  --bg-white:#ffffff;
  --bg-light:#f9fafb;
  --bg-light-gray:#f3f4f6;
  --bg-off-white:rgb(252,250,255);
  --text-dark:#1a1a1a;
  --text-gray:#6b7280;
  --text-light-gray:#9ca3af;
  --text-description:#374151;
  --border-color:#e5e7eb;
  --shadow-sm:0 1px 3px rgba(0,0,0,0.05);
  --shadow-md:0 2px 8px rgba(0,0,0,0.08);
  --shadow-lg:0 4px 16px rgba(0,0,0,0.1);
  --shadow-purple-md:0 4px 8px rgba(49,19,93,0.15);
  --rounded-sm:4px;--rounded-md:6px;--rounded-lg:8px;--rounded-xl:12px;--rounded-2xl:16px;--rounded-pill:20px;
  --font-inter:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
  --font-dm:'DM Sans',sans-serif;
  --transition-fast:0.15s;--transition-base:0.2s;--transition-slow:0.3s;
}
html{scroll-behavior:smooth}
body{font-family:var(--font-inter);background:var(--bg-light);color:var(--text-dark);line-height:1.5;-webkit-font-smoothing:antialiased}
.lib-header{background:linear-gradient(135deg,#31135D 0%,#4a1f8a 50%,#5a2d8f 100%);padding:48px 32px 40px;position:relative;overflow:hidden}
.lib-header::before{content:'';position:absolute;top:-60%;right:-10%;width:500px;height:500px;background:radial-gradient(circle,rgba(140,104,238,0.15) 0%,transparent 70%);pointer-events:none}
.lib-header__inner{max-width:1320px;margin:0 auto;position:relative;z-index:1}
.lib-header__badge{display:inline-block;background:rgba(255,255,255,0.12);color:rgba(255,255,255,0.85);font-size:11px;font-weight:600;padding:4px 12px;border-radius:var(--rounded-pill);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:16px;backdrop-filter:blur(4px)}
.lib-header__title{font-size:36px;font-weight:800;color:#fff;margin-bottom:8px;letter-spacing:-0.5px}
.lib-header__sub{font-family:var(--font-dm);font-size:16px;color:rgba(255,255,255,0.7);max-width:600px;line-height:1.6}
.lib-header__meta{display:flex;gap:24px;margin-top:20px;flex-wrap:wrap}
.lib-header__meta-item{font-size:12px;color:rgba(255,255,255,0.55);font-family:var(--font-dm)}
.lib-header__meta-item strong{color:rgba(255,255,255,0.85);font-weight:600}
.lib-toolbar{position:sticky;top:0;z-index:100;background:rgba(255,255,255,0.92);backdrop-filter:blur(12px);border-bottom:1px solid var(--border-color);padding:12px 32px;transition:box-shadow var(--transition-base)}
.lib-toolbar.scrolled{box-shadow:var(--shadow-md)}
.lib-toolbar__inner{max-width:1320px;margin:0 auto;display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.lib-search{position:relative;flex:1;min-width:220px;max-width:400px}
.lib-search__input{width:100%;padding:9px 14px 9px 36px;border:1px solid var(--border-color);border-radius:var(--rounded-lg);font-family:var(--font-inter);font-size:13px;background:var(--bg-white);color:var(--text-dark);transition:border-color var(--transition-fast);outline:none}
.lib-search__input:focus{border-color:var(--secondary-purple)}
.lib-search__icon{position:absolute;left:11px;top:50%;transform:translateY(-50%);color:var(--text-light-gray);font-size:14px;pointer-events:none}
.lib-filters{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.lib-filter-group{position:relative}
.lib-filter-btn{display:inline-flex;align-items:center;gap:5px;padding:7px 14px;border:1px solid var(--border-color);border-radius:var(--rounded-lg);background:var(--bg-white);font-family:var(--font-inter);font-size:12px;font-weight:500;color:var(--text-gray);cursor:pointer;transition:border-color var(--transition-fast),color var(--transition-fast);white-space:nowrap}
.lib-filter-btn:hover,.lib-filter-btn.active{border-color:var(--secondary-purple);color:var(--secondary-purple)}
.lib-filter-btn .arrow{font-size:10px;margin-left:2px;transition:transform var(--transition-fast)}
.lib-filter-btn.active .arrow{transform:rotate(180deg)}
.lib-filter-dropdown{position:absolute;top:calc(100% + 4px);left:0;min-width:200px;background:var(--bg-white);border:1px solid var(--border-color);border-radius:var(--rounded-lg);box-shadow:var(--shadow-lg);padding:6px 0;display:none;z-index:200}
.lib-filter-dropdown.open{display:block}
.lib-filter-option{display:flex;align-items:center;gap:8px;padding:8px 14px;font-size:12px;color:var(--text-dark);cursor:pointer;transition:background var(--transition-fast)}
.lib-filter-option:hover{background:var(--bg-light)}
.lib-filter-option input[type=checkbox]{accent-color:var(--secondary-purple)}
.lib-count{font-size:12px;color:var(--text-light-gray);font-family:var(--font-dm);margin-left:auto;white-space:nowrap}
.lib-grid-wrap{max-width:1320px;margin:0 auto;padding:24px 32px 64px}
.lib-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:20px}
.lib-empty{grid-column:1/-1;text-align:center;padding:80px 24px;color:var(--text-light-gray);font-size:15px}
.lib-card{background:var(--bg-white);border:1px solid var(--border-color);border-radius:var(--rounded-xl);overflow:hidden;transition:box-shadow var(--transition-base),border-color var(--transition-base),transform var(--transition-base);cursor:pointer;display:flex;flex-direction:column}
.lib-card:hover{box-shadow:var(--shadow-purple-md);border-color:rgba(109,49,194,0.25);transform:translateY(-2px)}
.lib-card__preview{width:100%;height:220px;border-bottom:1px solid var(--border-color);background:var(--bg-light);position:relative;overflow:hidden}
.lib-card__preview iframe{width:100%;height:100%;border:none;pointer-events:none;transform-origin:top left}
.lib-card__body{padding:16px 18px;flex:1;display:flex;flex-direction:column}
.lib-card__top-row{display:flex;align-items:center;gap:8px;margin-bottom:8px;flex-wrap:wrap}
.lib-card__cat{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;padding:3px 9px;border-radius:var(--rounded-pill);background:rgba(109,49,194,0.08);color:var(--secondary-purple)}
.lib-card__id{font-size:10px;color:var(--text-light-gray);margin-left:auto;font-family:var(--font-dm)}
.lib-card__name{font-size:16px;font-weight:700;color:var(--text-dark);margin-bottom:6px;line-height:1.3}
.lib-card__desc{font-family:var(--font-dm);font-size:13px;color:var(--text-gray);line-height:1.5;margin-bottom:12px;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;flex:1}
.lib-card__phases{display:flex;gap:4px;flex-wrap:wrap;margin-bottom:10px}
.lib-card__phase{font-size:10px;padding:2px 8px;border-radius:var(--rounded-sm);background:var(--bg-light-gray);color:var(--text-gray);font-weight:500}
.lib-card__sources{font-size:10px;color:var(--text-light-gray);font-family:var(--font-dm);border-top:1px solid var(--border-color);padding-top:10px;margin-top:auto}
.lib-card__sources strong{color:var(--text-gray);font-weight:600}
.lib-overlay{position:fixed;inset:0;background:rgba(49,19,93,0.5);z-index:1000;display:none;align-items:flex-start;justify-content:center;padding:40px 24px;overflow-y:auto;backdrop-filter:blur(4px);animation:fadeIn var(--transition-base) ease}
.lib-overlay.open{display:flex}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.lib-modal{background:var(--bg-white);border-radius:var(--rounded-2xl);width:100%;max-width:900px;box-shadow:0 24px 64px rgba(49,19,93,0.3);animation:slideUp var(--transition-slow) ease;margin-bottom:40px}
.lib-modal__preview{width:100%;min-height:300px;max-height:450px;border-radius:var(--rounded-2xl) var(--rounded-2xl) 0 0;overflow:hidden;background:var(--bg-light);border-bottom:1px solid var(--border-color);position:relative}
.lib-modal__preview iframe{width:100%;height:400px;border:none}
.lib-modal__close{position:absolute;top:14px;right:14px;z-index:10;width:36px;height:36px;border-radius:50%;background:rgba(255,255,255,0.9);border:1px solid var(--border-color);display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;color:var(--text-dark);transition:background var(--transition-fast)}
.lib-modal__close:hover{background:var(--bg-white)}
.lib-modal__content{padding:28px 32px 32px}
.lib-modal__header{display:flex;align-items:flex-start;gap:12px;margin-bottom:20px;flex-wrap:wrap}
.lib-modal__title{font-size:24px;font-weight:800;color:var(--text-dark);flex:1;min-width:200px}
.lib-modal__desc{font-family:var(--font-dm);font-size:14px;color:var(--text-description);line-height:1.7;margin-bottom:24px}
.lib-modal__section{margin-bottom:24px}
.lib-modal__section-title{font-size:13px;font-weight:700;color:var(--primary-purple);text-transform:uppercase;letter-spacing:0.6px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid rgba(109,49,194,0.1)}
.lib-modal__phases-row{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:16px}
.lib-modal__sources-row{font-size:12px;color:var(--text-gray);font-family:var(--font-dm)}
.lib-modal__sources-row code{background:var(--bg-light-gray);padding:2px 6px;border-radius:var(--rounded-sm);font-size:11px;color:var(--secondary-purple);margin:0 2px}
@media(max-width:768px){
  .lib-header{padding:32px 20px}.lib-header__title{font-size:26px}
  .lib-toolbar{padding:10px 16px}.lib-grid-wrap{padding:16px 16px 48px}
  .lib-grid{grid-template-columns:1fr;gap:16px}
  .lib-modal__content{padding:20px}.lib-modal{max-width:100%}.lib-overlay{padding:20px 12px}
}
</style>
</head>
<body>
<header class="lib-header">
  <div class="lib-header__inner">
    <span class="lib-header__badge">Design Stack v2 &middot; Layer 8 Element Factory</span>
    <h1 class="lib-header__title">Library of Elements</h1>
    <p class="lib-header__sub">Browsable catalog of production-ready UI elements for the Split Lease host journey. Each element includes live preview and design specs.</p>
    <div class="lib-header__meta">
      <span class="lib-header__meta-item"><strong>Run:</strong> 2026-02-19_0902</span>
      <span class="lib-header__meta-item"><strong>Journey:</strong> Host</span>
      <span class="lib-header__meta-item"><strong>Elements:</strong> 7</span>
      <span class="lib-header__meta-item"><strong>Style:</strong> Split Lease Purple Palette</span>
    </div>
  </div>
</header>

<div class="lib-toolbar" id="toolbar">
  <div class="lib-toolbar__inner">
    <div class="lib-search">
      <span class="lib-search__icon">&#128269;</span>
      <input class="lib-search__input" type="text" id="searchInput" placeholder="Search elements by name or description...">
    </div>
    <div class="lib-filters">
      <div class="lib-filter-group">
        <button class="lib-filter-btn" data-filter="phase">Phase <span class="arrow">&#9662;</span></button>
        <div class="lib-filter-dropdown" data-filter-for="phase">
          <label class="lib-filter-option"><input type="checkbox" value="active_lease"> active lease</label>
          <label class="lib-filter-option"><input type="checkbox" value="discovery"> discovery</label>
          <label class="lib-filter-option"><input type="checkbox" value="evaluation"> evaluation</label>
          <label class="lib-filter-option"><input type="checkbox" value="listing_creation"> listing creation</label>
          <label class="lib-filter-option"><input type="checkbox" value="onboarding"> onboarding</label>
          <label class="lib-filter-option"><input type="checkbox" value="pricing"> pricing</label>
          <label class="lib-filter-option"><input type="checkbox" value="proposal_mgmt"> proposal mgmt</label>
          <label class="lib-filter-option"><input type="checkbox" value="retention"> retention</label>
        </div>
      </div>
    </div>
    <span class="lib-count" id="resultCount">7 elements</span>
  </div>
</div>

<div class="lib-grid-wrap">
  <div class="lib-grid" id="elementGrid"></div>
</div>

<div class="lib-overlay" id="modalOverlay">
  <div class="lib-modal" id="modalContent"></div>
</div>

<script>
const ELEMENTS = [
  {
      id: "ds-ui-0902-001",
      name: "Payment Timeline Stepper: Four Nodes, One Glance, Zero Ambiguity",
      category: "card",
      source_elements: ["ds-ui-0902-001","communicates-0902-001","looks-0902-001","behaves-0902-001","feels-0902-001"],
      journey_phases: ["evaluation","onboarding","pricing","proposal_mgmt","active_lease"],
      priority: "high",
      description: "A horizontal four-node payment timeline that visually maps the sequence from agreement signing to payment release. Replaces the verbal payment explanation that failed three times during Robbie's call. The final node showing '$1,600 Released' is visually dominant with a glow effect, answering the host's core question ('When do I get paid?') in under 5 seconds. Nodes activate progressively as real lease events occur, and the timeline resets monthly to build cumulative trust. Based on Lean UX hypothesis testing: the visual MVP replaces the failed verbal hypothesis.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Payment Timeline Stepper</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --primary-purple-hover: #251047;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-light-gray: #9ca3af;
  --text-description: #374151;
  --bg-white: #ffffff;
  --bg-light: #f9fafb;
  --bg-light-gray: #f3f4f6;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-purple-sm: 0 2px 4px rgba(49, 19, 93, 0.2);
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-dm: 'DM Sans', sans-serif;
  --gradient-purple-primary: linear-gradient(135deg, #31135D 0%, #5a2d8f 100%);
  --gradient-purple-button: linear-gradient(135deg, #4B47CE 0%, #7C3AED 100%);
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: var(--font-inter);
  background: var(--bg-light);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 24px;
}

.timeline-card {
  background: var(--bg-off-white);
  border-radius: 12px;
  padding: 32px 24px 24px;
  box-shadow: var(--shadow-purple-sm);
  max-width: 560px;
  width: 100%;
}

.timeline-card__label {
  font-family: var(--font-inter);
  font-size: 11px;
  font-weight: 600;
  color: var(--text-gray);
  letter-spacing: 0.05em;
  text-transform: uppercase;
  margin-bottom: 20px;
  text-align: center;
}

.timeline {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  position: relative;
  padding: 0 8px;
}

.timeline__connector {
  position: absolute;
  top: 20px;
  left: 40px;
  right: 40px;
  height: 2px;
  background: var(--border-color);
  z-index: 0;
}

.timeline__connector-fill {
  height: 100%;
  background: var(--secondary-purple);
  width: 0%;
  transition: width 0.6s cubic-bezier(0.16, 1, 0.3, 1);
}

.timeline-node {
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 1;
  flex: 1;
  max-width: 100px;
}

.timeline-node__circle {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 2px solid var(--border-color);
  background: var(--bg-white);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
}

.timeline-node__circle svg {
  width: 20px;
  height: 20px;
  color: var(--text-gray);
  transition: color 0.3s ease;
}

.timeline-node--completed .timeline-node__circle {
  background: var(--secondary-purple);
  border-color: var(--secondary-purple);
}

.timeline-node--completed .timeline-node__circle svg {
  color: #ffffff;
}

.timeline-node--active .timeline-node__circle {
  border-color: var(--secondary-purple);
  animation: nodePulse 2s ease-in-out infinite;
}

.timeline-node--inactive .timeline-node__circle {
  opacity: 0.5;
}

.timeline-node--inactive .timeline-node__label {
  opacity: 0.5;
}

.timeline-node__label {
  margin-top: 12px;
  font-family: var(--font-inter);
  font-size: 12px;
  font-weight: 500;
  color: var(--text-gray);
  text-align: center;
  line-height: 1.3;
}

/* Final node special treatment */
.timeline-node--final .timeline-node__circle {
  width: 56px;
  height: 56px;
}

.timeline-node--final .timeline-node__circle svg {
  width: 24px;
  height: 24px;
}

.timeline-node--final.timeline-node--completed .timeline-node__circle {
  box-shadow: 0 0 16px rgba(109, 49, 194, 0.35);
}

.timeline-node--final.timeline-node--active .timeline-node__circle {
  box-shadow: 0 0 12px rgba(109, 49, 194, 0.25);
}

.timeline-node--final .timeline-node__label {
  font-size: 16px;
  font-weight: 700;
  color: var(--primary-purple);
  margin-top: 14px;
}

.timeline-node__badge {
  position: absolute;
  bottom: -2px;
  right: -2px;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--secondary-purple);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transform: scale(0.5);
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.timeline-node--completed .timeline-node__badge {
  opacity: 1;
  transform: scale(1);
}

.timeline-node__badge svg {
  width: 10px;
  height: 10px;
  color: #ffffff;
}

.timeline-confirmation {
  margin-top: 20px;
  text-align: center;
  font-family: var(--font-dm);
  font-size: 14px;
  font-weight: 400;
  color: var(--text-description);
  line-height: 1.6;
}

.timeline-confirmation strong {
  color: var(--primary-purple);
  font-weight: 600;
}

.timeline-guarantee {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  margin-top: 12px;
  padding: 6px 14px;
  background: var(--secondary-purple);
  color: #ffffff;
  font-family: var(--font-inter);
  font-size: 11px;
  font-weight: 600;
  border-radius: 20px;
  letter-spacing: 0.02em;
}

.timeline-guarantee svg {
  width: 14px;
  height: 14px;
}

.timeline-month {
  text-align: center;
  margin-bottom: 12px;
  font-family: var(--font-inter);
  font-size: 12px;
  font-weight: 500;
  color: var(--accent-purple);
  letter-spacing: 0.02em;
}

@keyframes nodePulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes celebratePulse {
  0% { transform: scale(1); }
  40% { transform: scale(1.08); }
  100% { transform: scale(1); }
}

.timeline-node--celebrate .timeline-node__circle {
  animation: celebratePulse 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Mobile vertical layout */
@media (max-width: 600px) {
  .timeline {
    flex-direction: column;
    align-items: flex-start;
    gap: 0;
    padding: 0;
  }
  .timeline__connector {
    top: 20px;
    bottom: 28px;
    left: 19px;
    right: auto;
    width: 2px;
    height: auto;
  }
  .timeline__connector-fill {
    width: 100%;
    height: 0%;
  }
  .timeline-node {
    flex-direction: row;
    align-items: center;
    max-width: 100%;
    gap: 16px;
    padding: 12px 0;
  }
  .timeline-node__label {
    margin-top: 0;
    text-align: left;
  }
  .timeline-node--final .timeline-node__label {
    font-size: 15px;
  }
  .timeline-node--final .timeline-node__circle {
    width: 48px;
    height: 48px;
  }
}
</style>
</head>
<body>
<div class="timeline-card">
  <div class="timeline-month">Month 1 of 3</div>
  <div class="timeline-card__label">Your Payment Path</div>
  <div class="timeline">
    <div class="timeline__connector"><div class="timeline__connector-fill" style="width: 66%;"></div></div>
    <div class="timeline-node timeline-node--completed">
      <div class="timeline-node__circle">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931z" /></svg>
        <div class="timeline-node__badge"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" /></svg></div>
      </div>
      <span class="timeline-node__label">Agreements<br>Signed</span>
    </div>
    <div class="timeline-node timeline-node--completed">
      <div class="timeline-node__circle">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9" /></svg>
        <div class="timeline-node__badge"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" /></svg></div>
      </div>
      <span class="timeline-node__label">Guest<br>Moves In</span>
    </div>
    <div class="timeline-node timeline-node--active">
      <div class="timeline-node__circle">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" /></svg>
      </div>
      <span class="timeline-node__label">First Night<br>Completed</span>
    </div>
    <div class="timeline-node timeline-node--final timeline-node--inactive">
      <div class="timeline-node__circle">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
      </div>
      <span class="timeline-node__label">Your \$1,600<br>Released</span>
    </div>
  </div>
  <div class="timeline-confirmation">
    You receive <strong>\$1,600</strong> after your guest's first night each month.
  </div>
  <div style="text-align: center;">
    <span class="timeline-guarantee">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" /></svg>
      Guaranteed by Split Lease
    </span>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-0902-002",
      name: "Agent-Attributed Post-Call Landing Page: Bryant's Face Before the Brand",
      category: "card",
      source_elements: ["ds-ui-0902-002","communicates-0902-002","looks-0902-002","behaves-0902-002","feels-0902-002"],
      journey_phases: ["discovery","evaluation","onboarding","listing_creation"],
      priority: "high",
      description: "A personalized post-call landing page that continues the conversation Bryant started with Robbie. Leads with the agent's photo and name, shows specific property details ($1,600/month East Village studio), names the prospective guests (Ariel and Amber), and embeds the payment timeline and document links. No registration required to view. Implements the Lean UX MVP for bridging agent-mediated trust to self-service platform engagement. Recognition before demand -- the host sees their specific details before encountering any action request.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Follow-up from Bryant | Split Lease</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-description: #374151;
  --bg-white: #ffffff;
  --bg-light: #f9fafb;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-purple-sm: 0 2px 4px rgba(49, 19, 93, 0.2);
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-dm: 'DM Sans', sans-serif;
  --gradient-purple-button: linear-gradient(135deg, #4B47CE 0%, #7C3AED 100%);
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: var(--font-inter);
  background: var(--bg-light);
  color: var(--text-dark);
}

.brand-whisper {
  padding: 12px 24px;
  font-family: var(--font-inter);
  font-size: 12px;
  font-weight: 400;
  color: var(--text-gray);
  border-bottom: 1px solid var(--border-color);
}

.landing {
  max-width: 600px;
  margin: 0 auto;
  padding: 32px 24px 48px;
}

.hero {
  display: flex;
  align-items: flex-start;
  gap: 20px;
  margin-bottom: 24px;
}

.hero__avatar {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  border: 2px solid var(--secondary-purple);
  box-shadow: 0 4px 12px rgba(109, 49, 194, 0.15);
  object-fit: cover;
  flex-shrink: 0;
  background: var(--accent-purple);
  display: flex;
  align-items: center;
  justify-content: center;
  color: #ffffff;
  font-family: var(--font-dm);
  font-size: 28px;
  font-weight: 700;
}

.hero__text h1 {
  font-family: var(--font-inter);
  font-size: 28px;
  font-weight: 700;
  color: var(--primary-purple);
  line-height: 1.2;
  margin-bottom: 6px;
}

.hero__text p {
  font-family: var(--font-dm);
  font-size: 16px;
  font-weight: 400;
  color: var(--text-dark);
  line-height: 1.5;
}

.info-card {
  background: var(--bg-off-white);
  border-radius: 12px;
  padding: 24px;
  box-shadow: var(--shadow-sm);
  margin-bottom: 16px;
}

.info-card__label {
  font-family: var(--font-inter);
  font-size: 11px;
  font-weight: 600;
  color: var(--text-gray);
  letter-spacing: 0.05em;
  text-transform: uppercase;
  margin-bottom: 8px;
}

.info-card__title {
  font-family: var(--font-inter);
  font-size: 18px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 4px;
}

.info-card__amount {
  font-family: var(--font-dm);
  font-size: 20px;
  font-weight: 700;
  color: var(--primary-purple);
}

.info-card__guests {
  font-family: var(--font-inter);
  font-size: 16px;
  font-weight: 500;
  color: var(--text-dark);
  display: flex;
  align-items: center;
  gap: 10px;
}

.info-card__guests-avatars {
  display: flex;
  gap: -8px;
}

.info-card__guest-dot {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-dm);
  font-size: 13px;
  font-weight: 600;
  color: #ffffff;
  border: 2px solid var(--bg-off-white);
}

.info-card__guest-dot:nth-child(1) { background: var(--secondary-purple); }
.info-card__guest-dot:nth-child(2) { background: var(--accent-purple); margin-left: -8px; }

.document-row {
  display: flex;
  align-items: flex-start;
  gap: 14px;
  padding: 16px 0;
  border-bottom: 1px solid var(--border-color);
}

.document-row:last-child { border-bottom: none; }

.document-row__icon {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  background: var(--bg-off-white);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.document-row__icon svg {
  width: 20px;
  height: 20px;
  color: var(--secondary-purple);
}

.document-row__text h3 {
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 500;
  color: var(--text-dark);
  margin-bottom: 2px;
}

.document-row__text p {
  font-family: var(--font-dm);
  font-size: 12px;
  font-weight: 400;
  color: var(--text-gray);
  line-height: 1.5;
}

.documents-section {
  margin-top: 24px;
}

.documents-section__title {
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 8px;
}

.cta-section {
  margin-top: 32px;
  text-align: center;
}

.cta-button {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 14px 32px;
  background: var(--gradient-purple-button);
  color: #ffffff;
  font-family: var(--font-inter);
  font-size: 16px;
  font-weight: 600;
  border: none;
  border-radius: 20px;
  cursor: pointer;
  box-shadow: var(--shadow-purple-sm);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  text-decoration: none;
}

.cta-button:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(49, 19, 93, 0.3);
}

.closing {
  margin-top: 32px;
  font-family: var(--font-dm);
  font-size: 14px;
  font-weight: 400;
  color: var(--text-dark);
  line-height: 1.6;
}

.closing a {
  color: var(--secondary-purple);
  text-decoration: underline;
  font-weight: 500;
}

@media (max-width: 600px) {
  .hero { flex-direction: column; align-items: center; text-align: center; }
  .hero__avatar { width: 64px; height: 64px; font-size: 22px; }
  .hero__text h1 { font-size: 24px; }
  .landing { padding: 24px 16px 40px; }
}
</style>
</head>
<body>
<div class="brand-whisper">Split Lease</div>
<div class="landing">
  <div class="hero">
    <div class="hero__avatar" aria-label="Bryant, your Split Lease agent">B</div>
    <div class="hero__text">
      <h1>Hi Robbie,</h1>
      <p>This is Bryant following up on our call about your space.</p>
    </div>
  </div>

  <div class="info-card">
    <div class="info-card__label">Your Property</div>
    <div class="info-card__title">Renovated Large Studio, East Village</div>
    <div class="info-card__amount">\$1,600/month</div>
  </div>

  <div class="info-card">
    <div class="info-card__label">Your Matched Guests</div>
    <div class="info-card__guests">
      <div class="info-card__guests-avatars">
        <div class="info-card__guest-dot">A</div>
        <div class="info-card__guest-dot">A</div>
      </div>
      Ariel and Amber are ready to move forward
    </div>
  </div>

  <div class="documents-section">
    <div class="documents-section__title">Agreements I mentioned</div>
    <div class="document-row">
      <div class="document-row__icon">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" /></svg>
      </div>
      <div class="document-row__text">
        <h3>Rental Agreement</h3>
        <p>The contract between you and your guests about living in the apartment.</p>
      </div>
    </div>
    <div class="document-row">
      <div class="document-row__icon">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" /></svg>
      </div>
      <div class="document-row__text">
        <h3>Supplemental Agreement</h3>
        <p>The contract between you and Split Lease that guarantees your payment.</p>
      </div>
    </div>
  </div>

  <div class="cta-section">
    <a href="#" class="cta-button">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" /></svg>
      Review Agreements
    </a>
  </div>

  <div class="closing">
    Take a look and let me know if you have questions.<br>
    &mdash; <a href="#">Bryant</a>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-0902-003",
      name: "Plain-Language Summary Card: Three Questions, Three Answers, Zero Jargon",
      category: "card",
      source_elements: ["ds-ui-0902-004","communicates-0902-003","looks-0902-003","behaves-0902-003","feels-0902-003"],
      journey_phases: ["onboarding","evaluation","proposal_mgmt"],
      priority: "high",
      description: "A one-page comprehension MVP that answers the three questions Robbie asked during his call: When do I get paid? Who pays? What if they miss a payment? Uses plain language with the host's specific dollar amount ($1,600) and guest names (Ariel and Amber). Designed as a visual summary that precedes legal documents, with a purple left accent border to distinguish it from formal agreements. Implements Lean UX's 'getting out of the deliverables business' principle: the summary is a product designed for comprehension, not a document designed for compliance.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>What You Need to Know</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-description: #374151;
  --bg-white: #ffffff;
  --bg-light: #f9fafb;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-purple-sm: 0 2px 4px rgba(49, 19, 93, 0.2);
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-dm: 'DM Sans', sans-serif;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: var(--font-inter);
  background: var(--bg-light);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 24px;
}

.summary-card {
  background: var(--bg-off-white);
  border-radius: 12px;
  border-left: 4px solid var(--secondary-purple);
  padding: 24px;
  box-shadow: var(--shadow-purple-sm);
  max-width: 520px;
  width: 100%;
}

.summary-card__header {
  font-family: var(--font-inter);
  font-size: 20px;
  font-weight: 700;
  color: var(--primary-purple);
  margin-bottom: 20px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--border-color);
}

.qa-item {
  margin-bottom: 20px;
}

.qa-item:last-of-type {
  margin-bottom: 0;
}

.qa-item__question {
  display: flex;
  align-items: center;
  gap: 10px;
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 600;
  color: var(--primary-purple);
  margin-bottom: 8px;
}

.qa-item__bullet {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--secondary-purple);
  flex-shrink: 0;
}

.qa-item__answer {
  font-family: var(--font-dm);
  font-size: 14px;
  font-weight: 400;
  color: var(--text-dark);
  line-height: 1.6;
  padding-left: 18px;
}

.qa-item__answer strong {
  color: var(--primary-purple);
  font-weight: 600;
}

.docs-divider {
  height: 1px;
  background: var(--border-color);
  margin: 24px 0 20px;
}

.docs-label {
  font-family: var(--font-inter);
  font-size: 12px;
  font-weight: 600;
  color: var(--text-gray);
  letter-spacing: 0.05em;
  text-transform: uppercase;
  margin-bottom: 16px;
}

.doc-row {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 14px;
}

.doc-row:last-child { margin-bottom: 0; }

.doc-row__icon {
  width: 20px;
  height: 20px;
  color: var(--text-gray);
  flex-shrink: 0;
  margin-top: 1px;
}

.doc-row__name {
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 500;
  color: var(--text-dark);
}

.doc-row__desc {
  font-family: var(--font-dm);
  font-size: 12px;
  font-weight: 400;
  color: var(--text-gray);
  line-height: 1.5;
  margin-top: 2px;
}

@media (max-width: 600px) {
  .summary-card { padding: 20px 16px; }
  .summary-card__header { font-size: 18px; }
}
</style>
</head>
<body>
<div class="summary-card">
  <h2 class="summary-card__header">What You Need to Know</h2>

  <div class="qa-item">
    <div class="qa-item__question">
      <span class="qa-item__bullet"></span>
      When do I get paid?
    </div>
    <div class="qa-item__answer">
      After your guest's first night each month. Your first payment of <strong>\$1,600</strong> arrives one day after <strong>Ariel and Amber</strong> move in.
    </div>
  </div>

  <div class="qa-item">
    <div class="qa-item__question">
      <span class="qa-item__bullet"></span>
      Who pays?
    </div>
    <div class="qa-item__answer">
      <strong>Ariel and Amber</strong> pay Split Lease. Split Lease pays you. You never collect rent directly.
    </div>
  </div>

  <div class="qa-item">
    <div class="qa-item__question">
      <span class="qa-item__bullet"></span>
      What if they miss a payment?
    </div>
    <div class="qa-item__answer">
      You still get paid. Split Lease <strong>guarantees your rent</strong> even if a guest misses their payment.
    </div>
  </div>

  <div class="docs-divider"></div>

  <div class="docs-label">You will sign two agreements</div>

  <div class="doc-row">
    <svg class="doc-row__icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" /></svg>
    <div>
      <div class="doc-row__name">Rental Agreement</div>
      <div class="doc-row__desc">The contract between you and your guests about living in the apartment.</div>
    </div>
  </div>

  <div class="doc-row">
    <svg class="doc-row__icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" /></svg>
    <div>
      <div class="doc-row__name">Supplemental Agreement</div>
      <div class="doc-row__desc">The contract between you and Split Lease that guarantees your payment.</div>
    </div>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-0902-004",
      name: "Import-and-Verify Listing Draft: Reuse, Not Recreate",
      category: "card",
      source_elements: ["ds-ui-0902-003","communicates-0902-004","looks-0902-004","behaves-0902-004","feels-0902-004"],
      journey_phases: ["listing_creation","pricing","onboarding"],
      priority: "high",
      description: "An alternative listing creation path for hosts who already have listings elsewhere. Shows an import drop zone as the primary entry point ('Already have a listing?'), then generates a pre-populated draft with checkmarks on imported fields and amber highlights on fields needing attention. Includes automatic monthly-to-nightly price translation. Implements Lean UX's waste-removal principle: verification is cognitively cheaper than creation. Based on Robbie offering his existing Craigslist listing twice in two minutes.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create Your Listing</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-description: #374151;
  --bg-white: #ffffff;
  --bg-light: #f9fafb;
  --bg-light-gray: #f3f4f6;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-purple-sm: 0 2px 4px rgba(49, 19, 93, 0.2);
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-dm: 'DM Sans', sans-serif;
  --gradient-purple-button: linear-gradient(135deg, #4B47CE 0%, #7C3AED 100%);
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: var(--font-inter);
  background: var(--bg-light);
  min-height: 100vh;
  padding: 24px;
}

.listing-page {
  max-width: 560px;
  margin: 0 auto;
}

.listing-page__title {
  font-family: var(--font-inter);
  font-size: 20px;
  font-weight: 700;
  color: var(--primary-purple);
  margin-bottom: 24px;
}

.import-zone {
  background: var(--bg-off-white);
  border: 2px dashed var(--border-color);
  border-radius: 12px;
  padding: 32px 24px;
  text-align: center;
  margin-bottom: 16px;
  transition: border-color 0.2s ease;
}

.import-zone:hover {
  border-color: var(--secondary-purple);
}

.import-zone__icon {
  width: 40px;
  height: 40px;
  color: var(--secondary-purple);
  margin: 0 auto 12px;
}

.import-zone__text {
  font-family: var(--font-inter);
  font-size: 16px;
  font-weight: 500;
  color: var(--text-dark);
  margin-bottom: 16px;
}

.import-zone__input {
  width: 100%;
  max-width: 380px;
  padding: 10px 16px;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  font-family: var(--font-inter);
  font-size: 14px;
  color: var(--text-dark);
  margin-bottom: 12px;
  outline: none;
  transition: border-color 0.15s ease;
}

.import-zone__input:focus {
  border-color: var(--secondary-purple);
}

.import-zone__input::placeholder {
  color: var(--text-gray);
}

.import-zone__btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 24px;
  background: var(--gradient-purple-button);
  color: #ffffff;
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 600;
  border: none;
  border-radius: 20px;
  cursor: pointer;
  box-shadow: var(--shadow-purple-sm);
}

.import-zone__btn svg { width: 18px; height: 18px; }

.scratch-link {
  display: block;
  text-align: center;
  font-family: var(--font-inter);
  font-size: 12px;
  color: var(--text-gray);
  text-decoration: underline;
  margin-bottom: 32px;
}

/* Draft preview state */
.draft-preview {
  background: var(--bg-white);
  border-radius: 12px;
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  margin-bottom: 20px;
}

.draft-preview__photos {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 4px;
  padding: 4px;
}

.draft-preview__photo {
  aspect-ratio: 4/3;
  background: var(--bg-light-gray);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-gray);
  font-size: 12px;
}

.draft-preview__photo:first-child {
  grid-column: 1 / -1;
  aspect-ratio: 16/9;
}

.draft-preview__fields {
  padding: 20px;
}

.draft-field {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 0;
  border-bottom: 1px solid var(--border-color);
}

.draft-field:last-child { border-bottom: none; }

.draft-field__left {
  display: flex;
  align-items: center;
  gap: 10px;
}

.draft-field__check {
  width: 18px;
  height: 18px;
  color: var(--secondary-purple);
  flex-shrink: 0;
}

.draft-field__label {
  font-family: var(--font-inter);
  font-size: 12px;
  font-weight: 500;
  color: var(--text-gray);
}

.draft-field__value {
  font-family: var(--font-dm);
  font-size: 14px;
  font-weight: 400;
  color: var(--text-dark);
}

.draft-field__edit {
  width: 16px;
  height: 16px;
  color: var(--text-gray);
  cursor: pointer;
  opacity: 0.6;
  transition: opacity 0.15s;
}

.draft-field__edit:hover { opacity: 1; }

.draft-field--needed {
  background: rgba(254, 243, 226, 0.5);
  border-radius: 6px;
  padding: 12px;
  margin: 4px -12px;
}

.draft-field--needed .draft-field__label {
  color: #C4841D;
  font-weight: 600;
  font-size: 11px;
}

.price-row {
  background: var(--bg-off-white);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 20px;
}

.price-row__monthly {
  font-family: var(--font-dm);
  font-size: 20px;
  font-weight: 700;
  color: var(--primary-purple);
}

.price-row__nightly {
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 400;
  color: var(--text-gray);
  margin-top: 4px;
}

.publish-btn {
  display: block;
  width: 100%;
  padding: 14px;
  background: var(--gradient-purple-button);
  color: #ffffff;
  font-family: var(--font-inter);
  font-size: 16px;
  font-weight: 600;
  border: none;
  border-radius: 20px;
  cursor: pointer;
  box-shadow: var(--shadow-purple-sm);
  text-align: center;
}

.from-call {
  font-family: var(--font-inter);
  font-size: 12px;
  color: var(--text-gray);
  text-align: center;
  margin-top: 8px;
}

@media (max-width: 600px) {
  .listing-page { padding: 0; }
  body { padding: 16px; }
}
</style>
</head>
<body>
<div class="listing-page">
  <h1 class="listing-page__title">Create Your Listing</h1>

  <div class="draft-preview">
    <div class="draft-preview__photos">
      <div class="draft-preview__photo">Main Photo</div>
      <div class="draft-preview__photo">Photo 2</div>
      <div class="draft-preview__photo">Photo 3</div>
    </div>
    <div class="draft-preview__fields">
      <div class="draft-field">
        <div class="draft-field__left">
          <svg class="draft-field__check" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
          <div>
            <div class="draft-field__label">Address</div>
            <div class="draft-field__value">East Village, New York, NY</div>
          </div>
        </div>
        <svg class="draft-field__edit" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931z" /></svg>
      </div>
      <div class="draft-field">
        <div class="draft-field__left">
          <svg class="draft-field__check" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
          <div>
            <div class="draft-field__label">Space Type</div>
            <div class="draft-field__value">Renovated Large Studio</div>
          </div>
        </div>
        <svg class="draft-field__edit" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931z" /></svg>
      </div>
      <div class="draft-field">
        <div class="draft-field__left">
          <svg class="draft-field__check" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
          <div>
            <div class="draft-field__label">Monthly Rent</div>
            <div class="draft-field__value">\$1,600/month</div>
          </div>
        </div>
        <svg class="draft-field__edit" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931z" /></svg>
      </div>
      <div class="draft-field draft-field--needed">
        <div class="draft-field__left">
          <div style="width:18px;"></div>
          <div>
            <div class="draft-field__label">Needed: Description</div>
            <div class="draft-field__value" style="color: var(--text-gray); font-style: italic;">Add a short description of your space</div>
          </div>
        </div>
        <svg class="draft-field__edit" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" style="color: #C4841D;"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931z" /></svg>
      </div>
    </div>
  </div>

  <div class="price-row">
    <div class="price-row__monthly">\$1,600/month</div>
    <div class="price-row__nightly">= approximately \$53/night based on your lease style</div>
  </div>

  <button class="publish-btn">Publish Draft Listing</button>
  <div class="from-call">Built from your photos and call with Bryant</div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-0902-005",
      name: "Dual-Format Price Display: Monthly Income Dominates, Nightly Rate Derives",
      category: "card",
      source_elements: ["ds-ui-0902-005","communicates-0902-005","looks-0902-005","behaves-0902-006","feels-0902-005"],
      journey_phases: ["pricing","listing_creation","proposal_mgmt","active_lease"],
      priority: "high",
      description: "A pricing component that accepts monthly rent as the primary input and automatically calculates the nightly rate. The host types '$1,600' and sees the nightly equivalent update in real time. Monthly income is displayed at 28px bold purple (the largest number on screen), with the nightly derivation at 14px gray below it. Inline fee disclosure prevents surprise at payment time. Implements Lean UX's outcomes-over-outputs principle: the outcome is 'host is confident they will receive $1,600/month,' not 'host entered a nightly rate field.'",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Set Your Pricing</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-description: #374151;
  --bg-white: #ffffff;
  --bg-light: #f9fafb;
  --bg-light-gray: #f3f4f6;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-purple-sm: 0 2px 4px rgba(49, 19, 93, 0.2);
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-dm: 'DM Sans', sans-serif;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: var(--font-inter);
  background: var(--bg-light);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 24px;
}

.pricing-card {
  background: var(--bg-off-white);
  border-radius: 12px;
  padding: 24px;
  box-shadow: var(--shadow-sm);
  max-width: 420px;
  width: 100%;
}

.pricing-card__label {
  font-family: var(--font-inter);
  font-size: 11px;
  font-weight: 600;
  color: var(--text-gray);
  letter-spacing: 0.05em;
  text-transform: uppercase;
  margin-bottom: 8px;
}

.pricing-card__input-wrap {
  display: flex;
  align-items: center;
  gap: 4px;
  margin-bottom: 4px;
}

.pricing-card__dollar {
  font-family: var(--font-dm);
  font-size: 28px;
  font-weight: 700;
  color: var(--primary-purple);
}

.pricing-card__input {
  font-family: var(--font-dm);
  font-size: 28px;
  font-weight: 700;
  color: var(--primary-purple);
  border: none;
  background: transparent;
  outline: none;
  width: 140px;
  border-bottom: 2px solid var(--border-color);
  padding-bottom: 2px;
  transition: border-color 0.15s ease;
}

.pricing-card__input:focus {
  border-bottom-color: var(--secondary-purple);
}

.pricing-card__suffix {
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 400;
  color: var(--text-gray);
  margin-left: 4px;
  align-self: flex-end;
  padding-bottom: 6px;
}

.pricing-card__derivation {
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 400;
  color: var(--text-gray);
  margin-top: 8px;
  opacity: 0;
  transition: opacity 0.2s ease-out;
}

.pricing-card__derivation.visible {
  opacity: 1;
}

.pricing-card__fee {
  background: var(--bg-light-gray);
  border-radius: 6px;
  padding: 10px 12px;
  margin-top: 12px;
  font-family: var(--font-inter);
  font-size: 12px;
  font-weight: 500;
  color: var(--text-description);
  opacity: 0;
  transition: opacity 0.2s ease-out 0.1s;
}

.pricing-card__fee.visible {
  opacity: 1;
}

.pricing-card__fee strong {
  color: var(--primary-purple);
  font-weight: 600;
}

.pricing-card__divider {
  height: 1px;
  background: var(--border-color);
  margin: 20px 0;
}

.pricing-card__proposal {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.pricing-card__proposal-label {
  font-family: var(--font-inter);
  font-size: 12px;
  font-weight: 500;
  color: var(--text-gray);
}

.pricing-card__proposal-total {
  font-family: var(--font-dm);
  font-size: 18px;
  font-weight: 600;
  color: var(--primary-purple);
}

.pricing-card__call-note {
  margin-top: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  background: var(--bg-white);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  font-family: var(--font-inter);
  font-size: 12px;
  color: var(--text-description);
}

.pricing-card__call-note svg {
  width: 16px;
  height: 16px;
  color: var(--secondary-purple);
  flex-shrink: 0;
}

@media (max-width: 600px) {
  .pricing-card__input { font-size: 24px; width: 120px; }
  .pricing-card__dollar { font-size: 24px; }
}
</style>
</head>
<body>
<div class="pricing-card">
  <div class="pricing-card__label">Your Monthly Rent</div>
  <div class="pricing-card__input-wrap">
    <span class="pricing-card__dollar">\$</span>
    <input type="text" class="pricing-card__input" id="monthlyInput" value="1,600" inputmode="numeric">
    <span class="pricing-card__suffix">/month</span>
  </div>
  <div class="pricing-card__derivation visible" id="derivation">
    = ~\$53/night based on 30-night months
  </div>
  <div class="pricing-card__fee visible" id="feeRow">
    After Split Lease service fee (10%): you receive <strong>\$1,440/month</strong>
  </div>

  <div class="pricing-card__divider"></div>

  <div class="pricing-card__proposal">
    <span class="pricing-card__proposal-label">3-month lease with Ariel & Amber</span>
    <span class="pricing-card__proposal-total" id="leaseTotal">\$4,800</span>
  </div>

  <div class="pricing-card__call-note">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" /></svg>
    Based on your conversation with Bryant: \$1,600/month
  </div>
</div>

<script>
const input = document.getElementById('monthlyInput');
const derivation = document.getElementById('derivation');
const feeRow = document.getElementById('feeRow');
const leaseTotal = document.getElementById('leaseTotal');
let debounceTimer;

input.addEventListener('input', function() {
  clearTimeout(debounceTimer);
  debounceTimer = setTimeout(() => {
    const raw = this.value.replace(/[^0-9]/g, '');
    const monthly = parseInt(raw) || 0;
    if (monthly > 0) {
      const nightly = Math.round(monthly / 30);
      const net = Math.round(monthly * 0.9);
      const total = monthly * 3;
      this.value = monthly.toLocaleString();
      derivation.textContent = \`= ~\$\${nightly}/night based on 30-night months\`;
      derivation.classList.add('visible');
      feeRow.innerHTML = \`After Split Lease service fee (10%): you receive <strong>\$\${net.toLocaleString()}/month</strong>\`;
      feeRow.classList.add('visible');
      leaseTotal.textContent = \`\$\${total.toLocaleString()}\`;
    } else {
      derivation.classList.remove('visible');
      feeRow.classList.remove('visible');
    }
  }, 150);
});
</script>
</body>
</html>`
    },
  {
      id: "ds-ui-0902-006",
      name: "Proactive Payment Notification Cards: Amount and Date in One Glance",
      category: "card",
      source_elements: ["ds-ui-0902-006","communicates-0902-006","looks-0902-006","behaves-0902-005","feels-0902-001","feels-0902-007"],
      journey_phases: ["proposal_mgmt","active_lease","retention"],
      priority: "high",
      description: "A three-part proactive payment notification system: pre-notification (48 hours before), day-of confirmation, and lease-end lifetime summary. Each notification leads with the exact dollar amount and date. The guarantee badge appears on every notification. The retention card uses a premium purple gradient to frame lifetime earnings as a celebratory moment. Implements Lean UX's outcomes-over-outputs principle: the outcome is 'host feels confident about payment without checking,' not 'payment was processed.'",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Payment Notifications</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-description: #374151;
  --bg-white: #ffffff;
  --bg-light: #f9fafb;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-purple-sm: 0 2px 4px rgba(49, 19, 93, 0.2);
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-dm: 'DM Sans', sans-serif;
  --gradient-purple-primary: linear-gradient(135deg, #31135D 0%, #5a2d8f 100%);
  --gradient-purple-button: linear-gradient(135deg, #4B47CE 0%, #7C3AED 100%);
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: var(--font-inter);
  background: var(--bg-light);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  padding: 32px 24px;
  min-height: 100vh;
}

.notif-section-label {
  font-family: var(--font-inter);
  font-size: 11px;
  font-weight: 600;
  color: var(--text-gray);
  letter-spacing: 0.05em;
  text-transform: uppercase;
  width: 100%;
  max-width: 440px;
  margin-top: 8px;
}

.notif-card {
  background: var(--bg-off-white);
  border-radius: 12px;
  padding: 16px;
  box-shadow: var(--shadow-purple-sm);
  max-width: 440px;
  width: 100%;
  display: flex;
  gap: 14px;
  align-items: flex-start;
}

.notif-card__icon {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: var(--bg-off-white);
  border: 1px solid var(--border-color);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.notif-card__icon svg {
  width: 20px;
  height: 20px;
  color: var(--secondary-purple);
}

.notif-card__body {
  flex: 1;
}

.notif-card__text {
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 500;
  color: var(--text-dark);
  line-height: 1.5;
}

.notif-card__text .amount {
  font-weight: 700;
  color: var(--primary-purple);
}

.notif-card__sub {
  font-family: var(--font-dm);
  font-size: 12px;
  font-weight: 400;
  color: var(--text-gray);
  margin-top: 6px;
}

.notif-card__next {
  font-family: var(--font-inter);
  font-size: 12px;
  font-weight: 500;
  color: var(--text-gray);
  margin-top: 8px;
}

.notif-card__next .amount {
  font-weight: 600;
  color: var(--primary-purple);
}

.guarantee-badge {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  margin-top: 10px;
  padding: 5px 12px;
  background: var(--secondary-purple);
  color: #ffffff;
  font-family: var(--font-inter);
  font-size: 11px;
  font-weight: 600;
  border-radius: 20px;
}

.guarantee-badge svg {
  width: 12px;
  height: 12px;
}

/* Retention summary card */
.retention-card {
  background: var(--gradient-purple-primary);
  border-radius: 12px;
  padding: 28px 24px;
  box-shadow: var(--shadow-purple-sm);
  max-width: 440px;
  width: 100%;
  text-align: center;
  color: #ffffff;
}

.retention-card__amount {
  font-family: var(--font-dm);
  font-size: 32px;
  font-weight: 700;
  margin-bottom: 8px;
}

.retention-card__label {
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 400;
  opacity: 0.85;
  line-height: 1.5;
  margin-bottom: 6px;
}

.retention-card__detail {
  font-family: var(--font-inter);
  font-size: 12px;
  font-weight: 500;
  opacity: 0.7;
  margin-bottom: 20px;
}

.retention-card__cta {
  display: inline-block;
  padding: 12px 28px;
  background: rgba(255,255,255,0.2);
  backdrop-filter: blur(4px);
  color: #ffffff;
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 600;
  border: 1px solid rgba(255,255,255,0.3);
  border-radius: 20px;
  cursor: pointer;
  text-decoration: none;
  transition: background 0.15s ease;
}

.retention-card__cta:hover {
  background: rgba(255,255,255,0.3);
}

@media (max-width: 600px) {
  .retention-card__amount { font-size: 28px; }
  body { padding: 24px 16px; }
}
</style>
</head>
<body>

<div class="notif-section-label">Pre-notification (48 hours before)</div>
<div class="notif-card">
  <div class="notif-card__icon">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5" /></svg>
  </div>
  <div class="notif-card__body">
    <div class="notif-card__text">Your <span class="amount">\$1,600</span> payment for March is scheduled for <span class="amount">March 2</span>.</div>
    <span class="guarantee-badge">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" /></svg>
      Guaranteed by Split Lease
    </span>
  </div>
</div>

<div class="notif-section-label">Day-of confirmation</div>
<div class="notif-card">
  <div class="notif-card__icon">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
  </div>
  <div class="notif-card__body">
    <div class="notif-card__text">Your <span class="amount">\$1,600</span> has been released today, <span class="amount">March 2</span>.</div>
    <div class="notif-card__sub">Expected in your account within 1-2 business days.</div>
    <div class="notif-card__next">Next payment: <span class="amount">\$1,600</span> on April 2</div>
    <span class="guarantee-badge">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" /></svg>
      Guaranteed by Split Lease
    </span>
  </div>
</div>

<div class="notif-section-label">Lease complete (retention)</div>
<div class="retention-card">
  <div class="retention-card__amount">\$9,600</div>
  <div class="retention-card__label">Over 6 months with Ariel and Amber, every payment on time.</div>
  <div class="retention-card__detail">6 of 6 payments released. Guaranteed by Split Lease.</div>
  <a href="#" class="retention-card__cta">List Your Space Again</a>
</div>

</body>
</html>`
    },
  {
      id: "ds-ui-0902-007",
      name: "Hesitation-Detected Retreat Card: Simplify When the Host Stalls",
      category: "card",
      source_elements: ["ds-ui-0902-007","communicates-0902-007","looks-0902-007","behaves-0902-003","behaves-0902-007","feels-0902-003","feels-0902-006"],
      journey_phases: ["onboarding","listing_creation","pricing","proposal_mgmt"],
      priority: "high",
      description: "A hesitation-detected retreat mechanism that slides up from the bottom when the host stalls on a complex form. Offers a simplified 2-3 field alternative with warm, concessive copy ('This is a lot to take in. Start with the basics.'). The full form dims behind it, preserving context. Implements both Lean UX's permission-to-fail and small-batch-size principles, and is reinforced by Cialdini's rejection-then-retreat pattern from a prior run. Uses icon-first design for language accessibility, with maximum 8-word sentences for non-native English speakers like Robbie.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Listing Wizard with Retreat</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-description: #374151;
  --bg-white: #ffffff;
  --bg-light: #f9fafb;
  --bg-light-gray: #f3f4f6;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-purple-sm: 0 2px 4px rgba(49, 19, 93, 0.2);
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-dm: 'DM Sans', sans-serif;
  --gradient-purple-button: linear-gradient(135deg, #4B47CE 0%, #7C3AED 100%);
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: var(--font-inter);
  background: var(--bg-light);
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
}

/* Dimmed full form behind */
.wizard-bg {
  padding: 32px 24px;
  max-width: 560px;
  margin: 0 auto;
  transition: opacity 0.3s ease-in-out;
}

.wizard-bg.dimmed {
  opacity: 0.4;
  pointer-events: none;
}

.wizard-bg__title {
  font-family: var(--font-inter);
  font-size: 20px;
  font-weight: 700;
  color: var(--primary-purple);
  margin-bottom: 8px;
}

.wizard-bg__step {
  font-family: var(--font-inter);
  font-size: 12px;
  font-weight: 500;
  color: var(--text-gray);
  margin-bottom: 24px;
}

.wizard-bg__progress {
  display: flex;
  gap: 8px;
  margin-bottom: 24px;
}

.wizard-bg__progress-dot {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-inter);
  font-size: 11px;
  font-weight: 600;
}

.wizard-bg__progress-dot--active {
  background: var(--secondary-purple);
  color: #ffffff;
}

.wizard-bg__progress-dot--inactive {
  background: var(--bg-light-gray);
  color: var(--text-gray);
}

.wizard-field {
  margin-bottom: 20px;
}

.wizard-field label {
  display: flex;
  align-items: center;
  gap: 8px;
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 500;
  color: var(--text-dark);
  margin-bottom: 8px;
}

.wizard-field label svg {
  width: 20px;
  height: 20px;
  color: var(--secondary-purple);
}

.wizard-field input,
.wizard-field textarea {
  width: 100%;
  padding: 12px 16px;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  font-family: var(--font-inter);
  font-size: 14px;
  color: var(--text-dark);
  background: var(--bg-white);
  outline: none;
}

.wizard-field textarea {
  height: 100px;
  resize: vertical;
}

/* Retreat card */
.retreat-overlay {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 100;
  transform: translateY(100%);
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.retreat-overlay.visible {
  transform: translateY(0);
}

.retreat-card {
  max-width: 560px;
  margin: 0 auto;
  background: var(--bg-white);
  border-radius: 16px 16px 0 0;
  padding: 28px 24px 32px;
  box-shadow: 0 -4px 20px rgba(49, 19, 93, 0.15);
}

.retreat-card__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 8px;
}

.retreat-card__title {
  font-family: var(--font-dm);
  font-size: 18px;
  font-weight: 600;
  color: var(--text-dark);
}

.retreat-card__close {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 1px solid var(--border-color);
  background: var(--bg-white);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(--text-gray);
}

.retreat-card__close svg {
  width: 16px;
  height: 16px;
}

.retreat-card__subtitle {
  font-family: var(--font-dm);
  font-size: 14px;
  font-weight: 400;
  color: var(--text-gray);
  margin-bottom: 20px;
  line-height: 1.5;
}

.retreat-field {
  margin-bottom: 16px;
}

.retreat-field label {
  display: flex;
  align-items: center;
  gap: 8px;
  font-family: var(--font-inter);
  font-size: 13px;
  font-weight: 500;
  color: var(--text-dark);
  margin-bottom: 6px;
}

.retreat-field label svg {
  width: 18px;
  height: 18px;
  color: var(--secondary-purple);
}

.retreat-field input {
  width: 100%;
  padding: 10px 14px;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  font-family: var(--font-inter);
  font-size: 14px;
  color: var(--text-dark);
  background: var(--bg-white);
  outline: none;
}

.retreat-field input:focus {
  border-color: var(--secondary-purple);
}

.retreat-card__actions {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 20px;
}

.retreat-card__save {
  width: 100%;
  padding: 13px;
  background: var(--gradient-purple-button);
  color: #ffffff;
  font-family: var(--font-inter);
  font-size: 15px;
  font-weight: 600;
  border: none;
  border-radius: 20px;
  cursor: pointer;
  box-shadow: var(--shadow-purple-sm);
}

.retreat-card__full-link {
  text-align: center;
  font-family: var(--font-inter);
  font-size: 12px;
  color: var(--text-gray);
  text-decoration: underline;
  cursor: pointer;
}

.retreat-card__saved {
  font-family: var(--font-inter);
  font-size: 12px;
  color: var(--text-gray);
  text-align: center;
  margin-top: 8px;
}

.retreat-card__saved svg {
  width: 14px;
  height: 14px;
  color: var(--secondary-purple);
  vertical-align: middle;
  margin-right: 4px;
}

@media (max-width: 600px) {
  .retreat-card { padding: 24px 16px 28px; }
  .wizard-bg { padding: 24px 16px; }
}
</style>
</head>
<body>

<div class="wizard-bg dimmed">
  <h1 class="wizard-bg__title">Create Your Listing</h1>
  <div class="wizard-bg__step">Step 1 of 6: Space Snapshot</div>
  <div class="wizard-bg__progress">
    <div class="wizard-bg__progress-dot wizard-bg__progress-dot--active">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" width="16" height="16"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" /></svg>
    </div>
    <div class="wizard-bg__progress-dot wizard-bg__progress-dot--inactive">2</div>
    <div class="wizard-bg__progress-dot wizard-bg__progress-dot--inactive">3</div>
    <div class="wizard-bg__progress-dot wizard-bg__progress-dot--inactive">4</div>
    <div class="wizard-bg__progress-dot wizard-bg__progress-dot--inactive">5</div>
    <div class="wizard-bg__progress-dot wizard-bg__progress-dot--inactive">6</div>
  </div>
  <div class="wizard-field">
    <label>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 0115 0z" /></svg>
      Property Address
    </label>
    <input type="text" placeholder="Enter your full address">
  </div>
  <div class="wizard-field">
    <label>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" /></svg>
      Space Description
    </label>
    <textarea placeholder="Describe your space..."></textarea>
  </div>
  <div class="wizard-field">
    <label>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909M3.75 21h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v13.5A1.5 1.5 0 003.75 21z" /></svg>
      Upload Photos
    </label>
    <input type="text" placeholder="Drag photos here or click to upload">
  </div>
</div>

<div class="retreat-overlay visible">
  <div class="retreat-card">
    <div class="retreat-card__header">
      <span class="retreat-card__title">This is a lot to take in.</span>
      <button class="retreat-card__close" aria-label="Dismiss">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
      </button>
    </div>
    <div class="retreat-card__subtitle">
      How about we start with just the basics? You can add more details anytime.
    </div>
    <div class="retreat-field">
      <label>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 0115 0z" /></svg>
        Your Address
      </label>
      <input type="text" value="East Village, New York, NY" placeholder="Property address">
    </div>
    <div class="retreat-field">
      <label>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
        Monthly Rent
      </label>
      <input type="text" value="\$1,600" placeholder="\$0">
    </div>
    <div class="retreat-card__actions">
      <button class="retreat-card__save">Save Basics</button>
      <span class="retreat-card__full-link">Continue with the full version</span>
    </div>
    <div class="retreat-card__saved">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
      Everything you entered is saved.
    </div>
  </div>
</div>

</body>
</html>`
    }
];

function createSrcdoc(snippet) {
  return snippet;
}

function renderCards() {
  const grid = document.getElementById('elementGrid');
  const search = document.getElementById('searchInput').value.toLowerCase();
  const checkedPhases = Array.from(document.querySelectorAll('[data-filter-for="phase"] input:checked')).map(c => c.value);

  let filtered = ELEMENTS.filter(el => {
    if (search && !el.name.toLowerCase().includes(search) && !el.description.toLowerCase().includes(search)) return false;
    if (checkedPhases.length && !el.journey_phases.some(p => checkedPhases.includes(p))) return false;
    return true;
  });

  document.getElementById('resultCount').textContent = filtered.length + ' element' + (filtered.length !== 1 ? 's' : '');

  if (!filtered.length) {
    grid.innerHTML = '<div class="lib-empty">No elements match your filters.</div>';
    return;
  }

  grid.innerHTML = filtered.map((el, i) => {
    const phases = el.journey_phases.map(p => '<span class="lib-card__phase">' + p.replace(/_/g, ' ') + '</span>').join('');
    const sources = el.source_elements.map(s => '<code>' + s + '</code>').join(' ');
    return '<div class="lib-card" data-idx="' + ELEMENTS.indexOf(el) + '">' +
      '<div class="lib-card__preview"><iframe srcdoc="' + escapeAttr(el.html_css_snippet) + '" loading="lazy" sandbox="allow-same-origin"></iframe></div>' +
      '<div class="lib-card__body">' +
        '<div class="lib-card__top-row"><span class="lib-card__cat">UI Element</span><span class="lib-card__id">' + el.id + '</span></div>' +
        '<div class="lib-card__name">' + el.name + '</div>' +
        '<div class="lib-card__desc">' + el.description + '</div>' +
        '<div class="lib-card__phases">' + phases + '</div>' +
        '<div class="lib-card__sources"><strong>Sources:</strong> ' + sources + '</div>' +
      '</div></div>';
  }).join('');
}

function escapeAttr(s) {
  return s.replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}

function openModal(idx) {
  const el = ELEMENTS[idx];
  const overlay = document.getElementById('modalOverlay');
  const modal = document.getElementById('modalContent');
  const phases = el.journey_phases.map(p => '<span class="lib-card__phase" style="font-size:12px;padding:4px 10px;">' + p.replace(/_/g, ' ') + '</span>').join('');
  const sources = el.source_elements.map(s => '<code>' + s + '</code>').join(' ');

  modal.innerHTML =
    '<div class="lib-modal__preview"><iframe srcdoc="' + escapeAttr(el.html_css_snippet) + '" sandbox="allow-same-origin"></iframe><button class="lib-modal__close" onclick="closeModal()">&times;</button></div>' +
    '<div class="lib-modal__content">' +
      '<div class="lib-modal__header"><h2 class="lib-modal__title">' + el.name + '</h2></div>' +
      '<p class="lib-modal__desc">' + el.description + '</p>' +
      '<div class="lib-modal__section"><div class="lib-modal__section-title">Journey Phases</div><div class="lib-modal__phases-row">' + phases + '</div></div>' +
      '<div class="lib-modal__section"><div class="lib-modal__section-title">Source Elements</div><div class="lib-modal__sources-row">' + sources + '</div></div>' +
    '</div>';

  overlay.classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  document.getElementById('modalOverlay').classList.remove('open');
  document.body.style.overflow = '';
}

// Event listeners
document.getElementById('searchInput').addEventListener('input', renderCards);
document.querySelectorAll('.lib-filter-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const dropdown = btn.nextElementSibling;
    dropdown.classList.toggle('open');
    btn.classList.toggle('active');
  });
});
document.querySelectorAll('.lib-filter-dropdown input').forEach(cb => {
  cb.addEventListener('change', renderCards);
});
document.getElementById('elementGrid').addEventListener('click', e => {
  const card = e.target.closest('.lib-card');
  if (card) openModal(parseInt(card.dataset.idx));
});
document.getElementById('modalOverlay').addEventListener('click', e => {
  if (e.target === e.currentTarget) closeModal();
});
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });
window.addEventListener('scroll', () => {
  document.getElementById('toolbar').classList.toggle('scrolled', window.scrollY > 10);
});

// Initial render
renderCards();
</script>
</body>
</html>