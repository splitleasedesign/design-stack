<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DS Report: 2026-02-18_1000 (Dana + Refactoring UI)</title>
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif&family=Outfit:wght@300;400;500;600;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f6f4f0;
      --bg-deep: #eae7e1;
      --surface: #ffffff;
      --surface-warm: #fdfcfa;
      --ink: #1a1714;
      --ink-soft: #4a4640;
      --ink-muted: #8a857e;
      --ink-ghost: #bdb8b0;
      --accent: #2d5a3d;
      --accent-light: #e8f0eb;
      --accent-bright: #3a7a52;
      --signal-warn: #c17a28;
      --signal-warn-bg: #fef3e2;
      --signal-danger: #b83a3a;
      --signal-danger-bg: #fde8e8;
      --signal-info: #2d5a8a;
      --signal-info-bg: #e8f0fa;
      --signal-success: #2d5a3d;
      --signal-success-bg: #e8f0eb;
      --border: #e2dfd9;
      --border-strong: #ccc8c0;
      --radius-sm: 6px;
      --radius-md: 10px;
      --radius-lg: 16px;
      --shadow-sm: 0 1px 3px rgba(26,23,20,0.06);
      --shadow-md: 0 2px 8px rgba(26,23,20,0.08);
      --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Outfit', sans-serif; color: var(--ink); background: var(--bg); line-height: 1.6; }

    /* Header */
    .report-header { background: var(--surface); border-bottom: 1px solid var(--border); padding: 32px 40px; }
    .report-header h1 { font-family: 'Instrument Serif', serif; font-size: 36px; font-weight: 400; margin-bottom: 4px; }
    .report-header .lens-label { font-size: 16px; color: var(--ink-soft); margin-bottom: 12px; }
    .report-meta { display: flex; gap: 24px; flex-wrap: wrap; color: var(--ink-muted); font-size: 13px; font-family: 'IBM Plex Mono', monospace; }
    .badge { display: inline-flex; align-items: center; gap: 6px; padding: 2px 10px; border-radius: 9999px; font-size: 12px; font-weight: 500; }
    .badge-complete { background: var(--accent-light); color: var(--accent); }
    .badge-partial { background: var(--signal-warn-bg); color: var(--signal-warn); }

    /* Coherence Alert Bar */
    .coherence-bar { background: var(--signal-warn-bg); border-bottom: 1px solid rgba(193,122,40,0.2); padding: 10px 40px; font-size: 13px; color: var(--signal-warn); display: none; align-items: center; gap: 12px; }
    .coherence-bar.has-flags { display: flex; }
    .coherence-bar .count { font-family: 'IBM Plex Mono', monospace; font-weight: 600; }

    /* Tab Nav */
    .tab-nav { position: sticky; top: 0; z-index: 100; background: var(--surface); border-bottom: 1px solid var(--border); padding: 0 40px; display: flex; gap: 0; overflow-x: auto; box-shadow: var(--shadow-sm); }
    .tab-nav button { background: none; border: none; padding: 14px 20px; font-family: 'Outfit', sans-serif; font-size: 13px; font-weight: 500; color: var(--ink-muted); cursor: pointer; border-bottom: 2px solid transparent; transition: all 200ms var(--ease-out); white-space: nowrap; display: flex; align-items: center; gap: 8px; }
    .tab-nav button:hover { color: var(--ink-soft); }
    .tab-nav button.active { color: var(--accent); border-bottom-color: var(--accent); }
    .tab-nav button .layer-num { display: inline-flex; align-items: center; justify-content: center; width: 20px; height: 20px; border-radius: 50%; background: var(--bg-deep); font-size: 11px; font-family: 'IBM Plex Mono', monospace; font-weight: 600; color: var(--ink-muted); }
    .tab-nav button.active .layer-num { background: var(--accent); color: white; }

    /* Main */
    .main-content { max-width: 1200px; margin: 0 auto; padding: 32px 40px; }
    .tab-panel { display: none; animation: fadeIn 300ms var(--ease-out); }
    .tab-panel.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: translateY(0); } }

    /* Element Card */
    .element-card { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: 28px 32px; margin-bottom: 20px; box-shadow: var(--shadow-sm); }
    .element-card-header { display: flex; align-items: flex-start; gap: 12px; margin-bottom: 16px; padding-bottom: 14px; border-bottom: 1px solid var(--border); flex-wrap: wrap; }
    .element-card-header h3 { font-family: 'Instrument Serif', serif; font-size: 22px; font-weight: 400; flex: 1; min-width: 200px; }
    .type-badge { padding: 3px 10px; border-radius: 9999px; font-size: 11px; font-family: 'IBM Plex Mono', monospace; font-weight: 600; text-transform: uppercase; letter-spacing: 0.03em; }
    .type-process_pattern { background: #e8f0fa; color: #2d5a8a; }
    .type-info_architecture { background: #f0e8fa; color: #6a2d8a; }
    .type-visual_pattern { background: #fae8f0; color: #8a2d5a; }
    .type-interaction_pattern { background: #faf0e8; color: #8a5a2d; }
    .type-emotional_element { background: #e8faf0; color: #2d8a5a; }
    .type-validation_strategy { background: var(--bg-deep); color: var(--ink-soft); }
    .priority-badge { padding: 3px 10px; border-radius: 9999px; font-size: 11px; font-family: 'IBM Plex Mono', monospace; font-weight: 600; }
    .priority-high { background: var(--signal-danger-bg); color: var(--signal-danger); }
    .priority-medium { background: var(--signal-warn-bg); color: var(--signal-warn); }
    .priority-low { background: var(--bg-deep); color: var(--ink-muted); }

    /* Phase Tags */
    .phase-tags { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 16px; }
    .phase-tag { padding: 2px 8px; border-radius: var(--radius-sm); font-size: 11px; font-family: 'IBM Plex Mono', monospace; background: var(--accent-light); color: var(--accent); }

    /* Problem/Solution */
    .ps-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px; }
    .ps-box { padding: 14px 16px; border-radius: var(--radius-md); font-size: 14px; }
    .ps-box.problem { background: var(--signal-danger-bg); border-left: 3px solid var(--signal-danger); }
    .ps-box.solution { background: var(--signal-success-bg); border-left: 3px solid var(--signal-success); }
    .ps-box label { display: block; font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--ink-muted); margin-bottom: 4px; font-family: 'IBM Plex Mono', monospace; }
    @media (max-width: 700px) { .ps-grid { grid-template-columns: 1fr; } }

    /* Evidence */
    .evidence-toggle { background: none; border: 1px solid var(--border); border-radius: var(--radius-sm); padding: 6px 14px; font-size: 12px; font-family: 'IBM Plex Mono', monospace; cursor: pointer; color: var(--ink-muted); transition: all 150ms; }
    .evidence-toggle:hover { border-color: var(--accent); color: var(--accent); }
    .evidence-list { display: none; margin-top: 12px; }
    .evidence-list.open { display: block; }
    .evidence-item { padding: 10px 14px; margin: 6px 0; background: var(--surface-warm); border: 1px solid var(--border); border-radius: var(--radius-sm); font-size: 13px; }
    .evidence-item .source { font-family: 'IBM Plex Mono', monospace; font-size: 11px; color: var(--accent); font-weight: 600; margin-bottom: 4px; }
    .evidence-item .quote { color: var(--ink-soft); font-style: italic; }
    .evidence-item .insight { color: var(--ink); margin-top: 4px; }

    /* Layer-specific fields */
    .extra-fields { margin-top: 16px; display: grid; gap: 8px; }
    .extra-field { font-size: 13px; }
    .extra-field label { font-weight: 600; color: var(--ink-soft); font-size: 12px; }
    .extra-field .value { color: var(--ink); }

    /* Coherence sections */
    .coherence-section { margin-bottom: 28px; }
    .coherence-section h3 { font-family: 'Instrument Serif', serif; font-size: 20px; font-weight: 400; margin-bottom: 12px; }
    .reinforcement-card { padding: 14px 16px; margin: 8px 0; border-radius: var(--radius-md); background: var(--signal-success-bg); border-left: 4px solid var(--signal-success); font-size: 14px; }
    .contradiction-card { padding: 14px 16px; margin: 8px 0; border-radius: var(--radius-md); background: var(--signal-danger-bg); border-left: 4px solid var(--signal-danger); font-size: 14px; }
    .extension-card { padding: 14px 16px; margin: 8px 0; border-radius: var(--radius-md); background: var(--signal-info-bg); border-left: 4px solid var(--signal-info); font-size: 14px; }
    .card-label { font-family: 'IBM Plex Mono', monospace; font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 4px; }

    /* Coverage Map */
    .coverage-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 10px; margin: 16px 0; }
    .coverage-cell { padding: 12px; border-radius: var(--radius-md); text-align: center; border: 1px solid var(--border); }
    .coverage-cell .phase-name { font-family: 'IBM Plex Mono', monospace; font-size: 11px; font-weight: 600; color: var(--ink-muted); margin-bottom: 4px; }
    .coverage-cell .count { font-size: 24px; font-weight: 700; }
    .coverage-cell .level { font-size: 11px; color: var(--ink-muted); }
    .coverage-none { background: var(--signal-danger-bg); }
    .coverage-thin { background: var(--signal-warn-bg); }
    .coverage-moderate { background: var(--signal-info-bg); }
    .coverage-strong { background: var(--signal-success-bg); }

    /* Journey Context phase cards */
    .phase-card { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius-md); padding: 20px; margin-bottom: 12px; }
    .phase-card h4 { font-family: 'IBM Plex Mono', monospace; font-size: 13px; font-weight: 600; color: var(--accent); margin-bottom: 8px; text-transform: uppercase; }
    .phase-card p { font-size: 14px; color: var(--ink-soft); margin-bottom: 6px; }
    .phase-card .risk { font-size: 12px; font-family: 'IBM Plex Mono', monospace; padding: 2px 8px; border-radius: 9999px; display: inline-block; margin-top: 6px; }
    .risk-critical { background: var(--signal-danger-bg); color: var(--signal-danger); }
    .risk-high { background: var(--signal-warn-bg); color: var(--signal-warn); }
    .risk-medium { background: var(--signal-info-bg); color: var(--signal-info); }
    .risk-low { background: var(--bg-deep); color: var(--ink-muted); }

    /* Responsive + Print */
    @media (max-width: 768px) { .report-header, .main-content, .tab-nav, .coherence-bar { padding-left: 20px; padding-right: 20px; } }
    @media print { .tab-nav, .coherence-bar { display: none; } .tab-panel { display: block !important; page-break-inside: avoid; } body { background: white; } }
  </style>
</head>
<body>

  <!-- Data injection points -->
  <!-- INJECT:run-config -->
  <script id="run-config" type="application/json">{"run_id":"2026-02-18_1000","process_type":"design-stack","journey_type":"host","lens":{"call_file":"dana-call.txt","book_extract":"refactoringui-hierarchy-spacing-color.txt","book_chapters":"Hierarchy, Layout and Spacing, Typography, Color, Depth and Shadows, Working with Images, Finishing Touches"},"status":"running","started_at":"2026-02-18T10:00:00Z"}</script>
  <!-- INJECT:layer-0 -->
  <script id="data-layer-0" type="application/json">{
  "lens": {
    "host_call": "dana-call.txt",
    "book_extract": "refactoringui-hierarchy-spacing-color.txt",
    "lens_summary": "A time-starved, emotionally overloaded flight attendant host with strong tenant-type preferences reveals how visual hierarchy and progressive disclosure must surface the right information instantly for users who cannot afford to hunt, scan, or deliberate."
  },
  "phases": {
    "discovery": {
      "what_this_lens_reveals": "Dana was discovered via Furnished Finder, not through Split Lease's own discovery channel. Bryant found her listing externally and cold-called. This means Dana's discovery phase was inverted: the platform found her, not the other way around. Refactoring UI's 'start with a feature, not a layout' principle applies here — when the host's first touchpoint is an outbound call, the platform's discovery experience is irrelevant. What matters is the information architecture of the follow-up materials Bryant sends. Those materials must pass a visual hierarchy test: the most important thing (what Split Lease does for Dana specifically) must be visually dominant, not buried in marketing copy.",
      "user_state": {
        "emotional_state": "Overwhelmed and distracted — dealing with family emergency (parents' house fire), working as flight attendant with night shifts, phone 'blown up nonstop' (06:46). Not emotionally available for platform evaluation.",
        "knowledge_level": "Knows nothing about Split Lease at this point. Has deep knowledge of the short-term hosting market from travel nurse experience. Knows exactly what guest type she wants.",
        "commitment_level": "Passive — she did not seek out Split Lease. Bryant reached out to her. She is willing to listen but cannot commit bandwidth.",
        "data_available": "Listing exists on Furnished Finder. Property details: furnished room with private roof garden, garage parking, Manhattan location, available April 1st."
      },
      "dropout_risk": {
        "level": "high",
        "reasons": [
          "She did not seek Split Lease — no intrinsic motivation to explore",
          "Severe cognitive overload from family emergency and work schedule",
          "Current listing platform (Furnished Finder) is working well enough historically",
          "Phone blown up — any follow-up email/link competes with dozens of other notifications"
        ],
        "evidence": "dana-call.txt 05:56-06:46: 'I'm a flight attendant and my parents accidentally burnt down their house a month ago... All my folders and blown up nonstop.'"
      },
      "key_quotes": [
        {
          "source": "dana-call.txt, 05:33",
          "quote": "I came across it on furnished finder. It's called the furnished room with private roof garden.",
          "relevance": "Dana is already listed on a competitor platform. Split Lease must demonstrate clear value over Furnished Finder to earn her attention."
        },
        {
          "source": "dana-call.txt, 05:56-06:46",
          "quote": "I'm a flight attendant and my parents accidentally burnt down their house a month ago... All my folders and blown up nonstop.",
          "relevance": "Extreme cognitive load. Any discovery material must be scannable in seconds, not minutes. Refactoring UI: hierarchy must do the heavy lifting because this user will not read."
        },
        {
          "source": "refactoringui, Hierarchy is Everything",
          "quote": "When everything in an interface is competing for attention, it feels noisy and chaotic. When you deliberately de-emphasize secondary and tertiary information, the result is immediately more pleasing.",
          "relevance": "Follow-up materials to Dana must have ruthless visual hierarchy — one message, visually dominant, with everything else de-emphasized."
        }
      ]
    },
    "evaluation": {
      "what_this_lens_reveals": "Dana's evaluation is entirely shaped by her past tenant experiences. She has a clear mental model of good tenants (travel nurses: clean, responsible, secondary-address, minimal presence) and bad tenants (WFH full-timers: cooking fish, too much presence). Her evaluation of Split Lease will hinge on whether the platform's UI immediately communicates that it serves the guest type she wants. Refactoring UI's 'labels are a last resort' principle is critical here: Dana doesn't need labels saying 'Guest Type: Part-time'; she needs the guest profile itself to visually communicate part-time vs. full-time occupancy at a glance, through information design rather than explicit labeling.",
      "user_state": {
        "emotional_state": "Guarded but hopeful. Strong negative emotional anchoring from bad tenant experiences ('nightmares' — 04:07). Nostalgic and positive about travel nurse era ('never, ever, ever had a problem' — 04:07).",
        "knowledge_level": "Expert in hosting. Has years of experience with different tenant types. Knows exactly what questions to ask (parking, shared living arrangement, work type). Does not know Split Lease's vetting process or guarantees.",
        "commitment_level": "Evaluating cautiously. Willing to receive information ('Would I be able to send you some more information' — 03:08 prompts a positive response) but not ready to act.",
        "data_available": "Guest type preference (secondary address, part-week), property details, availability timeline (April 1st), competitor platform usage (Furnished Finder)."
      },
      "dropout_risk": {
        "level": "critical",
        "reasons": [
          "If follow-up materials do not immediately signal 'we connect you with part-week guests, not full-time tenants,' Dana's System 1 will categorize Split Lease as another generic roommate platform",
          "Her negative experiences are emotionally charged — any UI element that reminds her of the bad tenant scenario (full-time occupancy language, cooking amenity prominence) could trigger avoidance",
          "Time pressure: she's leaving for work tonight, back Sunday. The evaluation window is narrow."
        ],
        "evidence": "dana-call.txt 04:07-05:02: 'Since the pandemic I've had other people... nightmares. I had a guy cooking fish in my house two times a day. He was a computer guy working at home. I will never do that again. Never.'"
      },
      "key_quotes": [
        {
          "source": "dana-call.txt, 04:07",
          "quote": "I have never, ever, ever had a problem with the travelers. They're clean. They're responsible. There's no questions asked.",
          "relevance": "Triple emphasis ('never, ever, ever') reveals the depth of preference. The platform must make guest-type filtering visually primary in any evaluation touchpoint."
        },
        {
          "source": "dana-call.txt, 05:02",
          "quote": "He was a computer guy working at home. I will never do that again. Never.",
          "relevance": "Absolute rejection of full-time WFH tenants. The platform's guest profiles must visually differentiate part-week from full-time occupancy patterns."
        },
        {
          "source": "refactoringui, Labels are a last resort",
          "quote": "When you're able to present data without labels, it's much easier to emphasize important or identifying information, making the interface easier to use.",
          "relevance": "Guest occupancy pattern (Mon-Thu, secondary address) should be shown through visual design — day badges, occupancy calendars — not through labeled fields like 'Stay Type: Part-week'."
        }
      ]
    },
    "onboarding": {
      "what_this_lens_reveals": "The call itself IS the onboarding. Dana's onboarding experience is shaped by two factors: (1) Bryant's conversational competence — he adjusts to her time constraints, acknowledges her emergency, and doesn't push — and (2) Dana's own expertise as a host, which means she volunteers information quickly (property details, guest preferences, availability) without needing prompts. Refactoring UI's 'detail comes later' principle maps perfectly: Bryant keeps the call high-level and doesn't push for detailed commitments. The platform's post-call onboarding must mirror this restraint — don't ask for everything at once, start with what was already discussed in the call.",
      "user_state": {
        "emotional_state": "Distracted but engaged in bursts. Alternates between providing useful information and diverting to her emergency situation. Emotional volatility — moments of enthusiasm about travel nurses followed by stress about parents.",
        "knowledge_level": "Understands hosting deeply. Does not yet understand Split Lease's specific process, fee structure, or platform mechanics.",
        "commitment_level": "Open to follow-up but not ready to commit to any action. 'Feel free to reach out... whether it's next week or in a couple of months' (06:26) — this is deferred engagement.",
        "data_available": "Everything from the call: property type, location, availability date, guest preference, competitor platform, personal situation (flight attendant, family emergency)."
      },
      "dropout_risk": {
        "level": "high",
        "reasons": [
          "The gap between the call and any platform touchpoint is undefined — could be days or months",
          "Dana explicitly signals she cannot engage now: 'I have to go to work tonight. I won't be back towards Sunday' (05:56)",
          "No mechanism to capture the trust built in the call and carry it to the platform"
        ],
        "evidence": "dana-call.txt 06:26: 'Whether it's next week or in a couple of months, if you have any questions, you can always feel free to reach out.' This signals Dana expects the timeline to be long."
      },
      "key_quotes": [
        {
          "source": "dana-call.txt, 03:08",
          "quote": "Would I be able to send you some more information about Split Lease?",
          "relevance": "Bryant asks permission before pushing information — respectful onboarding. The platform must mirror this: offer information, don't force it."
        },
        {
          "source": "refactoringui, Detail comes later",
          "quote": "In the earliest stages of designing a new feature, it's important that you don't get hung up making low-level decisions... Hold the color.",
          "relevance": "Applied to onboarding: don't ask Dana for detailed listing information immediately. Start with confirming what was discussed in the call, then progressively ask for more."
        }
      ]
    },
    "listing_creation": {
      "what_this_lens_reveals": "Dana already has a listing on Furnished Finder. Her listing creation on Split Lease should not start from scratch — it should import or pre-populate from what already exists. Refactoring UI's 'don't design too much' and 'work in cycles' principles apply: the listing wizard should capture the minimum viable listing first (property type, location, availability, guest preferences) and let Dana refine later. The book's 'you don't have to fill the whole screen' principle is critical — Dana's listing creation screen should show only what's essential, with generous white space, not a wall of required fields.",
      "user_state": {
        "emotional_state": "Would approach listing creation with impatience — she's done this before on another platform and will compare the experience. Any friction will be measured against Furnished Finder's flow.",
        "knowledge_level": "Expert at listing creation. Has photos, description, and amenities already prepared from Furnished Finder listing.",
        "commitment_level": "Would only engage if the perceived effort is low and the promised value (better guest matching) is high.",
        "data_available": "Full listing already exists on Furnished Finder: 'furnished room with private roof garden' (05:33). Photos, description, amenities, parking info, and house rules are already created."
      },
      "dropout_risk": {
        "level": "high",
        "reasons": [
          "If the wizard asks for information she's already provided in the call or on Furnished Finder, she will perceive redundancy as disrespect for her time",
          "A 6-step wizard is too many steps for a user with her cognitive load",
          "Refactoring UI warns: 'expect it to be hard to build — design the smallest useful version you can ship' — the listing wizard may be trying to capture too much upfront"
        ],
        "evidence": "dana-call.txt, Key Observations: Listed on Furnished Finder. Has established listing with photos, description, amenities."
      },
      "key_quotes": [
        {
          "source": "dana-call.txt, 05:33",
          "quote": "I came across it on furnished finder. It's called the furnished room with private roof garden.",
          "relevance": "The listing already exists elsewhere. Split Lease should offer to import or pre-fill from existing listing data."
        },
        {
          "source": "refactoringui, Don't design too much",
          "quote": "Designing the smallest useful version you can ship reduces risk considerably. If part of a feature is a nice-to-have, design it later.",
          "relevance": "The listing wizard should capture minimal viable information first: type, location, availability, price range, guest preference. Everything else is a nice-to-have that can come later."
        },
        {
          "source": "refactoringui, You don't have to fill the whole screen",
          "quote": "Just because you have the space doesn't mean you need to use it. Give your content room to breathe.",
          "relevance": "Listing creation screens should have generous white space and not feel dense. Dana's cognitive bandwidth cannot absorb a packed interface."
        }
      ]
    },
    "pricing": {
      "what_this_lens_reveals": "Pricing is barely touched in this call — Bryant doesn't discuss rates, fees, or payment structure. This is both a risk and an opportunity. Dana's pricing mental model is anchored to Furnished Finder's model (likely nightly rates for travel nurses). Refactoring UI's 'balance weight and contrast' principle applies to how pricing information is displayed: the host's earnings should be visually heavy (bold, large, high contrast), while platform fees and deductions should be visually lighter (smaller, softer color). The book's principle of 'not all elements are equal' is essential: in a pricing breakdown, the number that matters most to Dana (her take-home income) must be the most visually prominent element.",
      "user_state": {
        "emotional_state": "Unknown for pricing specifically. Generally, flight attendants have variable income and may be price-sensitive about hosting returns.",
        "knowledge_level": "Knows travel nurse pricing (nightly rates). Does not know Split Lease's fee structure, payment guarantee model, or how pricing compares.",
        "commitment_level": "Has not reached this phase yet. Would only engage if evaluation and onboarding succeed.",
        "data_available": "Existing pricing on Furnished Finder listing (not disclosed in call). Guest type preference suggests she values reliability of payment over maximum rate."
      },
      "dropout_risk": {
        "level": "medium",
        "reasons": [
          "If fee structure is confusing or visually buried, Dana will default to Furnished Finder where she already understands the economics",
          "If the platform fee feels like it eats into her earnings without clear value justification, she will reject it"
        ],
        "evidence": "dana-call.txt 05:44: 'If you find me a travel nurse, I'll give you a piggyback' — Dana is willing to pay for value (finder's fee) but it must be tied to a concrete outcome she cares about."
      },
      "key_quotes": [
        {
          "source": "dana-call.txt, 05:44",
          "quote": "If you find me a travel nurse, I'll give you a piggyback, you know?",
          "relevance": "Dana explicitly links payment to outcome. Pricing UI should frame fees as 'what you pay for the guest matching service' not as a percentage deduction."
        },
        {
          "source": "refactoringui, Not all elements are equal",
          "quote": "Visual hierarchy refers to how important the elements in an interface appear in relation to one another. When everything competes for attention, it feels noisy and chaotic.",
          "relevance": "In a pricing breakdown, Dana's take-home income should be visually dominant. Platform fees should be de-emphasized — present but not competing for attention."
        }
      ]
    },
    "proposal_mgmt": {
      "what_this_lens_reveals": "The call reveals Dana's guest screening criteria in detail. She evaluates guests on: (1) occupancy pattern (part-week preferred, full-time rejected), (2) profession/lifestyle (travel nurses ideal, WFH workers rejected), (3) presence level (secondary address preferred — 'they have another place' 04:46). The proposal management UI must surface these three criteria immediately and visually. Refactoring UI's 'labels are a last resort' principle: instead of 'Occupancy Type: Part-week', show a visual calendar with Mon-Thu highlighted. Instead of 'Guest Status: Secondary Address', show the guest's primary location and this-listing-as-secondary visually.",
      "user_state": {
        "emotional_state": "Would be cautiously optimistic receiving a proposal but immediately vigilant about guest type. The bad tenant experience means every proposal triggers threat assessment first, opportunity assessment second.",
        "knowledge_level": "Expert at screening guests from years of hosting. Has clear mental model of what she wants.",
        "commitment_level": "Would engage quickly if the guest profile immediately communicates the right type. Would disengage immediately if it doesn't.",
        "data_available": "Guest name (Allen), occupancy pattern (Mon-Thu), work location (Manhattan), reason for stay (hybrid work commute)."
      },
      "dropout_risk": {
        "level": "medium",
        "reasons": [
          "If the proposal view doesn't immediately surface guest occupancy pattern and stay frequency, Dana must hunt for this information",
          "If guest profiles look generic (name + photo + dates), Dana cannot apply her screening criteria quickly",
          "Refactoring UI's hierarchy principle: if occupancy pattern is buried below dates and pricing, Dana sees dates and pricing first — which are not her primary decision factors"
        ],
        "evidence": "dana-call.txt 02:38: 'I do not know the exact type of work. I know that's his reason for wanting the space is to be in Manhattan... looking for the workweek, Monday to Thursday.' Dana's first questions about a guest are about work pattern and presence level, not price."
      },
      "key_quotes": [
        {
          "source": "dana-call.txt, 02:38",
          "quote": "He was looking just to be for the workweek, Monday to Thursday.",
          "relevance": "Occupancy pattern is Dana's primary evaluation criterion. It must be the most visually prominent element in the proposal view."
        },
        {
          "source": "dana-call.txt, 04:46",
          "quote": "All of the guests that we work with, this is their secondary address. They have another place and are just looking for...",
          "relevance": "Secondary address status is a trust signal for Dana. The proposal should visually communicate this — perhaps showing the guest's primary city alongside the stay request."
        },
        {
          "source": "refactoringui, Emphasize by de-emphasizing",
          "quote": "Instead of trying to further emphasize the element you want to draw attention to, figure out how you can de-emphasize the elements that are competing with it.",
          "relevance": "In proposal view: de-emphasize dates and pricing (secondary for Dana), which makes occupancy pattern and guest type naturally more prominent."
        }
      ]
    },
    "active_lease": {
      "what_this_lens_reveals": "Dana is a flight attendant who works nights and is frequently away from home. This means the active lease phase must accommodate a host who is often physically absent and has unpredictable availability. The Stays Manager, Date Change Tool, and guest communication features are critical for Dana because she cannot be present to manage the space in person. Refactoring UI's 'empty states' principle is important: when Dana checks her lease dashboard during a gap between flights, the screen must immediately communicate status — is the guest there? Is a stay coming up? Are there any issues? The 'don't overlook empty states' principle from the book's Finishing Touches chapter means that even when nothing is happening (guest not currently staying), the UI should communicate calm reassurance rather than emptiness.",
      "user_state": {
        "emotional_state": "Anxious about guest behavior when she's not home. The fish-cooking incident happened when she was presumably present — imagine the anxiety when she's away on a flight.",
        "knowledge_level": "Would need to learn the Stays Manager, Date Change Tool, and communication features. Her mental model is direct communication (phone/text) with tenants.",
        "commitment_level": "High if the guest is the right type. She was very happy with travel nurses and would be committed to managing the lease well for good guests.",
        "data_available": "Guest stay pattern, host work schedule (if provided), property details, house rules."
      },
      "dropout_risk": {
        "level": "medium",
        "reasons": [
          "If the active lease dashboard requires her to check frequently to stay informed, her flight schedule makes this impossible",
          "If communication with guests requires platform-specific workflows rather than quick messages, she'll default to texting",
          "If the cleaning photos feature doesn't surface clearly after each stay, she loses a key trust mechanism"
        ],
        "evidence": "dana-call.txt 05:56: 'I'm a flight attendant... I have to go to work tonight. I won't be back towards Sunday.' Her work pattern means she needs asynchronous, glanceable lease management."
      },
      "key_quotes": [
        {
          "source": "dana-call.txt, 05:56",
          "quote": "I'm a flight attendant and my parents accidentally burnt down their house... I have to go to work tonight. I won't be back towards Sunday.",
          "relevance": "Dana is physically absent for days at a time. The active lease UI must work for someone who checks in briefly between flights, not someone who monitors daily."
        },
        {
          "source": "refactoringui, Don't overlook empty states",
          "quote": "Don't overlook empty states. Empty states are a user's first interaction with a new product and your chance to make everything click for them.",
          "relevance": "When Dana checks her lease dashboard and the guest isn't currently staying, the empty state should communicate 'everything is fine, next stay is [date]' — not show a blank screen."
        }
      ]
    },
    "retention": {
      "what_this_lens_reveals": "Dana's retention hinges entirely on guest quality. She explicitly states she 'never had a problem' with travel nurses and was fully retained as a host during that era. Her departure risk comes from bad guest experiences, not platform issues. Refactoring UI's 'choose a personality' principle applies to retention communications: the tone should match Dana's no-nonsense, experienced-host personality. She doesn't need cheerful marketing — she needs practical proof that Split Lease delivers better guests than Furnished Finder. The 'finishing touches' chapter's 'supercharge the defaults' principle means retention dashboards should default to showing Dana what matters: guest quality metrics, occupancy pattern compliance, and upcoming guest profiles — not generic 'how's it going?' check-ins.",
      "user_state": {
        "emotional_state": "Would be loyal and enthusiastic if guest quality is high. Would be bitter and vocal if it's not — she's already had 'nightmare' experiences and has zero tolerance.",
        "knowledge_level": "Expert host with strong opinions. Would provide excellent feedback and referrals if satisfied.",
        "commitment_level": "Binary: fully committed if guests are good, fully disengaged if they're not. No middle ground.",
        "data_available": "Lease history, guest reviews, payment history, stay patterns, host satisfaction signals."
      },
      "dropout_risk": {
        "level": "medium",
        "reasons": [
          "One bad guest experience could end her relationship with Split Lease permanently",
          "If she perceives no improvement over Furnished Finder in guest quality, there's no reason to maintain two platforms",
          "She explicitly offered a 'piggyback' (finder's fee) for travel nurse placement — if Split Lease can't deliver her preferred guest type, retention fails"
        ],
        "evidence": "dana-call.txt 04:07: 'I have never, ever, ever had a problem with the travelers... all these tenants I've just had, I've been nightmares.' The contrast between good and bad experiences is absolute."
      },
      "key_quotes": [
        {
          "source": "dana-call.txt, 05:44",
          "quote": "If you find me a travel nurse, I'll give you a piggyback.",
          "relevance": "Retention for Dana = delivering the right guest type. The platform's retention strategy must center on guest quality matching, not discounts or features."
        },
        {
          "source": "refactoringui, Choose a personality",
          "quote": "Every design has some sort of personality. Deciding what you actually want is about looking at other sites used by the people you want to reach.",
          "relevance": "Dana is a no-nonsense professional. Retention communications should be direct, factual, and results-oriented — not playful or marketing-heavy."
        }
      ]
    }
  },
  "cross_phase_patterns": [
    {
      "pattern": "Guest-type visual hierarchy as the primary decision driver across all phases",
      "phases_affected": ["evaluation", "proposal_mgmt", "active_lease", "retention"],
      "evidence": "dana-call.txt 04:07-05:02: Dana's entire hosting philosophy revolves around guest type (travel nurses vs. WFH tenants). Refactoring UI's hierarchy principles (not all elements are equal, emphasize by de-emphasizing) apply across every phase where guest information appears. The platform must make occupancy pattern and guest lifestyle the visually dominant information in every guest-related screen."
    },
    {
      "pattern": "Design for the physically absent, time-fragmented host",
      "phases_affected": ["discovery", "onboarding", "listing_creation", "active_lease"],
      "evidence": "dana-call.txt 05:56: Dana is a flight attendant dealing with a family emergency. She works nights, travels constantly, and her phone is 'blown up nonstop.' Refactoring UI's 'start with too much white space' and hierarchy principles mean every screen must be scannable in seconds, not minutes. The host journey must accommodate someone who engages in 30-second bursts between flights, not someone who sits at a computer for 20 minutes."
    },
    {
      "pattern": "Trust through guest-type filtering, not platform features",
      "phases_affected": ["evaluation", "proposal_mgmt", "retention"],
      "evidence": "Dana never asks about platform features — no questions about the app, the dashboard, or the tools. Her only evaluative criteria is: 'Can you get me the right kind of guest?' (05:44: 'If you find me a travel nurse'). Refactoring UI's 'labels are a last resort' principle suggests that trust-building should happen through showing, not telling — showing guest occupancy calendars, showing secondary-address status, showing work patterns — rather than labeling features."
    },
    {
      "pattern": "Negative experience anchoring requires visual reassurance at every guest touchpoint",
      "phases_affected": ["proposal_mgmt", "active_lease", "retention"],
      "evidence": "dana-call.txt 04:30-05:02: The fish-cooking WFH tenant story is told with vivid emotional detail and absolute rejection ('I will never do that again. Never.'). This negative anchoring means every guest profile, proposal, and active lease screen must visually communicate that this guest is the type Dana wants. Refactoring UI's 'balance weight and contrast' principle: guest-type compatibility signals should be visually heavy (bold, prominent), while any information that might trigger the negative memory (full-time occupancy, remote work) should be handled with extreme care."
    },
    {
      "pattern": "Existing listing as import opportunity to reduce friction across creation phases",
      "phases_affected": ["onboarding", "listing_creation", "pricing"],
      "evidence": "dana-call.txt 05:33: Dana already has a complete listing on Furnished Finder. Refactoring UI's 'don't design too much' and 'be a pessimist' principles: design the listing creation for hosts who already have listings elsewhere. The smallest useful version is an import flow, not a blank wizard. This reduces creation time from minutes to seconds for experienced hosts like Dana."
    }
  ],
  "sources_consulted": [
    "dana-call.txt — full transcript analyzed for host emotional state, guest preferences, time constraints, platform awareness, and behavioral observations",
    "refactoringui-hierarchy-spacing-color.txt — chapters on Hierarchy, Layout/Spacing, Typography, Color, Depth, Images, and Finishing Touches applied to host journey touchpoints",
    "split-lease-journey-map.md — used for phase structure and interaction pattern context",
    "library/elements.json (first 200 lines) — reviewed existing process patterns: System 1 trust gates, depleted user design, cognitive speed matching, human-to-digital trust bridging. Noted strong coverage in evaluation/onboarding, gap in 'physically absent host' and 'guest-type visual hierarchy' patterns"
  ]
}</script>
  <!-- INJECT:layer-1 -->
  <script id="data-layer-1" type="application/json">{
  "lens": {
    "host_call": "dana-call.txt",
    "book_extract": "refactoringui-hierarchy-spacing-color.txt"
  },
  "elements": [
    {
      "id": "works-001",
      "type": "process_pattern",
      "title": "Guest-Type Visual Primacy in Every Guest-Facing Screen",
      "journey_phases": ["evaluation", "proposal_mgmt", "active_lease", "retention"],
      "problem": "The host's primary decision criterion is guest type (occupancy pattern, lifestyle, presence level), not pricing or dates. Dana explicitly categorizes guests into two archetypes: ideal (travel nurses — part-week, clean, responsible, secondary address) and nightmare (WFH full-timers — daily presence, cooking, using space as primary home). The current platform likely surfaces guest name, dates, and pricing as primary information, with occupancy pattern buried or unlabeled. This forces hosts like Dana to hunt for the one piece of information that determines her accept/reject decision, which Refactoring UI identifies as a hierarchy failure: 'When everything in an interface is competing for attention, it feels noisy and chaotic.'",
      "solution": "Make guest occupancy pattern the visually dominant element in every screen where a guest appears (proposal cards, guest profiles, active lease views, review prompts). Apply Refactoring UI's 'emphasize by de-emphasizing' principle: don't make the occupancy pattern bigger — make everything else (dates, pricing, bio text) visually softer so the occupancy pattern naturally stands out. Specific implementation: (1) Show a weekly day-pattern indicator (Mon-Thu highlighted, Fri-Sun empty) as the first visual element in any guest card. (2) Show 'Secondary Address' or 'Primary Residence' as a visual badge using the principle that 'the format itself communicates' — no label needed if the badge design is clear. (3) De-emphasize date ranges and pricing to secondary visual weight using lighter font weight and softer color, per Refactoring UI's hierarchy system. (4) For proposals, the guest-type signal should be visible before the host even taps into the detail view.",
      "evidence": [
        {
          "source": "dana-call.txt, 04:07-05:02",
          "type": "host_call",
          "quote": "I have never, ever, ever had a problem with the travelers. They're clean. They're responsible... Since the pandemic I've had other people... nightmares. He was a computer guy working at home. I will never do that again. Never.",
          "insight": "Dana's accept/reject decision is entirely based on guest type, not price or dates. The triple emphasis ('never, ever, ever') and absolute rejection ('I will never do that again. Never.') reveal this is not a preference — it's a hard filter."
        },
        {
          "source": "refactoringui, Hierarchy is Everything — Emphasize by de-emphasizing",
          "type": "book",
          "quote": "Instead of trying to further emphasize the element you want to draw attention to, figure out how you can de-emphasize the elements that are competing with it.",
          "insight": "Rather than making guest-type information larger or bolder, de-emphasize the competing information (dates, pricing, generic bio) so guest-type naturally becomes the primary visual element."
        },
        {
          "source": "dana-call.txt, 02:38",
          "type": "host_call",
          "quote": "He was looking just to be for the workweek, Monday to Thursday.",
          "insight": "The first thing Dana wants to know about a guest is their weekly occupancy pattern. This should be the first visual element in any guest display."
        },
        {
          "source": "refactoringui, Labels are a last resort",
          "type": "book",
          "quote": "When you're able to present data without labels, it's much easier to emphasize important or identifying information.",
          "insight": "Don't label 'Guest Type: Part-week' — show it visually through day-pattern indicators and occupancy badges that communicate through format, not labels."
        }
      ],
      "priority": "high",
      "user_goal": "Instantly assess whether a guest matches my preferred type (part-week, secondary address, minimal presence) without having to read through a full profile or hunt for occupancy details.",
      "company_goal": "Increase proposal acceptance rate by surfacing the host's primary decision criterion upfront, reducing the cognitive cost of evaluation and preventing false rejections from hosts who don't find the information they need.",
      "time_budget": "Host should be able to make a preliminary accept/reject decision on guest type within 2 seconds of seeing a proposal card, before tapping into details.",
      "anti_goals": [
        "DO NOT make pricing the primary visual element in proposal cards — pricing is secondary to guest type for hosts like Dana",
        "DO NOT use text labels like 'Guest Type: Part-week' — use visual indicators (day badges, occupancy calendars) that communicate through design",
        "DO NOT present all guest information at equal visual weight — this creates the 'wall of content' problem Refactoring UI warns against",
        "DO NOT hide occupancy pattern inside a detail view that requires a tap/click to access"
      ],
      "success_metric": "Time-to-decision on proposal cards: hosts should reach a preliminary yes/no in under 3 seconds. Measurable via click-through rate on proposal cards (faster decisions = higher engagement) and proposal response time (hours between notification and host action)."
    },
    {
      "id": "works-002",
      "type": "process_pattern",
      "title": "Glanceable Status Design for Time-Fragmented Hosts",
      "journey_phases": ["onboarding", "listing_creation", "active_lease"],
      "problem": "Dana is a flight attendant who works nights, travels constantly, and is managing a family emergency. Her phone is 'blown up nonstop.' She engages with any platform in brief, distracted bursts between flights or family obligations. The platform's current design likely assumes a host who can sit down and engage with a dashboard for several minutes. For Dana, every screen must answer the question 'what's happening right now and what do I need to do?' in under 5 seconds. Refactoring UI's spacing and hierarchy principles show that this requires ruthless information prioritization: 'start with too much white space' means removing everything that isn't essential to the glance, and 'not all elements are equal' means making the status/action item visually dominant over everything else.",
      "solution": "Design every host-facing screen with a 'glance layer' and a 'detail layer.' The glance layer is what the host sees in the first 2 seconds: current status + next required action (if any). The detail layer is everything else, accessible by scrolling or tapping but never competing with the glance layer. Apply Refactoring UI's principles: (1) Use visual hierarchy (size, weight, contrast) to make status information impossible to miss. (2) Use generous white space around status elements to prevent them from blending into surrounding content. (3) Apply the 'avoid ambiguous spacing' principle to create clear visual grouping between status items and action items. (4) For the active lease dashboard: the glance layer shows 'Guest arriving [day]' or 'No upcoming stays' — period. Everything else is below the fold. (5) For notifications: use Refactoring UI's contrast principles to make actionable notifications visually distinct from informational ones.",
      "evidence": [
        {
          "source": "dana-call.txt, 05:56-06:46",
          "type": "host_call",
          "quote": "I'm a flight attendant and my parents accidentally burnt down their house a month ago... I have to go to work tonight. I won't be back towards Sunday... All my folders and blown up nonstop.",
          "insight": "Dana's attention budget is measured in seconds, not minutes. She's managing multiple crises and can only engage with the platform in the gaps between other demands."
        },
        {
          "source": "refactoringui, Layout and Spacing — Start with too much white space",
          "type": "book",
          "quote": "Start with too much white space. One of the easiest ways to clean up a design is to give every element a little more room to breathe.",
          "insight": "For time-fragmented hosts, white space isn't aesthetic — it's functional. It allows the eye to find the important information faster because there's less visual noise competing for attention."
        },
        {
          "source": "refactoringui, Layout and Spacing — Avoid ambiguous spacing",
          "type": "book",
          "quote": "Whenever you're relying on spacing to connect a group of elements, always make sure there's more space around the group than there is within it.",
          "insight": "Clear spacing groups allow Dana to parse status information in a single glance: 'this group is about the current stay, this group is about upcoming actions.'"
        }
      ],
      "priority": "high",
      "user_goal": "Check the status of my listing and leases in 5 seconds between flights, without having to navigate through menus or scan dense dashboards.",
      "company_goal": "Reduce host response latency by making status and required actions immediately visible, preventing the scenario where hosts miss time-sensitive actions (proposal responses, date change approvals) because they couldn't find them quickly.",
      "time_budget": "5 seconds for a complete status check. 15 seconds maximum for any required action (review proposal, approve date change, respond to message).",
      "anti_goals": [
        "DO NOT require navigation to check status — the first screen after login must show current status",
        "DO NOT mix status information with marketing, tips, or educational content — those belong in a separate layer",
        "DO NOT use equal visual weight for 'things happening' and 'things you need to do' — action items must be visually distinct",
        "DO NOT assume the host will scroll — everything critical must be above the fold"
      ],
      "success_metric": "Session duration for status-check visits should be under 10 seconds. Action completion rate (proposals answered, date changes approved) should increase as time-to-visibility decreases."
    },
    {
      "id": "works-003",
      "type": "process_pattern",
      "title": "Existing Listing Import as Primary Onboarding Path",
      "journey_phases": ["onboarding", "listing_creation"],
      "problem": "Dana already has a complete listing on Furnished Finder. The current onboarding assumes hosts start from scratch with a 6-step wizard. For experienced hosts who are cross-listing or migrating, this is redundant and frustrating. Refactoring UI's 'don't design too much' principle applies directly: 'expect it to be hard to build. Designing the smallest useful version you can ship reduces that risk considerably.' The smallest useful version of listing creation for Dana is not a blank wizard — it's an import flow that pre-populates from her existing listing.",
      "solution": "Offer a two-track listing creation process: (1) Import Track: Host provides a URL to their existing listing (Furnished Finder, Airbnb, etc.) or the platform detects it from the agent's notes. The system pre-fills all available information and asks the host to confirm/edit only what's different for Split Lease (guest type preferences, Split Lease-specific rules). (2) Fresh Track: The current wizard, but only for hosts who have no existing listing. Apply Refactoring UI's 'work in cycles' principle: the import creates a minimal viable listing immediately, then prompts the host to enhance it over time (add Split Lease-specific photos, customize house rules, set guest preferences). This mirrors the book's 'build the real thing as early as possible' principle — get the listing live with imported data, then refine.",
      "evidence": [
        {
          "source": "dana-call.txt, 05:33",
          "type": "host_call",
          "quote": "I came across it on furnished finder. It's called the furnished room with private roof garden.",
          "insight": "Dana's listing is complete and live on another platform. Making her re-create it from scratch on Split Lease is unnecessary friction."
        },
        {
          "source": "refactoringui, Don't design too much",
          "type": "book",
          "quote": "Designing the smallest useful version you can ship reduces that risk considerably. If part of a feature is a 'nice-to-have', design it later. Build the simple version first.",
          "insight": "The smallest useful listing for Dana is one imported from Furnished Finder with Split Lease-specific additions. The 6-step wizard is designing too much for hosts who already have listings."
        },
        {
          "source": "dana-call.txt, 01:27-01:49",
          "type": "host_call",
          "quote": "I don't have it, it maybe on the listing as well, but, uh, parking is that... Yeah, this garage was around... And everything else, yep, like you said, it should be able to get from the listing here.",
          "insight": "Bryant himself references the existing listing for details. The platform should do the same — if the agent found the listing, the platform can import it."
        },
        {
          "source": "refactoringui, Work in cycles",
          "type": "book",
          "quote": "Instead of designing everything up front, work in short cycles. Start by designing a simple version of the next feature you want to build. Once you're happy with the basic design, make it real.",
          "insight": "Import first, then enhance. Don't block listing publication on completing every field."
        }
      ],
      "priority": "high",
      "user_goal": "Get my listing live on Split Lease without re-entering information I've already created elsewhere, and without spending more than 2 minutes on the process.",
      "company_goal": "Dramatically reduce time-to-first-listing for experienced hosts who are cross-listing, which is the most common host acquisition pattern (Bryant finds hosts on other platforms and brings them to Split Lease).",
      "time_budget": "Under 2 minutes from 'import my listing' to published listing. Compare to 10+ minutes for a blank 6-step wizard.",
      "anti_goals": [
        "DO NOT make the import flow a separate, hidden feature — it should be the primary and visually prominent path for hosts who already have listings",
        "DO NOT require the host to manually copy-paste information from another platform",
        "DO NOT block listing publication on completing Split Lease-specific fields — import, publish, then prompt for enhancements",
        "DO NOT treat imported listings as second-class — they should look identical to manually created ones"
      ],
      "success_metric": "Time-to-first-listing for cross-listing hosts should drop from 10+ minutes to under 2 minutes. Listing completion rate (hosts who start and finish) should increase above 90% for the import track."
    },
    {
      "id": "works-004",
      "type": "process_pattern",
      "title": "Negative Experience Screening Filter as Trust-Building UI Pattern",
      "journey_phases": ["proposal_mgmt", "listing_creation", "active_lease"],
      "problem": "Dana has been traumatized by bad tenant experiences. Her negative anchoring ('I will never do that again. Never.') means she approaches every new guest with threat detection activated. The platform currently has no mechanism for hosts to express what they DON'T want — only what they do want (amenities, features, pricing). Refactoring UI's 'choose a personality' principle applies: the platform's personality at the proposal management stage must be 'professional screening partner,' not 'marketplace facilitator.' The design should communicate that the platform actively filters out the types of guests Dana fears.",
      "solution": "Implement a guest preference system that includes both positive and negative filters, and surface the match/mismatch visually in every guest touchpoint. (1) During listing creation: add 'guest preferences' as a prominent section — not buried under amenities — where hosts can specify preferred occupancy patterns (part-week vs. full-week), preferred guest types (travel professionals, hybrid workers vs. full-time remote), and house rules that serve as proxy filters (no cooking restrictions, quiet hours). (2) In proposal views: show a visual compatibility score or match indicator that maps the guest's profile against the host's stated preferences. Use Refactoring UI's 'balance weight and contrast' principle: match indicators should be visually heavy, mismatch warnings should be color-coded but not alarming. (3) In the active lease phase: surface guest behavior against host rules proactively — don't wait for the host to discover violations.",
      "evidence": [
        {
          "source": "dana-call.txt, 04:07-05:02",
          "type": "host_call",
          "quote": "Since the pandemic I've had other people... nightmares. I had a guy cooking fish in my house two times a day. He was a computer guy working at home. I will never do that again.",
          "insight": "The negative experience is specific, visceral, and absolute. Dana doesn't want 'better' full-time tenants — she wants to never encounter that category again. The platform must offer screening that matches this intensity."
        },
        {
          "source": "refactoringui, Choose a personality",
          "type": "book",
          "quote": "Every design has some sort of personality. A banking site might try to communicate secure and professional. Words are everywhere in a user interface, and choosing the right ones is just as important as choosing the right color or typeface.",
          "insight": "The proposal management UI should communicate 'professional screening' personality — secure, vetted, filtered. Not casual marketplace personality."
        },
        {
          "source": "dana-call.txt, 04:46",
          "type": "host_call",
          "quote": "All of the guests that we work with, this is their secondary address. They have another place.",
          "insight": "Bryant uses the 'secondary address' framing as a trust-building pitch. The platform must reinforce this framing visually in every guest profile."
        }
      ],
      "priority": "high",
      "user_goal": "Trust that the platform actively filters out the types of guests I've had bad experiences with, and see visual proof of this filtering in every proposal and guest profile.",
      "company_goal": "Build host trust through visible screening quality, reducing the 'marketplace anxiety' that causes hosts to prefer direct referrals over platform-mediated guest matching.",
      "time_budget": "Host should be able to set their guest preferences in under 60 seconds during listing creation. Match/mismatch should be visible in under 1 second when viewing a proposal.",
      "anti_goals": [
        "DO NOT make guest preference setting feel like filling out a form — use quick-select patterns (toggle chips, yes/no switches) that mirror conversational speed",
        "DO NOT show a compatibility score without explanation — hosts need to see which specific criteria match and which don't",
        "DO NOT hide mismatch warnings to avoid discouraging hosts from considering proposals — transparency builds trust",
        "DO NOT present guest filtering as optional or secondary — it's the primary reason hosts like Dana would use the platform"
      ],
      "success_metric": "Host-reported trust score in post-proposal surveys. Proposal acceptance rate for hosts who set guest preferences vs. those who don't. Rate of hosts citing 'guest quality' as reason for platform retention."
    },
    {
      "id": "works-005",
      "type": "process_pattern",
      "title": "Asynchronous Communication Design for Absent Hosts",
      "journey_phases": ["active_lease", "proposal_mgmt"],
      "problem": "Dana works nights as a flight attendant and can be unreachable for days. Platform interactions that require synchronous engagement (immediate responses, real-time approvals) will fail for her. The current proposal counter-offer flow and date change approval flow likely assume the host can respond within hours. Refactoring UI's 'be a pessimist' principle applies: design for the case where the host cannot respond immediately, not the ideal case where they can. The book's 'don't design too much' principle means the system should handle delayed responses gracefully rather than building complex real-time notification systems.",
      "solution": "Design all host-required actions with an asynchronous-first model: (1) Set reasonable default timeouts for all approval actions (proposals auto-expire with notice, date changes have a grace period). (2) Queue all actions that need host attention into a single 'action required' list with clear deadlines — applying Refactoring UI's hierarchy principles to sort by urgency. (3) Send notifications through the channel that best reaches this host (push, SMS, email — test and adapt). (4) For proposals: show the guest that the host has a response window, not that the host is 'online' or 'offline.' This prevents guest anxiety while giving the host time to respond. (5) Apply Refactoring UI's 'labels are a last resort' principle to deadline displays: '2 days left to respond' is better than 'Response Deadline: February 20, 2026.'",
      "evidence": [
        {
          "source": "dana-call.txt, 05:56",
          "type": "host_call",
          "quote": "I have to go to work tonight. I won't be back towards Sunday.",
          "insight": "Dana can be unreachable for 3+ days at a time. Any flow that requires same-day responses will fail for her."
        },
        {
          "source": "refactoringui, Don't design too much — Be a pessimist",
          "type": "book",
          "quote": "Expect it to be hard to build. Designing the smallest useful version you can ship reduces that risk considerably.",
          "insight": "Design the communication system for the worst case (host unavailable for days) not the best case (host responds in minutes). The smallest useful version handles delays gracefully."
        },
        {
          "source": "dana-call.txt, 06:46",
          "type": "host_call",
          "quote": "All the people that helping them with the fire because they can't get ahold of them. All my folders and blown up nonstop.",
          "insight": "Dana's phone is overwhelmed with notifications from the family emergency. Platform notifications must compete for attention with dozens of other urgent messages."
        }
      ],
      "priority": "high",
      "user_goal": "Manage my listing and respond to proposals on my own schedule, without missing opportunities because I couldn't respond within a few hours.",
      "company_goal": "Increase proposal conversion rate by preventing timeouts and missed responses from hosts with irregular schedules, which is a common pattern for flight attendants, travel nurses, and other multi-local professionals.",
      "time_budget": "Hosts should have 48-72 hours to respond to proposals. Date change requests should have 24-48 hour grace periods. Action queue should be processable in under 60 seconds per item.",
      "anti_goals": [
        "DO NOT design response flows that punish delayed responses — no penalties, no expired opportunities without warning",
        "DO NOT show 'last seen' or 'online now' status for hosts — this creates pressure and exposes hosts who can't be responsive",
        "DO NOT send notification storms — batch non-urgent updates and send a daily digest for hosts who aren't engaging in real-time",
        "DO NOT make the guest's experience depend on the host's immediate responsiveness — show the guest that their proposal is 'being reviewed' with an expected timeline"
      ],
      "success_metric": "Proposal response rate should be above 80% regardless of host response latency (0-72 hours). Percentage of proposals that expire without host action should drop below 5%."
    }
  ]
}</script>
  <!-- INJECT:layer-2 -->
  <script id="data-layer-2" type="application/json">{
  "lens": {
    "host_call": "dana-call.txt",
    "book_extract": "refactoringui-hierarchy-spacing-color.txt"
  },
  "elements": [
    {
      "id": "communicates-001",
      "type": "info_architecture",
      "title": "Occupancy Pattern as Primary Information in Guest Cards",
      "journey_phases": ["proposal_mgmt", "active_lease"],
      "problem": "The current guest card / proposal view likely follows a conventional layout: guest name, photo, dates, pricing — treating all data points with near-equal visual weight. For Dana, the critical information is the guest's weekly occupancy pattern (Mon-Thu vs. full-week) and address status (secondary vs. primary). These are the data points that determine her accept/reject decision in seconds. Presenting them at equal weight with dates and pricing forces Dana to scan the entire card to find what matters, violating Refactoring UI's core hierarchy principle: 'when everything in an interface is competing for attention, it feels noisy and chaotic.'",
      "solution": "Restructure the guest card information hierarchy so occupancy pattern is primary, personal context is secondary, and logistics are tertiary. Apply Refactoring UI's three-tier text color system: dark color for primary content (occupancy pattern), grey for secondary content (guest bio, work type), lighter grey for tertiary content (exact dates, per-night pricing). Use the 'labels are a last resort' principle: show the occupancy pattern as a visual day-badge row (M T W T highlighted, F S S dim) rather than a labeled field. Combine label and value per the book's guidance: instead of 'Stay Type: Part-week', show '4 nights/week · Mon-Thu' as a single integrated phrase.",
      "evidence": [
        {
          "source": "dana-call.txt, 02:38",
          "type": "host_call",
          "quote": "He was looking just to be for the workweek, Monday to Thursday.",
          "insight": "This is the first substantive information Dana receives about the guest, and it's the information she engages with most. The information architecture must reflect this natural priority."
        },
        {
          "source": "refactoringui, Size isn't everything",
          "type": "book",
          "quote": "Try and stick to two or three colors: a dark color for primary content, a grey for secondary content, a lighter grey for tertiary content.",
          "insight": "The three-tier color system maps directly to guest card hierarchy: occupancy pattern in dark, guest context in grey, logistics in lighter grey."
        },
        {
          "source": "refactoringui, Labels are a last resort — Combine labels and values",
          "type": "book",
          "quote": "Instead of 'Bedrooms: 3' you could simply write '3 bedrooms'. When you're able to combine labels and values into a single unit, it's much easier to give each piece of data meaningful styling.",
          "insight": "Transform 'Occupancy: Mon-Thu' into '4 nights/week · Mon-Thu' — a scannable phrase that communicates without a separate label."
        }
      ],
      "priority": "high",
      "hierarchy_principle": "Primary: occupancy pattern (day badges + integrated phrase). Secondary: guest context (work type, primary city, secondary address badge). Tertiary: logistics (exact dates, pricing, lease duration). This reverses the conventional marketplace hierarchy where dates and pricing lead.",
      "disclosure_pattern": "Show the occupancy pattern and secondary-address badge on the proposal card in the list view (no tap required). Show guest context (work type, why they need the space) on first tap into the proposal detail. Show full logistics (exact dates, pricing breakdown, lease terms) in the detail view below the fold.",
      "cognitive_load_constraint": "The proposal card in list view should show no more than 4 data points: (1) guest name, (2) day-badge row showing weekly pattern, (3) secondary address badge, (4) duration summary (e.g., '10 weeks'). Everything else deferred to detail view.",
      "scan_order": ["Day-badge row showing weekly occupancy pattern", "Secondary address badge or primary city", "Guest name and photo", "Duration and pricing summary"],
      "exclude": ["Detailed pricing breakdown on the card level", "Guest bio/description on the card level", "Platform fee information on the card level", "Cancellation policy details on the card level"]
    },
    {
      "id": "communicates-002",
      "type": "info_architecture",
      "title": "Progressive Disclosure for Overwhelmed Hosts",
      "journey_phases": ["onboarding", "listing_creation", "pricing"],
      "problem": "Dana is dealing with a family emergency, working night shifts, and has her phone overwhelmed with notifications. She cannot absorb dense information screens. The listing creation wizard (6 steps) and pricing configuration present all information at once within each step. Refactoring UI warns: 'you don't have to fill the whole screen' and 'grids are overrated.' For cognitively overloaded hosts, every piece of information that isn't essential to the current decision is noise that competes with the signal.",
      "solution": "Apply aggressive progressive disclosure across all multi-step host flows. Each screen should present exactly one decision with supporting context, using Refactoring UI's spacing principles to create breathing room. (1) For listing creation: each wizard step should show one question with smart defaults pre-selected, not a form with multiple fields. Use the 'start with too much white space' principle to prevent the screen from feeling dense. (2) For pricing: show only the host's take-home number first (visually dominant, large, dark text). Show the calculation breakdown only on request (expandable section, lighter text). (3) For onboarding follow-up materials: show one call-to-action per screen. Not 'Here's Split Lease, here's how it works, here's what to do next' — just 'Your listing is ready to import. Tap to review.' (4) Apply Refactoring UI's 'avoid ambiguous spacing' principle: clear visual separation between what's being asked now and what context is provided for the decision.",
      "evidence": [
        {
          "source": "dana-call.txt, 05:56-06:46",
          "type": "host_call",
          "quote": "I'm a flight attendant... my parents accidentally burnt down their house... I have to go to work tonight... All my folders and blown up nonstop.",
          "insight": "Three concurrent sources of cognitive overload: work, family emergency, phone notifications. Any platform screen that asks for more than one decision at a time will be abandoned."
        },
        {
          "source": "refactoringui, You don't have to fill the whole screen",
          "type": "book",
          "quote": "Just because you have the space doesn't mean you need to use it. If you only need 600px, that's fine. Spreading things out or making things unnecessarily wide just makes an interface harder to interpret.",
          "insight": "For overwhelmed hosts, constrained content width (600px max) forces information focus and prevents the eye from wandering."
        },
        {
          "source": "refactoringui, Avoid ambiguous spacing",
          "type": "book",
          "quote": "Whenever you're relying on spacing to connect a group of elements, always make sure there's more space around the group than there is within it.",
          "insight": "Clear spacing groups allow Dana to parse each section independently: 'This is what I need to decide. This is context for that decision. This is navigation.'"
        }
      ],
      "priority": "high",
      "hierarchy_principle": "Each screen has exactly one focal point: the decision or action required. Supporting information uses lighter visual weight. Navigation (back/next/skip) uses tertiary visual weight. Nothing else appears.",
      "disclosure_pattern": "Layer 1: The decision (what you need to do now). Layer 2: Context for the decision (why, what happens if). Layer 3: Details (how this connects to other decisions, edge cases). Each layer requires an explicit action (scroll, tap, expand) to reveal the next.",
      "cognitive_load_constraint": "Maximum 1 decision per screen. Maximum 3 data points supporting that decision. Maximum 50 words of body text visible without scrolling. Any additional context behind an 'expand' or 'learn more' affordance.",
      "scan_order": ["The question or action being asked (headline)", "The pre-selected default answer (if applicable)", "The primary action button (confirm, continue)", "Supporting context (if needed)"],
      "exclude": ["Multiple questions on one screen", "Feature explanations during decision flows", "Marketing language in operational screens", "FAQ or help links in primary viewport (defer to footer or menu)"]
    },
    {
      "id": "communicates-003",
      "type": "info_architecture",
      "title": "Status-First Dashboard Architecture",
      "journey_phases": ["active_lease", "proposal_mgmt"],
      "problem": "Flight attendant hosts check their dashboards in the brief window between landing and their next obligation. The current dashboard architecture likely follows a conventional layout: navigation header, listing cards, recent activity feed, and possibly marketing/tips sections. For Dana, only one thing matters when she opens the app: 'Is anything urgent?' Refactoring UI's 'separate visual hierarchy from document hierarchy' principle applies: the status information might semantically be an h3 under 'Your Listings,' but visually it should be the most prominent element on the entire page.",
      "solution": "Restructure the host dashboard into a status-first architecture with three visual tiers: (1) Status Bar (top, visually dominant): Shows the single most important status — 'Allen arrives Monday' or 'Proposal waiting for your review' or 'All clear — no action needed.' Uses Refactoring UI's weight and contrast principles: bold text, dark color, generous spacing. (2) Action Queue (second tier): Any items requiring host action, sorted by deadline. Each item shows what's needed and when, using the 'combine labels and values' pattern: 'Review Allen's proposal · 2 days left' instead of 'Type: Proposal Review. Deadline: February 20.' (3) Activity Feed (third tier, below fold): Historical items, updates, and non-urgent information. Uses lighter visual weight per Refactoring UI's hierarchy system. Apply the 'use fewer borders' principle from Finishing Touches: separate tiers with spacing and background color shifts, not borders.",
      "evidence": [
        {
          "source": "dana-call.txt, 05:56",
          "type": "host_call",
          "quote": "I have to go to work tonight. I won't be back towards Sunday.",
          "insight": "Dana might check her phone between flights on Saturday. The dashboard must answer 'anything urgent?' in 2 seconds."
        },
        {
          "source": "refactoringui, Separate visual hierarchy from document hierarchy",
          "type": "book",
          "quote": "A lot of the time, section titles act more like labels than headings. Usually the content in that section should be the focus, not the title.",
          "insight": "The dashboard section title ('Your Listings') should not be the visual focus — the status content within it should be."
        },
        {
          "source": "refactoringui, Use fewer borders (Finishing Touches)",
          "type": "book",
          "quote": "When you need to create separation between two elements, try to resist immediately reaching for a border. Borders are a great way to distinguish two elements, but they're not the only way, and using too many can make a design feel busy.",
          "insight": "Dashboard tiers should be separated by spacing and subtle background color shifts, not borders — fewer borders means less visual noise for the time-starved host."
        }
      ],
      "priority": "high",
      "hierarchy_principle": "Tier 1 (Status): visually dominant — dark text, large size, generous spacing. Tier 2 (Actions): medium weight — standard text, clear deadlines. Tier 3 (Activity): light weight — smaller text, softer color, below fold.",
      "disclosure_pattern": "The status bar is always visible and never requires scrolling. Action queue items are expandable — show the action summary, expand for details. Activity feed loads on scroll, using lazy loading to keep initial page weight low.",
      "cognitive_load_constraint": "Status bar: 1 sentence maximum. Action queue: maximum 3 visible items (show count of additional items if more). Activity feed: loads progressively, never competes with status or actions.",
      "scan_order": ["Current status headline (most important thing happening now)", "Action count indicator (number of items needing attention)", "First action item with deadline", "Navigation to full activity feed"],
      "exclude": ["Marketing content or tips in the status area", "Historical data above the fold", "Feature announcements competing with status", "Complex navigation menus on the dashboard (simplify to bottom tabs or minimal top nav)"]
    },
    {
      "id": "communicates-004",
      "type": "info_architecture",
      "title": "Value Proposition Through Contrast with Competitor Experience",
      "journey_phases": ["discovery", "evaluation"],
      "problem": "Dana already uses Furnished Finder and had a great experience with travel nurses before the pandemic shifted the tenant market. When Bryant sends her follow-up materials about Split Lease, the information must communicate a clear delta over Furnished Finder — specifically around guest quality control. Dana's evaluation criterion is not 'is this a nice platform?' but 'will this platform get me better guests than I can find myself?' Refactoring UI's 'emphasize by de-emphasizing' principle is key: the value proposition (better guest matching) should be primary, while features and pricing should be de-emphasized.",
      "solution": "Structure evaluation materials (landing page, follow-up email, first platform screen) around a single information hierarchy: (1) Primary: 'We match you with part-week professionals' — this is the headline, visually dominant, using the host's own vocabulary ('travel nurses,' 'hybrid workers,' 'secondary address'). (2) Secondary: 'How it works differently' — brief explanation of the screening/matching process that Furnished Finder doesn't offer. (3) Tertiary: 'What Dana from other hosts' experience looks like' — social proof, but using Refactoring UI's 'labels as a last resort' principle: show the proof (a calendar showing a guest's Mon-Thu pattern, a review from a flight attendant host), don't label it 'Social Proof.' Apply the book's 'choose a personality' guidance: the information design should feel professional and reassuring, like a premium service, not a generic marketplace.",
      "evidence": [
        {
          "source": "dana-call.txt, 03:34",
          "type": "host_call",
          "quote": "Catered to travel nursing. And I never, ever, ever had to advertise, because all the travelers want to stay there.",
          "insight": "Dana's golden era was when she didn't need to find guests — they found her. The value prop must communicate that Split Lease recreates this experience: 'We bring you the right guests.'"
        },
        {
          "source": "refactoringui, Emphasize by de-emphasizing",
          "type": "book",
          "quote": "Instead of trying to further emphasize the element you want to draw attention to, figure out how you can de-emphasize the elements that are competing with it.",
          "insight": "In evaluation materials, de-emphasize generic platform features (messaging, calendar, dashboard) so the guest-matching value proposition naturally dominates."
        },
        {
          "source": "dana-call.txt, 05:44",
          "type": "host_call",
          "quote": "If you find me a travel nurse, I'll give you a piggyback.",
          "insight": "The value proposition, stated by the host herself: 'find me the right guest.' Everything else in the evaluation materials is secondary to this promise."
        }
      ],
      "priority": "high",
      "hierarchy_principle": "Primary: Guest matching promise (specific to host's stated preference). Secondary: How matching works (brief, visual, not text-heavy). Tertiary: Platform features and pricing (deferred to after the host is convinced on value).",
      "disclosure_pattern": "First screen: Guest matching promise with one visual example (a guest profile card showing Mon-Thu pattern and 'Secondary Address' badge). Second screen (on scroll or tap): How it works — 3 steps, icon-driven, minimal text. Third screen: Pricing and features — only shown after the host has engaged with the value proposition.",
      "cognitive_load_constraint": "First screen: 1 headline (under 10 words), 1 visual example, 1 CTA. No feature lists, no pricing, no comparison charts above the fold.",
      "scan_order": ["Headline: guest matching promise", "Visual example: sample guest profile card", "Single CTA: 'Import your listing' or 'Get started'", "Supporting proof: host testimonial or metric"],
      "exclude": ["Feature comparison tables above the fold", "Pricing information before value is established", "Generic platform screenshots that don't show guest matching", "Long-form text explanations of how the platform works"]
    },
    {
      "id": "communicates-005",
      "type": "info_architecture",
      "title": "Empty State as Status Communication for Absent Hosts",
      "journey_phases": ["active_lease"],
      "problem": "When Dana checks her lease dashboard during a gap between flights and there's no active stay, the screen shows an empty state. Refactoring UI explicitly warns: 'Don't overlook empty states.' For an absent host, an empty state that shows nothing (or a generic 'No activity' message) creates anxiety: 'Is everything okay? Did I miss something?' The empty state is actually an information architecture opportunity — it's the most frequent state for a host whose guest stays Mon-Thu but the host checks on Saturday.",
      "solution": "Design the 'no current stay' empty state as a positive status communication. Apply Refactoring UI's 'supercharge the defaults' principle: the default empty state should show useful, reassuring information. (1) Show the next upcoming stay with guest name and dates: 'Allen arrives Monday.' (2) Show the last completed stay with a one-line status: 'Last stay: Feb 10-13 · Cleaning photos received.' (3) If there's no upcoming stay, show the listing status: 'Your listing is active · 3 views this week.' (4) Use Refactoring UI's spacing principles: generous white space around the status message communicates calm confidence, not emptiness. (5) The visual hierarchy should make the 'next event' the primary element, using bold text and dark color, with past events in lighter, secondary visual weight.",
      "evidence": [
        {
          "source": "refactoringui, Finishing Touches — Don't overlook empty states",
          "type": "book",
          "quote": "Don't overlook empty states. Empty states are a user's first interaction with a new product and your chance to make everything click for them.",
          "insight": "For recurring empty states (between stays), the design should communicate 'everything is on track' rather than 'nothing is happening.' This is especially critical for absent hosts who check infrequently."
        },
        {
          "source": "dana-call.txt, 05:56",
          "type": "host_call",
          "quote": "I'm a flight attendant... I won't be back towards Sunday.",
          "insight": "Dana checks between flights. If she sees an empty dashboard, she'll worry. If she sees 'Allen arrives Monday — everything is set,' she can stop worrying and focus on her other responsibilities."
        },
        {
          "source": "refactoringui, Finishing Touches — Supercharge the defaults",
          "type": "book",
          "quote": "Replace boring defaults with something more interesting. Think about which elements you could make more exciting.",
          "insight": "The 'empty' lease state is the most common state for part-week hosts. It should be designed with as much care as the active state — it's not really 'empty,' it's 'between stays.'"
        }
      ],
      "priority": "medium",
      "hierarchy_principle": "Primary: Next scheduled event (arrival date, guest name). Secondary: Last completed event (status confirmation). Tertiary: Listing health metrics (views, inquiries). The empty state is actually a status display, not an absence of content.",
      "disclosure_pattern": "Always show next event if one exists. Show last event as a single-line confirmation below. Listing metrics only shown if no upcoming event exists (filling the information void with something useful).",
      "cognitive_load_constraint": "Maximum 2 data points in the empty state: next event + last event confirmation. No feature suggestions, no 'things you can do,' no educational content.",
      "scan_order": ["Next upcoming event with date and guest name", "Last completed event with one-line status", "Listing health indicator (if no events scheduled)"],
      "exclude": ["Feature discovery prompts in empty states", "Marketing or upgrade suggestions", "Tutorial content", "Generic 'nothing here yet' messaging"]
    }
  ]
}</script>
  <!-- INJECT:layer-3 -->
  <script id="data-layer-3" type="application/json">{
  "lens": {
    "host_call": "dana-call.txt",
    "book_extract": "refactoringui-hierarchy-spacing-color.txt"
  },
  "elements": [
    {
      "id": "looks-001",
      "type": "visual_pattern",
      "title": "Day-Badge Occupancy Pattern as Visual Anchor",
      "journey_phases": ["proposal_mgmt", "active_lease", "listing_creation"],
      "problem": "Guest occupancy pattern (Mon-Thu vs. full-week) is Dana's primary decision criterion, but there is no established visual pattern for displaying weekly occupancy at a glance. Text-based descriptions ('Part-week: Monday to Thursday') are scannable but slow. The platform needs a visual element that communicates weekly occupancy pattern as instantly as a progress bar communicates completion. Refactoring UI's 'balance weight and contrast' principle: this visual element must be visually heavy enough to serve as the anchor point of guest cards, but not so heavy it overwhelms the rest of the card.",
      "solution": "Create a 7-circle day-badge row (M T W T F S S) where active days use the brand accent color (filled, high contrast) and inactive days use a muted, de-emphasized style (outline only or very light fill). Apply the production style guide's day-badge pattern but repurpose it for occupancy visualization. Use the existing --chat-purple (#4B47CE) for active days and --bg-light-gray (#f3f4f6) for inactive days. The badge row should be compact (32px circle diameter per the style guide's day-badge spec) and positioned as the first visual element after the guest's name in any card. Per Refactoring UI's 'don't use grey text on colored backgrounds' principle, text inside the active badges should be pure white, not reduced opacity.",
      "evidence": [
        {
          "source": "dana-call.txt, 02:38",
          "type": "host_call",
          "quote": "He was looking just to be for the workweek, Monday to Thursday.",
          "insight": "The occupancy pattern is always described as specific days of the week. A day-badge row is the natural visual translation of this verbal pattern."
        },
        {
          "source": "refactoringui, Balance weight and contrast",
          "type": "book",
          "quote": "Just like bold text, icons (especially solid ones) are generally pretty 'heavy.' As a result, when you put an icon next to some text, the icon tends to feel emphasized.",
          "insight": "Filled day-badges for active days naturally draw the eye due to their visual weight, making them effective as the primary visual anchor without needing to be oversized."
        },
        {
          "source": "refactoringui, Don't use grey text on colored backgrounds",
          "type": "book",
          "quote": "A better approach is to hand-pick a new color, based on the background color. Choose a color with the same hue, and adjust the saturation and lightness.",
          "insight": "Text inside active day-badges (M, T, W, T) should be white (#FFFFFF) on the purple background, not a reduced-opacity variant. Text inside inactive badges should be --text-light-gray, not pure grey."
        }
      ],
      "priority": "high",
      "tokens": {
        "colors": ["--chat-purple (active badge bg)", "--bg-light-gray (inactive badge bg)", "--white (active badge text)", "--text-light-gray (inactive badge text)"],
        "typography": ["--text-sm-md (13px) for badge letters", "--font-weight-semibold (600) for badge letters"],
        "spacing": ["--spacing-xs (4px) gap between badges", "--spacing-md (12px) margin below badge row"],
        "new_tokens_needed": []
      },
      "contrast_requirements": "Active badge: white text on --chat-purple (#4B47CE) = contrast ratio ~4.6:1 (WCAG AA pass). Inactive badge: --text-light-gray (#9ca3af) on --bg-light-gray (#f3f4f6) = decorative only, not required to meet AA for text since the letters are supplementary to the pattern itself.",
      "visual_hierarchy_rule": "The day-badge row serves as the visual anchor of any guest-related card. It should be positioned immediately after the guest's name and before any text-based information. Its compact but visually heavy nature (7 circles with 4 filled in bright purple) makes it the natural eye-landing point per Refactoring UI's weight principle.",
      "brand_alignment": "Aligns with the production style guide's existing day-badge component pattern. Uses the Split Lease purple palette rather than green (matching the production system, not tokens.json). The circular badge shape with --rounded-full aligns with the taste model's 'trustworthy, not corporate' and 'rounded corners' personality."
    },
    {
      "id": "looks-002",
      "type": "visual_pattern",
      "title": "Three-Tier Text Hierarchy for Host Dashboards",
      "journey_phases": ["active_lease", "proposal_mgmt", "listing_creation"],
      "problem": "Host dashboards currently use inconsistent text sizing and weight to create hierarchy, likely resulting in the 'everything looks the same' problem. Refactoring UI explicitly warns against relying on font size alone: 'Relying too much on font size to control your hierarchy is a mistake — it often leads to primary content that's too large, and secondary content that's too small.' For a host like Dana who scans in 5-second bursts, the visual hierarchy must use all available tools (size, weight, AND color) to make the status information immediately distinguishable from supporting context.",
      "solution": "Establish a three-tier text hierarchy system using the production style guide tokens. Tier 1 (Primary — status, actions, key numbers): --text-dark (#1a1a1a), --font-weight-bold (700), --text-lg (18px). Tier 2 (Secondary — descriptions, context, labels): --text-gray (#6b7280), --font-weight-normal (400), --text-base (14px). Tier 3 (Tertiary — timestamps, metadata, helper text): --text-light-gray (#9ca3af), --font-weight-normal (400), --text-sm (12px). Per Refactoring UI's guidance: 'two font weights are usually enough for UI work — a normal weight (400 or 500) and a heavier weight (600 or 700).' The hierarchy is primarily achieved through color contrast, not size jumps.",
      "evidence": [
        {
          "source": "refactoringui, Size isn't everything",
          "type": "book",
          "quote": "Instead of leaving all of the heavy lifting to font size alone, try using font weight or color to do the same job. Making a primary element bolder lets you use a more reasonable font size.",
          "insight": "The hierarchy system should use weight + color as the primary differentiation tools, with modest size differences. This keeps primary text at a readable but not oversized 18px."
        },
        {
          "source": "refactoringui, Size isn't everything",
          "type": "book",
          "quote": "Try and stick to two or three colors: a dark color for primary content, a grey for secondary, a lighter grey for tertiary.",
          "insight": "Three text colors from the production style guide map directly to three information tiers: --text-dark, --text-gray, --text-light-gray."
        },
        {
          "source": "dana-call.txt, 05:56",
          "type": "host_call",
          "quote": "I'm a flight attendant... I have to go to work tonight.",
          "insight": "Dana scans in seconds. The three-tier system ensures the most important information (Tier 1) is visually distinct enough to be read in a 2-second glance without reading Tier 2 or 3."
        }
      ],
      "priority": "high",
      "tokens": {
        "colors": ["--text-dark (#1a1a1a) for Tier 1", "--text-gray (#6b7280) for Tier 2", "--text-light-gray (#9ca3af) for Tier 3"],
        "typography": ["--text-lg (18px) + --font-weight-bold (700) for Tier 1", "--text-base (14px) + --font-weight-normal (400) for Tier 2", "--text-sm (12px) + --font-weight-normal (400) for Tier 3"],
        "spacing": ["--spacing-xs (4px) between Tier 1 and Tier 2 within a group", "--spacing-lg (16px) between distinct groups"],
        "new_tokens_needed": []
      },
      "contrast_requirements": "Tier 1: --text-dark (#1a1a1a) on --bg-white (#ffffff) = 16.1:1 (WCAG AAA). Tier 2: --text-gray (#6b7280) on --bg-white = 4.6:1 (WCAG AA pass). Tier 3: --text-light-gray (#9ca3af) on --bg-white = 2.6:1 (below WCAG AA for small text — acceptable only for supplementary information that is not essential for comprehension).",
      "visual_hierarchy_rule": "Within any card or section, the eye should land on Tier 1 text first (dark, bold), understand the context from Tier 2 (grey, normal), and optionally read Tier 3 (light grey, small) for metadata. This must hold true at a 2-foot phone viewing distance and at a 2-second time budget.",
      "brand_alignment": "Uses the production style guide's text color tokens exactly. The system is neutral and professional, aligning with the taste model's 'confident, not flashy' and 'trustworthy, not corporate' personality. The modest size jumps (12/14/18) prevent the design from feeling either too corporate (uniform sizing) or too playful (large size jumps)."
    },
    {
      "id": "looks-003",
      "type": "visual_pattern",
      "title": "Generous White Space as Functional Readability Tool",
      "journey_phases": ["listing_creation", "active_lease", "proposal_mgmt", "onboarding"],
      "problem": "For time-starved, cognitively overloaded hosts like Dana, dense interfaces feel hostile. Every pixel of whitespace that's removed forces the eye to work harder to distinguish groups, find boundaries, and locate action items. Refactoring UI is explicit: 'Start with too much white space' and 'you don't have to fill the whole screen.' The current platform likely uses standard 16px padding and 8px gaps, which feel adequate for focused users but insufficient for users scanning in 5-second distracted bursts.",
      "solution": "Apply Refactoring UI's spacing philosophy across all host-facing screens. (1) Component internal padding: increase from --spacing-lg (16px) to --spacing-2xl (24px) for cards and sections. (2) Group separation: use --spacing-4xl (32px) between distinct content groups, making it impossible to mistake one group's content for another. (3) Content width: constrain to --container-sm (640px) for single-column flows (listing wizard, proposal review) per Refactoring UI's guidance that you don't need to fill the whole screen. (4) Apply the 'avoid ambiguous spacing' principle strictly: intra-group spacing must be visibly smaller than inter-group spacing. Use the ratio from the book: space within groups should be no more than half the space between groups.",
      "evidence": [
        {
          "source": "refactoringui, Start with too much white space",
          "type": "book",
          "quote": "One of the easiest ways to clean up a design is to give every element a little more room to breathe. White space should be removed, not added.",
          "insight": "The default state should be generous spacing. Only remove whitespace when a specific design decision requires density (e.g., data tables). For host dashboard and listing flows, density is never required."
        },
        {
          "source": "refactoringui, Avoid ambiguous spacing",
          "type": "book",
          "quote": "Whenever you're relying on spacing to connect a group of elements, always make sure there's more space around the group than there is within it.",
          "insight": "Clear spacing hierarchy prevents the visual parsing errors that waste seconds for distracted hosts."
        },
        {
          "source": "dana-call.txt, 06:46",
          "type": "host_call",
          "quote": "All my folders and blown up nonstop.",
          "insight": "Dana's visual environment is already noisy (phone notifications, multiple apps). The platform must be a visual oasis — calm, spacious, easy to parse."
        }
      ],
      "priority": "medium",
      "tokens": {
        "colors": ["--bg-white (#ffffff) for card backgrounds", "--bg-light (#f9fafb) for page backgrounds to create subtle depth separation"],
        "typography": [],
        "spacing": ["--spacing-2xl (24px) for card internal padding", "--spacing-4xl (32px) for inter-group spacing", "--spacing-lg (16px) for intra-group spacing", "--container-sm (640px) for single-column content width"],
        "new_tokens_needed": []
      },
      "contrast_requirements": "Background contrast: --bg-white on --bg-light creates a 1.03:1 ratio — purely decorative, not functional. The contrast serves to visually separate cards from page background, not to convey information.",
      "visual_hierarchy_rule": "White space IS hierarchy. More space between groups = stronger visual separation. Less space within groups = stronger visual connection. This creates a 'breathing' rhythm that allows the eye to parse information in natural chunks without conscious effort.",
      "brand_alignment": "Aligns with taste model's 'warm, not cold' and 'premium-accessible' personality. Generous white space communicates quality and confidence — the design has nothing to hide and doesn't need to fill space with marketing noise."
    },
    {
      "id": "looks-004",
      "type": "visual_pattern",
      "title": "Shadow-Based Elevation for Actionable vs. Informational Content",
      "journey_phases": ["active_lease", "proposal_mgmt"],
      "problem": "When a host like Dana glances at her dashboard, she needs to instantly distinguish between content that requires action (a proposal to review, a date change to approve) and content that's informational (past stay summary, listing stats). Currently, cards and sections likely use the same visual treatment regardless of their actionability. Refactoring UI's 'use shadows to convey elevation' principle provides the solution: elevated elements feel closer and more urgent, while flat elements recede into the background.",
      "solution": "Apply a two-level elevation system to distinguish actionable from informational content. Level 1 (Actionable — proposals awaiting response, date changes pending, unread messages): Use --shadow-md ('0 2px 8px rgba(0, 0, 0, 0.08)') to lift these cards off the page. Additionally, add a 3px left border using --secondary-purple to signal interactivity. Level 2 (Informational — past stays, listing stats, completed actions): Use --shadow-sm ('0 1px 3px rgba(0, 0, 0, 0.05)') or no shadow at all. These sit flat on the page background. Per Refactoring UI's 'even flat designs can have depth' principle, the informational cards can use a subtle border (--border-color) instead of shadow to maintain structure without elevation. On hover/press, actionable cards transition to --shadow-lg with a smooth 0.2s ease, confirming interactivity.",
      "evidence": [
        {
          "source": "refactoringui, Use shadows to convey elevation",
          "type": "book",
          "quote": "Shadows are a great way to add some visual cue that an element is raised. Small shadows with a tight blur radius make an element feel only slightly raised, while larger shadows with a higher blur radius make an element feel much closer to the user.",
          "insight": "Elevation = urgency/actionability. Actionable items should feel closer to the user (higher shadow) while informational items recede (lower or no shadow)."
        },
        {
          "source": "refactoringui, Add color with accent borders (Finishing Touches)",
          "type": "book",
          "quote": "If you need to add a pop of color to an element, consider adding a colorful accent border.",
          "insight": "A colored left border on actionable cards adds visual distinction without changing the card's overall design. Uses the brand purple to connect actionability with brand identity."
        },
        {
          "source": "dana-call.txt, 05:56",
          "type": "host_call",
          "quote": "I have to go to work tonight. I won't be back towards Sunday.",
          "insight": "When Dana checks on Saturday, she must instantly see which cards need action vs. which are status updates. Shadow + accent border provides this distinction without requiring text labels."
        }
      ],
      "priority": "medium",
      "tokens": {
        "colors": ["--secondary-purple for accent border on actionable cards", "--border-color (#e5e7eb) for informational card borders"],
        "typography": [],
        "spacing": ["3px left border width for accent borders"],
        "new_tokens_needed": ["--border-width-accent: 3px (or use existing --border-width-thick: 2px)"]
      },
      "contrast_requirements": "The shadow differential between actionable and informational cards must be perceptible at a glance. Testing needed to confirm that --shadow-md vs --shadow-sm is distinguishable on mobile screens where shadows render with less precision.",
      "visual_hierarchy_rule": "Elevated (actionable) cards sit above informational cards in both visual and z-axis hierarchy. The accent border breaks the symmetry of the card layout, drawing the eye to actionable items first. This creates a 'what needs attention' scanning pattern that doesn't rely on color coding or text labels.",
      "brand_alignment": "Uses the production style guide's shadow system and brand purple for accent borders. Aligns with taste model's 'confident, not flashy' — the elevation difference is subtle but functional, not dramatic."
    },
    {
      "id": "looks-005",
      "type": "visual_pattern",
      "title": "Compatibility Badge Visual System for Guest Matching",
      "journey_phases": ["proposal_mgmt", "evaluation"],
      "problem": "Dana needs to see at a glance whether a guest matches her preferences (part-week, secondary address, professional traveler). There is no visual language for expressing guest-host compatibility. Text descriptions ('This guest matches your preferences') are slow to process and don't allow comparison across multiple proposals. Refactoring UI's principles of visual hierarchy through color and the 'don't rely on color alone' accessibility guideline both apply: the compatibility signal needs to be instantly recognizable while remaining accessible.",
      "solution": "Create a compact badge system that communicates guest-host match quality. Each badge represents one preference criterion: (1) Occupancy Pattern Match: shows a day-badge miniature with a check icon. (2) Secondary Address: badge showing the guest's primary city (e.g., 'Lives in Boston') with a subtle icon. (3) Professional Category: badge showing work type with an appropriate icon (briefcase for hybrid worker, etc.). Badges use the purple palette for matches and neutral grey for uncategorized. Per Refactoring UI's 'don't rely on color alone' principle, each badge also includes text and/or an icon, not just color. Per the 'accessible doesn't have to mean ugly' principle, the badge design should be clean and integrated, not clinical. Position badges immediately below the day-badge row in guest cards, forming a scannable visual cluster.",
      "evidence": [
        {
          "source": "dana-call.txt, 04:07-04:46",
          "type": "host_call",
          "quote": "I have never, ever, ever had a problem with the travelers... all of the guests that we work with, this is their secondary address. They have another place.",
          "insight": "Three distinct preference criteria emerge from Dana's call: (1) occupancy pattern, (2) address status, (3) professional category. Each needs its own visual badge."
        },
        {
          "source": "refactoringui, Don't rely on color alone",
          "type": "book",
          "quote": "Always use color to support something that your design already communicates in some other way. Use changes in contrast for colorblind users.",
          "insight": "Compatibility badges must use text + icon + color, not color alone. A green badge means nothing to a colorblind user; a badge that says 'Secondary Address' with a check icon communicates regardless of color perception."
        },
        {
          "source": "refactoringui, Accessible doesn't have to mean ugly",
          "type": "book",
          "quote": "The best way to improve accessibility is to use color to support something that is already communicated in other ways.",
          "insight": "Badges should be visually elegant while being accessible — using the brand purple palette, clean typography, and subtle icons rather than traffic-light color coding."
        }
      ],
      "priority": "medium",
      "tokens": {
        "colors": ["--bg-off-white (rgb(252, 250, 255)) for badge background", "--text-purple (rgb(82, 31, 147)) for badge text", "--text-gray (#6b7280) for neutral badge text", "--bg-light-gray (#f3f4f6) for neutral badge background"],
        "typography": ["--text-xs (11px) for badge text", "--font-weight-medium (500) for badge text"],
        "spacing": ["--spacing-xs (4px) horizontal padding inside badge", "--spacing-sm (8px) between badges"],
        "new_tokens_needed": []
      },
      "contrast_requirements": "--text-purple on --bg-off-white: approximately 7.5:1 (WCAG AAA). --text-gray on --bg-light-gray: approximately 3.7:1 (borderline AA for small text — acceptable given badges also use icons and are supplementary to the day-badge pattern above).",
      "visual_hierarchy_rule": "Badges are secondary visual elements that support the primary day-badge row. They should be smaller and lighter than the day badges but still scannable. The cluster (day badges + compatibility badges) forms a single visual group that communicates the full guest-match picture.",
      "brand_alignment": "Uses the purple-tinted palette (--bg-off-white, --text-purple) to maintain brand consistency. The pill-shaped badge design (--rounded-pill: 20px) aligns with the taste model's 'rounded corners' and 'premium-accessible' personality."
    }
  ]
}</script>
  <!-- INJECT:layer-4 -->
  <script id="data-layer-4" type="application/json">{
  "lens": {
    "host_call": "dana-call.txt",
    "book_extract": "refactoringui-hierarchy-spacing-color.txt"
  },
  "elements": [
    {
      "id": "behaves-001",
      "type": "interaction_pattern",
      "title": "Proposal Quick-Action Swipe Pattern for Time-Starved Hosts",
      "journey_phases": ["proposal_mgmt"],
      "problem": "Dana checks her phone in 5-second bursts between flights. The current proposal review flow likely requires: open app -> navigate to proposals -> tap proposal -> read details -> scroll to action buttons -> tap accept/reject -> confirm. This multi-step flow exceeds her attention budget. Refactoring UI's principle of matching input speed to cognitive speed applies: the interaction pattern must allow Dana to make her accept/reject decision and execute it in the same time window she uses to read a text message.",
      "solution": "Implement a quick-action pattern on proposal cards that allows primary decisions without navigating into a detail view. (1) Swipe right to accept (with confirmation overlay), swipe left to reject (with optional reason). (2) Alternatively, show inline action buttons directly on the proposal card in the list view — a checkmark button and an X button visible without tapping into the card. (3) Before any quick action, show a 2-second confirmation overlay that displays the key facts (guest name, occupancy pattern, duration) and requires a final tap to confirm. This overlay uses Refactoring UI's hierarchy principles: guest name bold and dark, occupancy pattern via day badges, duration in secondary text. (4) For hosts who want more detail, the full card tap-through remains available. The quick-action is an acceleration, not a replacement.",
      "evidence": [
        {
          "source": "dana-call.txt, 05:56",
          "type": "host_call",
          "quote": "I have to go to work tonight. I won't be back towards Sunday.",
          "insight": "Dana's interaction windows are measured in seconds between obligations. Every tap, navigation step, and scroll reduces the probability of completing the action."
        },
        {
          "source": "refactoringui, Limit your choices — Define systems in advance",
          "type": "book",
          "quote": "When you build systems like this, you only have to do the hard work once instead of every time. It'll save you a ton of decision fatigue.",
          "insight": "The quick-action pattern reduces the proposal decision from a multi-step process to a single gesture. The system (day badges, compatibility badges) does the analytical work so the host only needs to confirm."
        },
        {
          "source": "dana-call.txt, 04:07-05:02",
          "type": "host_call",
          "quote": "I have never, ever, ever had a problem with the travelers... I will never do that again. Never.",
          "insight": "Dana's decisions are binary and fast — her mental model is 'right type = accept, wrong type = reject.' The interaction pattern should match this binary speed."
        }
      ],
      "priority": "high",
      "states": {
        "default": "Proposal card in list view showing guest name, day-badge row, secondary address badge, and duration. Inline accept/reject buttons visible on the right side of the card.",
        "loading": "After tap on accept/reject, the confirmation overlay animates in from the card (200ms ease-out). The overlay shows key facts for a final review. A subtle progress indicator appears while the action submits.",
        "empty": "No proposals state shows the reassuring empty state from communicates-005: 'No proposals right now. Your listing is active and visible.'",
        "error": "If submission fails, the card returns to default state with a subtle error indicator (red bottom border, 200ms transition). A retry option appears. The host's action choice is preserved so they don't need to re-decide.",
        "success": "On successful action, the card animates out (300ms ease-out with slight opacity fade) and the list reflows. A brief toast notification confirms: 'Proposal accepted — Allen has been notified.' Toast auto-dismisses after 3 seconds."
      },
      "transition_principle": "All transitions should feel 'settled and confident' per the taste model. Cards slide and fade; they don't bounce or spring. Confirmation overlays expand from the card rather than sliding in from an edge, maintaining spatial context.",
      "timing": {
        "response_target": "100ms for initial visual feedback (button press state). 300ms for confirmation overlay animation. 500ms maximum for server response before showing optimistic success.",
        "easing": "ease-out for all forward transitions (opening overlays, confirming actions). ease-in-out for card removal animations.",
        "rationale": "Fast initial feedback (100ms) prevents Dana from second-guessing whether her tap registered. The 300ms overlay gives enough time to read 3 data points without feeling slow."
      },
      "journey_state_awareness": "If the host has set guest preferences in listing creation, the quick-action card can show a match indicator (green check or amber caution) that pre-validates the guest against preferences. This reduces the decision to confirming the system's recommendation rather than analyzing from scratch.",
      "edge_cases": [
        "Host accidentally accepts when intending to reject — the toast notification includes an 'Undo' link for 5 seconds after action",
        "Multiple proposals pending — the list must handle rapid sequential decisions without lag or confusion",
        "Network failure during action — optimistic UI shows success but rolls back with clear messaging if the server rejects",
        "Host navigates away during confirmation overlay — save the pending action state and resume on return"
      ]
    },
    {
      "id": "behaves-002",
      "type": "interaction_pattern",
      "title": "Smart Default Pre-Selection for Listing Import Flow",
      "journey_phases": ["listing_creation", "onboarding"],
      "problem": "When Dana imports her listing from Furnished Finder, the platform must pre-fill fields with imported data. But imported data may not map perfectly to Split Lease's field structure. The interaction challenge is: how does the host confirm and correct imported data without re-doing the work? Refactoring UI's 'define systems in advance' principle: the import flow should use a constrained set of options (dropdowns, chips, toggles) so imported data maps to system-defined values, not freeform text that requires manual cleanup.",
      "solution": "Design the import confirmation flow as a 'review and correct' pattern, not a 'fill in' pattern. (1) Show all imported data pre-populated in editable fields. Fields that were successfully mapped are visually confirmed (subtle check mark, normal visual weight). Fields that couldn't be mapped or need attention are highlighted (accent border, slightly elevated per looks-004). (2) Use toggle chips for categorical data (space type, parking, amenities) — the system pre-selects based on import, and Dana can tap to change. Per Refactoring UI's 'designing by process of elimination' principle, chips make it easy to compare options and select the right one. (3) For fields unique to Split Lease (guest preferences, occupancy rules), present them as a new section clearly separated from imported data, with smart defaults based on the call notes (Bryant knows Dana wants part-week guests).",
      "evidence": [
        {
          "source": "dana-call.txt, 01:27-01:49",
          "type": "host_call",
          "quote": "I don't have it, it maybe on the listing as well, but, uh, parking... Yeah, this garage was around... Everything else, yep, like you said, it should be able to get from the listing here.",
          "insight": "Bryant references the existing listing for property details. The platform should import what Bryant found and present it for confirmation, not ask Dana to re-enter it."
        },
        {
          "source": "refactoringui, Limit your choices — Designing by process of elimination",
          "type": "book",
          "quote": "When you're designing using a constrained set of values, decision-making is a lot easier because there are a lot fewer 'right' choices.",
          "insight": "Toggle chips with constrained options (Private Room / Shared Room / Entire Place) are faster than freeform fields. Pre-selection from imported data means the host only needs to verify, not decide."
        },
        {
          "source": "dana-call.txt, 05:33",
          "type": "host_call",
          "quote": "I came across it on furnished finder. It's called the furnished room with private roof garden.",
          "insight": "The listing name, type, and key feature (roof garden) are all extractable from the existing listing. Pre-fill and confirm."
        }
      ],
      "priority": "high",
      "states": {
        "default": "Import confirmation screen showing all pre-filled fields. Successfully mapped fields have a subtle check indicator. Unmapped fields have accent highlight calling attention.",
        "loading": "During import, show a progress indicator with the Furnished Finder listing URL and 'Importing your listing...' message. Use skeleton loading for field areas so the host can see the structure before data arrives.",
        "empty": "If import fails or URL is invalid, show an error state with option to try another URL or switch to manual creation. Never a dead end.",
        "error": "Field-level validation errors appear inline next to the affected field. Use Refactoring UI's principle: error messaging should be close to the error, not in a banner at the top. Use --status-error color for error states.",
        "success": "After confirming all fields, a brief animation confirms: 'Listing imported — reviewing...' followed by redirect to the listing preview. Total time from import to preview under 30 seconds."
      },
      "transition_principle": "The confirmation flow uses vertical scrolling through pre-filled sections, not a multi-step wizard. This respects Refactoring UI's 'work in cycles' principle — the host sees everything at once and can correct in any order, rather than stepping through a rigid sequence.",
      "timing": {
        "response_target": "Import fetch: under 3 seconds. Field pre-fill animation: 150ms staggered per field group. Confirmation submit: under 1 second.",
        "easing": "ease-out for field population animations. ease-in-out for section transitions.",
        "rationale": "Staggered field population (150ms per group) creates a satisfying 'data arriving' effect that confirms the import is working, without being slow enough to feel laggy."
      },
      "journey_state_awareness": "If Bryant has notes from the call (property type, guest preference, availability date), these should also pre-fill in the Split Lease-specific fields. The import flow should combine data from two sources: the external listing + the agent's call notes.",
      "edge_cases": [
        "Furnished Finder listing has data that doesn't map to any Split Lease field — show in an 'Additional Notes' section, don't discard",
        "Import partially fails — show what was imported and flag what needs manual entry",
        "Host has multiple listings on Furnished Finder — let them select which to import",
        "Listing has been updated on Furnished Finder after import — provide a 're-sync' option"
      ]
    },
    {
      "id": "behaves-003",
      "type": "interaction_pattern",
      "title": "Notification Batching and Priority Escalation for Absent Hosts",
      "journey_phases": ["active_lease", "proposal_mgmt"],
      "problem": "Dana's phone is 'blown up nonstop' with notifications from people helping her parents after the house fire. Platform notifications that arrive in this stream will be lost. Sending more notifications doesn't solve the problem — it makes it worse. The interaction pattern needs to be smart about when and how to notify, escalating priority only when an action deadline is approaching. Refactoring UI's 'limit your choices' principle applies: don't give the notification system unlimited frequency options — define a constrained set of notification behaviors.",
      "solution": "Implement a three-tier notification system: (1) Batch tier (non-urgent): Daily digest email/push summarizing all activity — listing views, messages received, completed stays. Sent at a consistent time (morning). Uses Refactoring UI's hierarchy: the digest email itself must have visual hierarchy with the most important item first. (2) Priority tier (action needed): Individual notification sent when a time-sensitive action is required (proposal received, date change request). Sent once, with the deadline embedded in the notification text ('Review Allen's proposal — 2 days left'). (3) Escalation tier (deadline approaching): If a priority notification hasn't been acted on within 24 hours of deadline, escalate to SMS (not just push). SMS text is minimalist: 'Split Lease: Proposal from Allen expires tomorrow. Tap to review: [link]'. Per Refactoring UI's hierarchy principle, each tier uses progressively more attention-grabbing channels (email < push < SMS) but the number of notifications decreases (many batched < few priority < rare escalation).",
      "evidence": [
        {
          "source": "dana-call.txt, 06:46",
          "type": "host_call",
          "quote": "All the people that helping them with the fire because they can't get ahold of them. All my folders and blown up nonstop.",
          "insight": "Dana's notification environment is hostile to any new notification. The platform must be respectful of this reality and use escalation only when truly necessary."
        },
        {
          "source": "refactoringui, Limit your choices — Systematize everything",
          "type": "book",
          "quote": "The more systems you have in place, the faster you'll be able to work and the less you'll second guess your own decisions.",
          "insight": "The notification system should be systematic: clear rules for what triggers each tier, not ad-hoc decisions per notification type."
        },
        {
          "source": "dana-call.txt, 05:56",
          "type": "host_call",
          "quote": "I have to go to work tonight. I won't be back towards Sunday.",
          "insight": "Dana's schedule means she may not see a push notification for days. The escalation tier (SMS) is essential for time-sensitive actions."
        }
      ],
      "priority": "high",
      "states": {
        "default": "Host receives daily digest at configured time. No interruptions for non-urgent activity.",
        "loading": "N/A for notifications — they are sent, not loaded.",
        "empty": "When there's nothing to report, the daily digest still sends a reassuring one-liner: 'All quiet on your listings today. No action needed.'",
        "error": "If notification delivery fails (email bounces, push fails), the system falls back to the next tier up (push fail -> try SMS for priority items). Error logged for system monitoring.",
        "success": "When the host acts on a notification (opens the link, completes the action), the notification system records this and adjusts future timing based on the host's active hours."
      },
      "transition_principle": "Notifications should feel like a respectful assistant, not an alarm system. Batch notifications are calm and comprehensive. Priority notifications are clear and actionable. Escalation notifications are urgent but not panicky.",
      "timing": {
        "response_target": "Daily digest: sent once per day at configured time. Priority notification: sent within 5 minutes of trigger event. Escalation: sent when deadline is within 24 hours and no action has been taken.",
        "easing": "N/A for notification timing — this is about delivery scheduling, not animation.",
        "rationale": "The three-tier timing prevents notification fatigue while ensuring time-sensitive actions aren't missed. The 24-hour escalation threshold gives the host a full day to act through normal channels before SMS."
      },
      "journey_state_awareness": "The notification system should learn from the host's behavior: when do they typically open the app? (Dana likely checks between flights — specific times of day.) Shift the daily digest to align with the host's active window. If the host consistently responds to proposals within 2 hours of a push notification, don't escalate to SMS for that host.",
      "edge_cases": [
        "Host has Do Not Disturb enabled on phone — escalation to SMS bypasses DND on most phones, but this should be a configurable option",
        "Host is in a different timezone (flight attendant traveling) — notification timing should be based on the host's last known timezone or their home timezone preference",
        "Multiple time-sensitive actions pending simultaneously — batch them into a single priority notification with a prioritized list, don't send multiple",
        "Host marks all notifications as read without acting — distinguish between 'seen' and 'acted on' to avoid false-positive escalation"
      ]
    },
    {
      "id": "behaves-004",
      "type": "interaction_pattern",
      "title": "Guest Preference Quick-Set During Listing Creation",
      "journey_phases": ["listing_creation"],
      "problem": "Dana has strong guest preferences (part-week, secondary address, professional travelers) but the listing creation wizard likely doesn't capture these preferences, or buries them in a complex form. The interaction must capture preferences with the same speed that Dana expresses them verbally: 'I want travelers, not full-time tenants. Monday to Thursday. Secondary address.' This takes 5 seconds in conversation. The platform interaction should take under 15 seconds. Refactoring UI's principle of using constrained choices (toggle chips, select-one groups) maps perfectly.",
      "solution": "Add a 'Guest Preferences' step to the listing flow (or the import confirmation flow) that uses rapid-selection interaction patterns. (1) Preferred occupancy: visual day-badge selector where Dana taps to highlight preferred days (toggle on/off). Default to Mon-Thu based on the most common part-week pattern. (2) Stay type: toggle chips — 'Part-week stays' (pre-selected based on day selection) / 'Full-week stays' / 'Either'. (3) Guest profile: toggle chips — 'Travel professionals' / 'Hybrid workers' / 'Students' / 'Any'. Pre-select based on call notes. (4) Presence level: toggle — 'Secondary address only' / 'Any'. Each selection requires a single tap. The entire step should be completable in 3-4 taps plus a confirm button. Apply Refactoring UI's 'designing by process of elimination' principle: the constrained options make it obvious which to choose because wrong options look obviously wrong.",
      "evidence": [
        {
          "source": "dana-call.txt, 04:07-05:02",
          "type": "host_call",
          "quote": "I have never, ever, ever had a problem with the travelers... He was a computer guy working at home. I will never do that again.",
          "insight": "Dana's preference is expressed as a binary: travelers YES, full-time WFH NO. The interaction should match this binary clarity with simple toggles and chips."
        },
        {
          "source": "refactoringui, Limit your choices — Designing by process of elimination",
          "type": "book",
          "quote": "To pick the best option, start by taking a guess at which one will look best. Then try the values on either side for comparison. Chances are, two of those options will seem like obviously bad choices.",
          "insight": "With constrained chip options, Dana can scan the 3-4 options and immediately identify the right one. The wrong options serve as contrast that confirms her choice."
        },
        {
          "source": "dana-call.txt, 04:46",
          "type": "host_call",
          "quote": "All of the guests that we work with, this is their secondary address. They have another place.",
          "insight": "The 'secondary address only' toggle directly maps to this stated preference. Pre-selecting it saves Dana a tap and confirms the platform understands her."
        }
      ],
      "priority": "high",
      "states": {
        "default": "Guest preference step showing day-badge selector (Mon-Thu pre-highlighted), stay type chips (Part-week pre-selected), guest profile chips (Travel professionals pre-selected), presence toggle (Secondary address pre-selected).",
        "loading": "N/A — this is a local selection step with no server dependency until save.",
        "empty": "N/A — defaults are always pre-selected based on common patterns or call notes.",
        "error": "If the host selects contradictory preferences (e.g., 'Full-week stays' + 'Secondary address only'), show inline guidance explaining the tension and suggest adjustment. Don't block — let the host decide.",
        "success": "On confirm, show a brief summary of preferences: '4 nights/week · Mon-Thu · Travel professionals · Secondary address.' This summary becomes the compact representation that appears on the listing and in the host's dashboard."
      },
      "transition_principle": "Chip selection should feel instant and decisive. Tapping a chip selects it with a 100ms color transition (background shifts to --selected-purple, text shifts to white). Deselecting reverses with the same timing. No bouncing, no delays. The interaction should feel like flipping light switches.",
      "timing": {
        "response_target": "100ms for chip selection visual feedback. 0ms for day-badge toggle (instant color change). 200ms for the preference summary animation on confirm.",
        "easing": "ease for chip selection transitions. Linear for day-badge toggles (they should feel like physical switches).",
        "rationale": "Ultra-fast selection feedback prevents second-guessing. When Dana taps 'Travel professionals,' the instant visual confirmation tells her the system heard her."
      },
      "journey_state_awareness": "If the platform has call notes from Bryant indicating Dana's preferences, these should be pre-populated as defaults. The step should open with 'Based on your conversation with Bryant, we've set some preferences. Adjust anything that doesn't look right.' This connects the digital experience to the human conversation.",
      "edge_cases": [
        "Host wants to change preferences after listing creation — provide an edit path from listing management, not requiring re-creation",
        "Guest proposals that don't match preferences — still show them but with a clear mismatch indicator (per looks-005 compatibility badges), don't auto-reject",
        "Host selects no preferences (deselects all) — treat as 'open to all guests' and confirm this interpretation",
        "Preferences conflict with listing details (e.g., part-week preference but listing priced for full-month) — flag the conflict and suggest pricing adjustment"
      ]
    },
    {
      "id": "behaves-005",
      "type": "interaction_pattern",
      "title": "Between-Stay Empty State with Proactive Status Updates",
      "journey_phases": ["active_lease"],
      "problem": "For a host with a Mon-Thu guest, the active lease dashboard shows no activity on Fri-Sun. This is the period when Dana (a flight attendant) is most likely to check the app — between Friday departure and Sunday return. An empty or static dashboard during this period creates anxiety: 'Did the guest leave? Is everything okay? Did they send cleaning photos?' Refactoring UI's 'don't overlook empty states' and 'supercharge the defaults' principles demand that the between-stay state communicates useful information, not emptiness.",
      "solution": "Design the between-stay state as an active status display that transitions through a timeline. (1) Thursday evening: 'Allen's stay ends tonight. Cleaning photos expected.' (2) Friday (photos received): 'Allen checked out. Cleaning photos received.' with a thumbnail of the photos and a one-tap 'View photos' action. (3) Friday (photos not received): 'Allen checked out. Cleaning photos not yet received.' with a 'Request photos' action button. (4) Saturday-Sunday: 'Next stay: Monday, Feb 24. Allen arrives.' with the day-badge row showing the upcoming week. Each state transition happens automatically based on the stay schedule. Use Refactoring UI's visual hierarchy: the current status uses Tier 1 text (dark, bold), the next event uses Tier 2 (grey, normal), and historical events use Tier 3 (light grey, small). The between-stay screen should have generous white space per looks-003, communicating calm confidence.",
      "evidence": [
        {
          "source": "refactoringui, Finishing Touches — Don't overlook empty states",
          "type": "book",
          "quote": "Empty states are a user's first interaction with a new product and your chance to make everything click for them.",
          "insight": "The between-stay state is the most frequent state for a Mon-Thu guest lease. It's not really 'empty' — it's the calm phase of the weekly cycle. Design it with as much care as the active-stay state."
        },
        {
          "source": "dana-call.txt, 05:56",
          "type": "host_call",
          "quote": "I'm a flight attendant... I won't be back towards Sunday.",
          "insight": "Dana checks on weekends when the guest is not staying. The between-stay state is her primary view of the lease. It must answer 'is everything fine?' without requiring any action."
        },
        {
          "source": "refactoringui, Finishing Touches — Supercharge the defaults",
          "type": "book",
          "quote": "Replace boring defaults with something more interesting.",
          "insight": "The default between-stay screen should not be a blank card. It should actively communicate the stay cycle: what happened, what's coming next."
        }
      ],
      "priority": "medium",
      "states": {
        "default": "Between-stay state showing: (1) Status of last stay (checked out, photos received/pending), (2) Next stay date and guest name, (3) Weekly day-badge pattern showing the rhythm.",
        "loading": "When transitioning between stay states (e.g., guest checkout triggers photo request), show a brief transition animation (200ms) as the status text updates.",
        "empty": "If no future stays are scheduled, show: 'No upcoming stays. Your listing is active.' with listing stats (views this week).",
        "error": "If cleaning photos are overdue (>24 hours after checkout), the status shifts to: 'Cleaning photos not received — we've reminded Allen.' Uses a subtle warning treatment (amber text, not red).",
        "success": "When cleaning photos arrive, the status updates with a satisfying transition: the 'photos pending' indicator resolves to 'photos received' with a thumbnail preview."
      },
      "transition_principle": "State transitions should feel like a clock ticking forward, not like a page reload. The status text fades and swaps (200ms cross-fade), the timeline advances, and new information slides in from the right. The rhythm should feel organic and predictable — Dana expects the cycle and the UI confirms it.",
      "timing": {
        "response_target": "Status updates should be near-real-time (within 5 minutes of the triggering event). Visual transition: 200ms cross-fade for text changes.",
        "easing": "ease-out for forward transitions (new status appearing). ease-in for old status fading.",
        "rationale": "Near-real-time updates mean Dana can trust the status she sees. The 200ms cross-fade is fast enough to feel responsive but slow enough to be noticed — confirming that something changed."
      },
      "journey_state_awareness": "The between-stay state adapts based on lease history. If the guest has reliably sent cleaning photos for the last 3 stays, the 'photos pending' state includes a confidence note: 'Allen has sent photos for all previous stays.' This builds cumulative trust, addressing Dana's anxiety about guest behavior when she's absent.",
      "edge_cases": [
        "Guest checks out early (before Thursday) — the status should update to reflect the early checkout and adjust the next-stay display",
        "Guest doesn't check out (overstay) — the status should escalate: 'Allen was expected to check out yesterday. We're following up.'",
        "Multiple guests on the same listing (different rooms) — the between-stay state should show per-guest status, not aggregate",
        "Host hasn't opened the app in weeks — the between-stay state should still be current when she eventually opens it, showing the latest stay status"
      ]
    }
  ]
}</script>
  <!-- INJECT:layer-5 -->
  <script id="data-layer-5" type="application/json">{
  "lens": {
    "host_call": "dana-call.txt",
    "book_extract": "refactoringui-hierarchy-spacing-color.txt"
  },
  "elements": [
    {
      "id": "feels-001",
      "type": "emotional_element",
      "title": "Protective Confidence in Guest Matching",
      "journey_phases": ["evaluation", "proposal_mgmt"],
      "problem": "Dana carries emotional trauma from bad tenant experiences. The fish-cooking WFH tenant is not just a bad memory — it's an active fear that colors every interaction with new guests. When she evaluates Split Lease or reviews a proposal, her default emotional state is defensive and vigilant, not open and curious. The platform's current tone likely uses generic marketplace language ('Great news! You have a new proposal!') that doesn't acknowledge or address the host's protective stance. This disconnect between the host's emotional reality and the platform's tone creates a trust gap.",
      "solution": "The platform's emotional signature at guest-matching touchpoints should be 'protective confidence' — communicating 'we've done the screening so you don't have to worry.' (1) Proposal notifications should lead with the match quality, not the excitement: 'Allen matches your preferences: Mon-Thu, secondary address' not 'You have a new proposal!' (2) Guest profiles should feel like professional vetting reports, not marketplace listings. Use the three-tier text hierarchy (looks-002) to present verified facts prominently and unverified claims in lighter text. (3) The overall visual personality at these touchpoints should align with Refactoring UI's guidance on 'choosing a personality' — 'secure and professional' like a banking site, not 'fun and playful' like a social app.",
      "evidence": [
        {
          "source": "dana-call.txt, 04:07-05:02",
          "type": "host_call",
          "quote": "I have never, ever, ever had a problem with the travelers... Since the pandemic I've had other people... nightmares... I will never do that again. Never.",
          "insight": "The emotional arc from 'never had a problem' to 'nightmares' to 'never again' reveals a host who has been burned and is now hyper-vigilant. The platform must validate this vigilance, not try to override it with enthusiasm."
        },
        {
          "source": "refactoringui, Choose a personality",
          "type": "book",
          "quote": "A banking site might try to communicate secure and professional, while a trendy new startup might have a design that feels fun and playful.",
          "insight": "For guest-matching touchpoints, the platform should feel like a professional service that vets guests on the host's behalf — secure, not playful. The visual personality should communicate 'we take this seriously.'"
        },
        {
          "source": "dana-call.txt, 04:46",
          "type": "host_call",
          "quote": "All of the guests that we work with, this is their secondary address. They have another place.",
          "insight": "Bryant frames Split Lease's value proposition as protection: 'our guests are different from random tenants.' The platform must reinforce this framing consistently."
        }
      ],
      "priority": "high",
      "target_emotion": "safety",
      "emotion_rationale": "A host with trauma from bad tenants needs to feel safe before she can feel anything else. Safety enables engagement; without it, even perfect proposals will be rejected out of fear.",
      "copy_guidelines": {
        "voice": "factual, protective, professionally reassuring",
        "do": [
          "Lead with match criteria: 'Allen matches your preferences: Mon-Thu stays, secondary address in Boston'",
          "Use specific, verifiable facts: '14 positive reviews on the platform'",
          "Frame the platform as the host's filter: 'Based on your preferences, we found a match'",
          "Acknowledge the host's standards: 'Your listing requires part-week stays only'"
        ],
        "dont": [
          "Use exclamation marks or excitement language in proposal notifications",
          "Say 'Great news!' before presenting a proposal — let the host decide if it's great",
          "Use urgency language ('Act fast!', 'Don't miss out!') that pressures the host",
          "Describe guests with marketing language ('Amazing guest looking for your space!')"
        ],
        "example_good": "New proposal from Allen Chen. Mon-Thu weekly · Secondary address (Boston) · Hybrid worker. 10-week stay starting April 7.",
        "example_bad": "Exciting news! You've received a proposal from Allen! He can't wait to stay at your beautiful space. Don't miss this opportunity!"
      },
      "animation_feel": {
        "easing": "ease-out — settled, not bouncy",
        "feel_description": "Transitions should feel like opening a professional document, not unwrapping a gift. Cards appear with a subtle fade-in (no slide, no scale), confirmations settle into place with ease-out timing.",
        "duration_range": "200-300ms for all transitions at guest-matching touchpoints"
      },
      "tension_relief": {
        "tension_point": "Receiving a new proposal — 'Is this a good guest or another nightmare?'",
        "relief_point": "Seeing the match indicators and occupancy pattern — 'This is the right type of guest.'",
        "timing": "The match information should be visible within the first 2 seconds of seeing the proposal, before the host has time to build anxiety. The tension-relief cycle should be nearly instantaneous."
      },
      "personalization_signals": [
        "Show the host's own preference criteria in the match display: 'Matches your preference for part-week stays'",
        "Reference the agent's name in initial proposals: 'Bryant reviewed this match for you'",
        "Show the guest's occupancy pattern against the host's preferred pattern — visual overlay of expected vs. actual"
      ],
      "anti_patterns": [
        {
          "pattern": "Using excitement language for proposals",
          "reason": "Excitement triggers suspicion in a host with negative past experiences. If the platform is 'excited,' the host wonders what's being hidden.",
          "example_bad": "Great news! You have a new proposal! Check it out now!"
        },
        {
          "pattern": "Hiding guest details behind a 'View Details' wall",
          "reason": "Requiring a tap to see guest type forces the host to experience anxiety (unknown guest) before relief (seeing match details). The relief should come first.",
          "example_bad": "New proposal from Allen Chen. Tap to view details."
        },
        {
          "pattern": "Using generic guest photos or avatars",
          "reason": "Generic visuals trigger the 'stranger danger' response. Even a profile initial (AC) with a colored background is more personal than a grey silhouette.",
          "example_bad": "A grey person-silhouette icon next to 'New Proposal'"
        }
      ]
    },
    {
      "id": "feels-002",
      "type": "emotional_element",
      "title": "Calm Authority in the Between-Stay State",
      "journey_phases": ["active_lease"],
      "problem": "When Dana checks her phone between flights on a Saturday and her Mon-Thu guest has already left, the emotional challenge is managing absence anxiety. She can't see her space, can't verify the guest left it clean, and her past experience includes tenants who caused damage. The current between-stay state likely shows either an empty screen (anxiety-inducing) or a static 'lease active' status (uninformative). Neither addresses the specific emotional need of an absent host: 'Is my home okay?'",
      "solution": "The between-stay emotional signature should be 'calm authority' — the platform knows what's happening and is calmly in control, even when the host can't be there. (1) Use definitive, past-tense language for completed events: 'Allen checked out Thursday. Cleaning photos received.' — not 'Allen may have checked out.' (2) Use confident future language for upcoming events: 'Allen arrives Monday at the usual time.' (3) The visual design should use the generous white space (looks-003) and settled typography (looks-002) to communicate calm. No bold warnings, no urgent indicators — just steady, reliable information. (4) Per Refactoring UI's personality guidance, this state should feel like checking a flight status board: factual, calm, authoritative.",
      "evidence": [
        {
          "source": "dana-call.txt, 05:56",
          "type": "host_call",
          "quote": "I'm a flight attendant... I won't be back towards Sunday.",
          "insight": "Dana's professional context (flight attendant) means she's accustomed to status boards — departure gates, arrival times. The between-stay state should have the same factual calm."
        },
        {
          "source": "refactoringui, Choose a personality — Language",
          "type": "book",
          "quote": "The words you use in an interface have a massive influence on the overall personality. Using a less personal tone might feel more official or professional.",
          "insight": "The between-stay state should use professional, status-report language, not casual or chatty language. 'Checked out Thursday' not 'Allen headed home!'"
        },
        {
          "source": "dana-call.txt, 04:30",
          "type": "host_call",
          "quote": "I had a guy cooking fish in my house two times a day.",
          "insight": "The anxiety about what happens when she's not home is rooted in concrete bad experiences. The platform must replace uncertainty with factual status information."
        }
      ],
      "priority": "high",
      "target_emotion": "calm",
      "emotion_rationale": "Between stays, the host cannot act — the guest has left, the next stay hasn't started. The only appropriate emotion is calm reassurance. Anything that creates urgency or anxiety when the host cannot act is harmful.",
      "copy_guidelines": {
        "voice": "factual, steady, authority-conveying",
        "do": [
          "Use past tense for completed events: 'Allen checked out Thursday at 6pm'",
          "Use definitive future tense for scheduled events: 'Next stay begins Monday, Feb 24'",
          "Show concrete evidence of guest compliance: 'Cleaning photos received: 4 images'",
          "Use time-specific language: exact days and times, not relative ('yesterday', 'soon')"
        ],
        "dont": [
          "Use uncertain language: 'Allen may have checked out' or 'We think everything is fine'",
          "Use chatty language: 'Allen headed home! See you next week!'",
          "Create false urgency: 'Don't forget to check the space!' when the host is away",
          "Show notification badges or red indicators for non-urgent information"
        ],
        "example_good": "Last stay: Feb 17-20 · Allen checked out Thursday · Cleaning photos received. Next stay: Feb 24-27.",
        "example_bad": "Hey Dana! Allen's stay is over. Did everything go okay? Check in and let us know!"
      },
      "animation_feel": {
        "easing": "ease-out — things settle, they don't arrive with energy",
        "feel_description": "The between-stay state should feel like a clock slowly ticking — status updates appear with gentle cross-fades, not slides or bounces. The stillness is the point.",
        "duration_range": "200-250ms for status text transitions. No looping animations."
      },
      "tension_relief": {
        "tension_point": "Host opens the app wondering 'Did the guest trash my place?'",
        "relief_point": "Seeing 'Cleaning photos received: 4 images' with thumbnail previews",
        "timing": "Relief must be immediate — within 1 second of opening the lease view. If photos haven't been received, the relief is 'We've requested photos from Allen' — the platform is on it."
      },
      "personalization_signals": [
        "Show the guest's stay pattern history: 'Allen has completed 5 stays. All cleaning photos received.'",
        "If the host is a flight attendant, reference her schedule: 'Your next work trip is [date] — Allen's stay aligns with your schedule.'",
        "Show cumulative reliability metrics: 'This lease: 5 stays, 0 issues'"
      ],
      "anti_patterns": [
        {
          "pattern": "Showing an empty or static screen when no stay is active",
          "reason": "Emptiness creates anxiety for absent hosts. 'Nothing is showing' = 'Something might be wrong.'",
          "example_bad": "A blank card that says 'No active stay' with nothing else"
        },
        {
          "pattern": "Using chatty check-in language between stays",
          "reason": "Chatty language implies the platform doesn't know what's happening and is asking the host to do its job. The host is away — she can't 'check in.'",
          "example_bad": "How did Allen's stay go? Rate your experience!"
        },
        {
          "pattern": "Showing red badges or notification dots for non-urgent between-stay events",
          "reason": "Red indicators trigger alarm. Between stays, nothing is urgent enough for red. Even overdue cleaning photos should use amber, not red.",
          "example_bad": "A red (1) badge on the lease card because a review is pending"
        }
      ]
    },
    {
      "id": "feels-003",
      "type": "emotional_element",
      "title": "Respectful Patience During Evaluation Delay",
      "journey_phases": ["discovery", "evaluation", "onboarding"],
      "problem": "Dana cannot engage with Split Lease right now. Her parents' house burned down, she's a flight attendant leaving for work tonight, and her phone is overwhelmed. Bryant wisely doesn't push: 'Whether it's next week or in a couple of months, feel free to reach out.' But the platform's follow-up system may not share Bryant's patience. Automated follow-ups ('Did you check out the link we sent?', 'Don't miss out on finding your next guest!') would be tone-deaf to Dana's situation. The emotional challenge is maintaining the warm relationship Bryant built while respecting Dana's inability to act.",
      "solution": "Design the post-call follow-up sequence with explicit patience signals. (1) First follow-up (same day as call): Simple, information-only email from Bryant (or appearing from Bryant): 'Hi Dana, it was great talking with you. Here's the info I mentioned about Split Lease. No rush — whenever you're ready.' Include one link to the platform, nothing more. (2) No follow-up for 2 weeks minimum. The absence of follow-up IS the patience signal. (3) Second touchpoint (2-3 weeks later): 'Hi Dana, checking in. Allen is still interested in your space. Here when you're ready.' (4) If no engagement: stop. One more touchpoint at 6 weeks, then silence. Per Refactoring UI's personality principle, the copy should be professional and brief — not chatty, not sales-y, not urgent.",
      "evidence": [
        {
          "source": "dana-call.txt, 06:26",
          "type": "host_call",
          "quote": "Whether it's next week or in a couple of months, if you have any questions, you can always feel free to reach out.",
          "insight": "Bryant explicitly signals that the timeline is open-ended. The platform's follow-up system must match this promise. Any premature follow-up breaks the trust Bryant built."
        },
        {
          "source": "dana-call.txt, 05:56",
          "type": "host_call",
          "quote": "My parents accidentally burnt down their house a month ago. So I raced out there. I basically out, back and forth to their house with them all the time.",
          "insight": "Dana is dealing with a genuine crisis. The platform's follow-up system has no way to know this, but designing for patience by default protects against this scenario."
        },
        {
          "source": "refactoringui, Choose a personality — Language",
          "type": "book",
          "quote": "Words are everywhere in a user interface, and choosing the right ones is just as (if not more) important than choosing the right color or typeface.",
          "insight": "Every word in a follow-up email is a design decision. 'No rush' signals patience. 'Don't miss out' signals pressure. The word choice determines whether Dana feels respected or pushed."
        }
      ],
      "priority": "medium",
      "target_emotion": "relief",
      "emotion_rationale": "Dana is already overwhelmed. The most valuable emotion the platform can deliver is relief — relief that this is one thing she doesn't have to worry about right now, and that the opportunity will still be there when she's ready.",
      "copy_guidelines": {
        "voice": "warm, brief, patient, no-pressure",
        "do": [
          "Use 'no rush' and 'whenever you're ready' language explicitly",
          "Keep emails to under 50 words of body text",
          "Mention the guest by name (Allen) to maintain connection to the conversation",
          "Sign from Bryant's name, not 'Split Lease Team'"
        ],
        "dont": [
          "Use urgency language: 'Act now', 'Limited time', 'Don't miss out'",
          "Send more than 3 follow-ups in the first 6 weeks",
          "Include multiple CTAs in a single email",
          "Use marketing language or platform feature descriptions in follow-ups"
        ],
        "example_good": "Hi Dana, great talking with you today. Here's the link I mentioned: [link]. No rush at all — whenever you're ready, just reach out. — Bryant",
        "example_bad": "Hi Dana! Thanks for chatting with us! We're so excited to help you find your next guest. Check out Split Lease — your new home for hassle-free hosting! Create your listing today and start earning!"
      },
      "animation_feel": {
        "easing": "N/A — this element is about email/notification timing, not screen animation",
        "feel_description": "The emotional 'animation' is the pacing of follow-ups. The absence of contact IS the design. Silence communicates respect.",
        "duration_range": "Days and weeks between touchpoints, not seconds"
      },
      "tension_relief": {
        "tension_point": "Dana receives a follow-up and worries she's falling behind or missing an obligation",
        "relief_point": "The follow-up says 'no rush' and asks nothing of her",
        "timing": "The relief should come within the first sentence of the email — don't bury 'no rush' at the end after three paragraphs of content"
      },
      "personalization_signals": [
        "Reference the specific guest discussed in the call: 'Allen is still interested in your April listing'",
        "Reference the specific listing: 'Your furnished room with the roof garden'",
        "Sign from Bryant, not from a generic address"
      ],
      "anti_patterns": [
        {
          "pattern": "Automated drip campaigns with 3-5 day intervals",
          "reason": "Frequency signals urgency. A host who can't engage will feel guilt with each email, eventually leading to unsubscribe and permanent loss.",
          "example_bad": "Day 1: Welcome! Day 3: Did you check the link? Day 5: Don't forget! Day 7: Last chance!"
        },
        {
          "pattern": "Feature-selling in follow-up emails",
          "reason": "Dana doesn't care about features. She cares about one thing: getting good guests. Feature descriptions waste her limited attention on irrelevant information.",
          "example_bad": "Split Lease offers a powerful dashboard with listing management, proposal tracking, date change tools, and more!"
        },
        {
          "pattern": "Generic 'Split Lease Team' sender name",
          "reason": "Dana built trust with Bryant. An email from 'Split Lease Team' is from a stranger. An email from Bryant is from someone she knows.",
          "example_bad": "From: Split Lease Team <noreply@splitlease.com>"
        }
      ]
    },
    {
      "id": "feels-004",
      "type": "emotional_element",
      "title": "Expert Recognition in Listing Creation",
      "journey_phases": ["listing_creation", "onboarding"],
      "problem": "Dana is an experienced host who has hosted travel nurses for years and has a complete listing on Furnished Finder. When she encounters Split Lease's listing creation flow, a blank wizard with 6 steps communicates 'we think you don't know what you're doing.' This is emotionally insulting to an expert host. Refactoring UI's 'don't design too much' principle maps to the emotional dimension: designing too much is not just a waste of the host's time — it's a signal that the platform doesn't recognize her expertise.",
      "solution": "The listing creation experience should explicitly recognize the host's expertise. (1) When the import flow detects a complete Furnished Finder listing, acknowledge it: 'We see you're already on Furnished Finder. Let's bring your listing over.' (2) Frame the Split Lease additions (guest preferences, Split Lease rules) as 'extras for experienced hosts,' not as requirements for beginners. (3) Use language that treats the host as the expert: 'You know your space better than anyone. We just need a few preferences to match you with the right guests.' (4) Per Refactoring UI's 'choose a personality' guidance, the listing creation should feel like a professional consultation, not a tutorial. The host is the expert; the platform is the assistant.",
      "evidence": [
        {
          "source": "dana-call.txt, 03:34",
          "type": "host_call",
          "quote": "Catered to travel nursing. And I never, ever, ever had to advertise, because all the travelers want to stay there.",
          "insight": "Dana was a successful, sought-after host. She didn't need a platform — travelers came to her. The platform must honor this history, not treat her as a newcomer."
        },
        {
          "source": "dana-call.txt, 04:07",
          "type": "host_call",
          "quote": "I have never, ever, ever had a problem with the travelers. They're clean. They're responsible.",
          "insight": "Dana's expertise is in guest selection, not hosting mechanics. The platform should lean on this expertise by asking for her screening preferences, not teaching her how to host."
        },
        {
          "source": "refactoringui, Don't design too much",
          "type": "book",
          "quote": "Designing the smallest useful version you can ship reduces that risk considerably.",
          "insight": "For expert hosts, the 'smallest useful version' is the version that respects their existing knowledge and doesn't ask them to prove it through 6 wizard steps."
        }
      ],
      "priority": "medium",
      "target_emotion": "confidence",
      "emotion_rationale": "Expert hosts need to feel that the platform respects their knowledge. Confidence comes from being treated as an expert, not a student.",
      "copy_guidelines": {
        "voice": "respectful, consultative, peer-to-peer",
        "do": [
          "Acknowledge existing hosting experience: 'Your Furnished Finder listing looks great'",
          "Use 'we' language that implies partnership: 'Let's set up your guest preferences'",
          "Frame platform additions as enhancements: 'Add your preferences so we match the right guests'",
          "Use brief, efficient language: experienced hosts don't need explanations"
        ],
        "dont": [
          "Use tutorial language: 'Here's how to create a listing'",
          "Explain concepts the host already knows: 'A listing is a description of your space'",
          "Use beginner-level hand-holding: 'Step 1 of 6: Let's start with the basics!'",
          "Use encouraging language that implies doubt: 'You're doing great!'"
        ],
        "example_good": "We imported your listing from Furnished Finder. Just a few Split Lease-specific preferences and you're live.",
        "example_bad": "Welcome to Split Lease! Creating a listing is easy. Just follow these 6 simple steps to get started on your hosting journey!"
      },
      "animation_feel": {
        "easing": "ease-out — efficient, not celebratory",
        "feel_description": "The listing import should feel like a quick, professional transaction. Data appears, the host confirms, done. No fireworks, no confetti, no '🎉 Your listing is live!' — just a calm confirmation.",
        "duration_range": "150-200ms for field population. No delay between steps."
      },
      "tension_relief": {
        "tension_point": "Host sees a listing creation flow and thinks 'I have to do all this again?'",
        "relief_point": "Import flow shows all her data pre-filled: 'Oh, it already knows everything.'",
        "timing": "Relief should come before the first required action — seeing pre-filled data before being asked to edit anything."
      },
      "personalization_signals": [
        "Show the imported listing title: 'Furnished Room with Private Roof Garden'",
        "Show imported photos as thumbnails in the confirmation view",
        "Reference the host's Furnished Finder history: 'We imported your listing details'",
        "Pre-fill guest preferences based on call notes: 'Based on your conversation with Bryant: Part-week stays preferred'"
      ],
      "anti_patterns": [
        {
          "pattern": "Starting with a blank form",
          "reason": "A blank form says 'we don't know you.' For a host who has been doing this for years, that's dismissive.",
          "example_bad": "Step 1: Enter your listing title. [empty text field]"
        },
        {
          "pattern": "Progressive wizard with 'Step X of 6' counter",
          "reason": "Counting steps down makes the process feel like a chore. Expert hosts think 'why are there 6 steps for something I can describe in 30 seconds?'",
          "example_bad": "Step 3 of 6: Now let's add your amenities!"
        },
        {
          "pattern": "Celebratory messaging on listing completion",
          "reason": "Celebrating basic task completion is patronizing for expert hosts. It signals 'we didn't think you could do it.'",
          "example_bad": "Congratulations! Your listing is now live! You're officially a Split Lease host!"
        }
      ]
    }
  ]
}</script>
  <!-- INJECT:layer-6 -->
  <script id="data-layer-6" type="application/json">{
  "lens": {
    "host_call": "dana-call.txt",
    "book_extract": "refactoringui-hierarchy-spacing-color.txt"
  },
  "reinforcements": [
    {
      "new_element_id": "works-002",
      "existing_element_id": "works-002",
      "similarity": "Both address the depleted/overloaded user. The existing library element (Design for the Depleted User at Every Step After the First) prescribes smart defaults, save-and-resume, and decompression moments based on Kahneman's ego depletion research. The new element (Glanceable Status Design for Time-Fragmented Hosts) extends this to a specific user archetype: the physically absent, time-fragmented host (flight attendant) who cannot sit down for even a short session.",
      "combined_evidence": "Existing evidence: Kahneman's parole judge study shows depleted decision-makers default to denial. New evidence: Dana's flight schedule means she cannot even reach the depletion stage — she has 5-second windows, not 5-minute sessions. The combined insight: depletion-aware design must handle not just 'tired user finishing a long task' but also 'absent user doing a micro-check between obligations.' The spacing and hierarchy principles from Refactoring UI provide concrete implementation guidance that the Kahneman-based element lacked.",
      "recommendation": "keep_both"
    },
    {
      "new_element_id": "works-003",
      "existing_element_id": "works-003",
      "similarity": "Both address matching platform interaction speed to conversational speed. The existing library element (Match the Platform's Cognitive Speed to the Phone Call's Conversational Speed) prescribes quick-select chips, toggle switches, and immediate feedback to match conversational efficiency. The new element (Existing Listing Import as Primary Onboarding Path) provides a specific implementation: import from existing platforms to eliminate redundant data entry entirely.",
      "combined_evidence": "Existing evidence: Andreas describes two units in 7 seconds of speech; the platform must match. New evidence: Dana already has a complete listing on Furnished Finder — the fastest platform interaction is no interaction at all (import instead of create). The combined insight: the ultimate implementation of 'match conversational speed' is to skip the conversation entirely by importing existing data.",
      "recommendation": "keep_both"
    },
    {
      "new_element_id": "works-004",
      "existing_element_id": "works-004",
      "similarity": "Both address trust bridging between human and digital interactions. The existing library element (Bridge Human Trust to Digital Trust Through Continuity Priming) prescribes that the platform should reference the call, show the agent's name, and feel like a continuation of the conversation. The new element's feels-003 (Respectful Patience During Evaluation Delay) extends this by addressing the timing dimension: the trust bridge must accommodate weeks or months of delay, not just hours.",
      "combined_evidence": "Existing evidence: Andreas's call primes expectations for a follow-up from Bryant. New evidence: Dana's call ends with 'whether it's next week or in a couple of months' — the trust bridge must survive a long gap without degrading. The combined insight: continuity priming must be durable (works over weeks) and patient (doesn't erode through aggressive follow-up).",
      "recommendation": "keep_both"
    },
    {
      "new_element_id": "feels-004",
      "existing_element_id": "works-005",
      "similarity": "Both address the host-as-expert dynamic. The existing library element (Engineer the Host-as-Advisor Moment) prescribes creating moments where the host contributes expertise rather than just data. The new element (Expert Recognition in Listing Creation) extends this to the listing creation flow specifically: don't treat experienced hosts as beginners, frame Split Lease additions as 'extras for experienced hosts.'",
      "combined_evidence": "Existing evidence: Andreas shifts from evaluator to advisor at 5:12 when he starts recommending furnishing approaches. New evidence: Dana has years of hosting expertise and an existing listing — a blank 6-step wizard is insulting to her expertise level. The combined insight: the advisor-moment pattern works for first-time interactions, while expert recognition works for the entire onboarding-through-creation flow. Both serve the same emotional goal: making the host feel respected.",
      "recommendation": "keep_both"
    }
  ],
  "contradictions": [
    {
      "new_element_id": "looks-001",
      "existing_element_id": "N/A (token system)",
      "conflict": "The new element uses --chat-purple (#4B47CE) for day-badge active states, following the production style guide. However, the tokens.json file uses a warm green accent (#2d5a3d) as the primary accent color, and the taste model references 'forest green as accent.' The production CSS uses purple, but the design tokens suggest green. This is a known drift noted in MEMORY.md.",
      "evidence_comparison": "The production style guide (Style-guide.md) explicitly uses purple and states 'STRICT: NO GREEN, NO YELLOW' for protocol components. The tokens.json warm green predates the production system. The style guide has stronger authority as it's derived from the live codebase.",
      "recommendation": "Continue using the production purple palette (--chat-purple, --secondary-purple) for all new elements. The tokens.json green palette should be flagged for deprecation or isolation to non-UI contexts.",
      "severity": "warning"
    }
  ],
  "extensions": [
    {
      "new_element_id": "works-001",
      "gap_filled": "Guest-type visual primacy as primary decision driver. No existing library element addresses the specific need for guest occupancy pattern (Mon-Thu vs. full-week) to be the visually dominant information in guest cards. Existing elements address hierarchy in general terms (System 1 trust gates) but not the specific hierarchy of guest-matching information.",
      "confidence_note": "High confidence — Dana's preference is expressed with extreme intensity ('never, ever, ever') and specificity (day-by-day occupancy pattern). Refactoring UI's hierarchy principles provide concrete implementation guidance. However, only one host call validates this pattern; additional calls with similar guest-type-first preferences would increase confidence."
    },
    {
      "new_element_id": "works-004",
      "gap_filled": "Negative experience screening filter. No existing library element addresses the need for hosts to express what they DON'T want in a guest, only what they do want. Dana's trauma-driven avoidance of full-time WFH tenants reveals a gap: the platform has no mechanism for negative preference filtering.",
      "confidence_note": "Moderate confidence — Dana's negative experience is vivid and specific, but it may be an outlier. However, the underlying principle (hosts have negative preferences that are as important as positive ones) is likely universal. The Refactoring UI lens provides implementation guidance for visual match/mismatch indicators."
    },
    {
      "new_element_id": "works-005",
      "gap_filled": "Asynchronous communication design for absent hosts. No existing library element explicitly addresses hosts with irregular schedules who cannot respond to time-sensitive actions within hours. The existing 'depleted user' element addresses cognitive fatigue but assumes the user is present.",
      "confidence_note": "High confidence — flight attendants, travel nurses, and other multi-local professionals (Split Lease's core host demographic) all have irregular schedules. The Refactoring UI 'be a pessimist' principle provides strong theoretical backing for designing for the worst-case response scenario."
    },
    {
      "new_element_id": "communicates-005",
      "gap_filled": "Empty state as status communication. No existing library element addresses the design of between-stay states for part-week leases. Refactoring UI's 'don't overlook empty states' principle is new to the library's theoretical toolkit.",
      "confidence_note": "High confidence — part-week leases are Split Lease's core product, and the between-stay state is the most frequent state for these leases. The Refactoring UI lens provides unique implementation guidance not available from the psychological/behavioral books used in prior runs."
    },
    {
      "new_element_id": "looks-003",
      "gap_filled": "Generous white space as functional readability tool. Existing visual elements address color, typography, and hierarchy, but none explicitly prescribe spacing principles. Refactoring UI's 'start with too much white space' and 'avoid ambiguous spacing' are new to the library.",
      "confidence_note": "High confidence — Refactoring UI is a widely respected practical design reference. The spacing principles are universal and well-validated in the broader design community."
    }
  ],
  "token_compliance": {
    "new_tokens_flagged": ["--border-width-accent: 3px (from looks-004, for actionable card accent borders)"],
    "recommendation": "The existing --border-width-thick (2px) is close but may be insufficient for the visual weight needed. Consider adding --border-width-accent: 3px to the token system, or test whether --border-width-thick provides adequate visual distinction for accent borders. All other tokens used in new elements (colors, typography, spacing, shadows) are from the existing production style guide."
  },
  "emotional_arc_check": {
    "journey_emotion_map": [
      {"phase": "discovery", "target_emotions": ["relief", "curiosity"]},
      {"phase": "evaluation", "target_emotions": ["safety", "confidence"]},
      {"phase": "onboarding", "target_emotions": ["relief", "confidence"]},
      {"phase": "listing_creation", "target_emotions": ["confidence", "momentum"]},
      {"phase": "pricing", "target_emotions": ["confidence", "clarity"]},
      {"phase": "proposal_mgmt", "target_emotions": ["safety", "confidence"]},
      {"phase": "active_lease", "target_emotions": ["calm", "safety"]},
      {"phase": "retention", "target_emotions": ["confidence", "loyalty"]}
    ],
    "arc_conflicts": [
      "Minor tension: The evaluation phase targets 'safety' (from this run's feels-001) while earlier runs target 'curiosity' for evaluation. Resolution: both are valid — safety is the precondition for curiosity. For hosts with negative experiences (Dana), safety must come first. For hosts without negative experiences, curiosity may lead."
    ],
    "arc_assessment": "The emotional arc is coherent and well-supported. The journey moves from relief (discovery — no pressure) through safety (evaluation/proposal — vetted guests) to calm (active lease — everything under control). This is appropriate for a host with Dana's profile: trauma-informed, time-starved, expertise-rich. The arc does not contradict existing library emotions; it extends them with a safety-first emphasis that was underrepresented in prior runs."
  },
  "coverage_map": {
    "discovery": {"element_count": 2, "coverage": "thin"},
    "evaluation": {"element_count": 4, "coverage": "moderate"},
    "onboarding": {"element_count": 5, "coverage": "moderate"},
    "listing_creation": {"element_count": 7, "coverage": "strong"},
    "pricing": {"element_count": 2, "coverage": "thin"},
    "proposal_mgmt": {"element_count": 7, "coverage": "strong"},
    "active_lease": {"element_count": 7, "coverage": "strong"},
    "retention": {"element_count": 2, "coverage": "thin"}
  },
  "loop_back_recommendations": [
    {
      "layer": "1",
      "reason": "The pricing phase has thin coverage. Dana's call barely touches pricing, so this lens cannot fill the gap. However, the Refactoring UI principles on hierarchy and visual weight are highly applicable to pricing displays. A future run with a pricing-focused call + Refactoring UI could produce strong pricing-specific process patterns.",
      "new_input": "A host call where pricing/fee structure is discussed in detail, combined with the same Refactoring UI extract."
    },
    {
      "layer": "3",
      "reason": "The visual patterns in this run focus on hierarchy and spacing but do not address image handling for user-uploaded content. Refactoring UI's 'beware user-uploaded content' and 'everything has an intended size' principles are directly applicable to listing photos but were not fully explored in this run.",
      "new_input": "Apply Refactoring UI's image handling principles to the listing photo upload and display flow."
    }
  ]
}</script>
  <!-- INJECT:layer-7 -->
  <script id="data-layer-7" type="application/json">{
  "lens": {
    "host_call": "dana-call.txt",
    "book_extract": "refactoringui-hierarchy-spacing-color.txt"
  },
  "elements": [
    {
      "id": "tests-001",
      "type": "validation_strategy",
      "title": "Guest-Type Primacy Scan Time Validation",
      "validates_element": "works-001",
      "journey_phases": ["proposal_mgmt"],
      "problem": "If the day-badge occupancy pattern is not visually dominant enough, hosts will still need to read text to determine guest type, negating the time savings the pattern promises.",
      "solution": "Run a 3-second exposure test with host participants. Show a proposal card for 3 seconds, then hide it and ask: 'What days of the week would this guest stay?' If hosts can answer correctly, the visual hierarchy is working.",
      "evidence": [
        {
          "source": "dana-call.txt, 02:38",
          "type": "host_call",
          "quote": "He was looking just to be for the workweek, Monday to Thursday.",
          "insight": "This is the first question Dana would ask about any guest. The day-badge pattern must answer it without requiring text reading."
        },
        {
          "source": "refactoringui, Hierarchy is Everything",
          "type": "book",
          "quote": "Visual hierarchy refers to how important the elements in an interface appear in relation to one another.",
          "insight": "If the hierarchy is correct, the most important information (occupancy pattern) should be the first thing noticed — validatable through timed exposure tests."
        }
      ],
      "priority": "high",
      "validation_method": "usability_test",
      "test_description": "Show 5 different proposal cards (varying guest types) to 8-10 host participants. Each card is displayed for exactly 3 seconds. After hiding the card, ask the participant to identify: (1) which days of the week the guest would stay, (2) whether the guest uses this as a primary or secondary address. Record accuracy rates for both questions.",
      "success_criteria": "At least 80% of participants correctly identify the day pattern within 3 seconds. At least 70% correctly identify the address status. If day pattern accuracy exceeds address status accuracy, the visual hierarchy is correct (day pattern is more visually dominant).",
      "failure_meaning": "If accuracy is below threshold, the day-badge row is not visually prominent enough — it's competing with other card elements. The visual hierarchy needs adjustment: either increase day-badge visual weight (larger size, stronger color) or decrease competing elements' weight.",
      "implementation_hint": "Build the test in a simple prototype tool (Figma, InVision). Use a timer script that auto-hides after 3 seconds. Recruit host participants from Split Lease's existing host base, prioritizing those with 6+ months of hosting experience (similar profile to Dana)."
    },
    {
      "id": "tests-002",
      "type": "validation_strategy",
      "title": "Glanceable Status Dashboard Session Time Validation",
      "validates_element": "works-002",
      "journey_phases": ["active_lease"],
      "problem": "If the status-first dashboard architecture doesn't actually reduce session time for status checks, hosts will still feel the platform is too slow for their between-flight micro-sessions.",
      "solution": "Measure the time between app open and the host's first tap (indicating they found what they were looking for or took the needed action). Compare this metric before and after the status-first redesign.",
      "evidence": [
        {
          "source": "dana-call.txt, 05:56",
          "type": "host_call",
          "quote": "I have to go to work tonight. I won't be back towards Sunday.",
          "insight": "Dana's session time budget is under 10 seconds for a status check. The dashboard must serve this use case."
        },
        {
          "source": "refactoringui, Start with too much white space",
          "type": "book",
          "quote": "Give every element a little more room to breathe.",
          "insight": "White space should reduce visual parsing time, which is measurable through session duration analytics."
        }
      ],
      "priority": "high",
      "validation_method": "analytics",
      "test_description": "Instrument the host dashboard with timing events: (1) dashboard_loaded (timestamp), (2) first_interaction (timestamp and element), (3) session_end (timestamp). Calculate 'time to first interaction' and 'total session duration' for sessions where the host views the dashboard but doesn't navigate to other pages (status-check sessions). Compare baseline metrics vs. post-redesign metrics.",
      "success_criteria": "Median 'time to first interaction' should be under 5 seconds. Median 'total session duration' for status-check sessions should be under 15 seconds. At least 60% of dashboard sessions should be status-check only (no navigation to other pages), indicating the dashboard itself answers the host's questions.",
      "failure_meaning": "If time to first interaction exceeds 5 seconds, the status information is not prominent enough — hosts are scanning/scrolling to find it. If session duration exceeds 15 seconds for status checks, the dashboard is presenting too much information or requiring too many interactions.",
      "implementation_hint": "Add analytics events to the dashboard component: track page load, first click/tap, scroll depth, and page exit. Use Mixpanel, Amplitude, or similar. Segment by host type (flight attendant, travel nurse, etc.) to validate specifically for time-fragmented hosts."
    },
    {
      "id": "tests-003",
      "type": "validation_strategy",
      "title": "Listing Import Completion Rate Validation",
      "validates_element": "works-003",
      "journey_phases": ["listing_creation"],
      "problem": "If the import flow doesn't actually reduce time-to-listing for cross-listing hosts, the effort of building it is wasted. The flow must be faster than manual creation to justify its existence.",
      "solution": "A/B test the import flow vs. the standard wizard for hosts who have existing listings on other platforms. Measure completion rate and time-to-listing for both cohorts.",
      "evidence": [
        {
          "source": "dana-call.txt, 05:33",
          "type": "host_call",
          "quote": "I came across it on furnished finder. It's called the furnished room with private roof garden.",
          "insight": "Dana's listing exists elsewhere. The import flow is designed specifically for hosts like her. If it doesn't improve her experience, the pattern fails."
        },
        {
          "source": "refactoringui, Don't design too much",
          "type": "book",
          "quote": "Designing the smallest useful version you can ship reduces that risk considerably.",
          "insight": "The import flow is the 'smallest useful version' of listing creation for cross-listing hosts. It must deliver on the promise of reduced effort."
        }
      ],
      "priority": "high",
      "validation_method": "a_b_test",
      "test_description": "For new hosts identified as having listings on other platforms (detected via agent call notes or self-reported), randomly assign to: (A) Import flow — URL input, auto-import, review and confirm, publish. (B) Standard wizard — 6-step manual creation. Measure: (1) completion rate (started -> published), (2) time to published listing, (3) 7-day retention (does the host return to the platform after listing creation?). Run for 4 weeks or until 50+ hosts per cohort.",
      "success_criteria": "Import flow completion rate should be at least 20 percentage points higher than standard wizard (e.g., 90% vs. 70%). Import flow time-to-listing should be under 3 minutes (vs. estimated 10+ minutes for wizard). 7-day retention should be equal or higher for import cohort.",
      "failure_meaning": "If import completion rate is not significantly higher, the import flow has usability issues — perhaps the URL input is confusing, the mapping is inaccurate, or the review step is too complex. If time-to-listing is not significantly faster, the import is not saving enough manual work. If 7-day retention is lower, the import may be creating low-quality listings that don't generate proposals.",
      "implementation_hint": "Build the import flow as a separate path triggered when the host indicates they have an existing listing. Use web scraping or API integration (where available) to pull listing data from Furnished Finder, Airbnb, etc. Ensure the review step is simple: pre-filled fields with edit buttons, not a re-creation of the wizard."
    },
    {
      "id": "tests-004",
      "type": "validation_strategy",
      "title": "Notification Escalation Effectiveness Validation",
      "validates_element": "works-005",
      "journey_phases": ["proposal_mgmt", "active_lease"],
      "problem": "If the three-tier notification system (batch, priority, escalation) doesn't reduce missed actions, hosts with irregular schedules will continue to miss time-sensitive proposals and approvals.",
      "solution": "Measure the proposal response rate and response latency before and after implementing the escalation system. Segment by host schedule type (regular vs. irregular) to validate the pattern specifically for the target population.",
      "evidence": [
        {
          "source": "dana-call.txt, 06:46",
          "type": "host_call",
          "quote": "All my folders and blown up nonstop.",
          "insight": "Dana's notification environment is hostile. The escalation system must cut through this noise for truly time-sensitive actions."
        },
        {
          "source": "refactoringui, Limit your choices — Systematize everything",
          "type": "book",
          "quote": "The more systems you have in place, the faster you'll be able to work.",
          "insight": "A systematic notification approach should produce measurable improvements over ad-hoc notification frequency."
        }
      ],
      "priority": "high",
      "validation_method": "analytics",
      "test_description": "After implementing the three-tier notification system, track: (1) proposal response rate (proposals responded to / proposals received), (2) response latency (time from proposal receipt to host action), (3) notification channel that triggered the action (which tier worked), (4) proposal expiration rate (proposals that expired without host action). Compare pre-implementation baseline to post-implementation metrics over 8 weeks.",
      "success_criteria": "Proposal response rate should increase from baseline by at least 15 percentage points. Proposal expiration rate should drop below 5%. At least 20% of actions should be triggered by the escalation tier (SMS), validating that push notifications alone are insufficient for this host population.",
      "failure_meaning": "If response rates don't improve, the notification content or timing is wrong — the right channel is being used but the message isn't compelling enough. If expiration rates remain high despite escalation, the response windows may need to be extended (48-72 hours may not be enough for some hosts).",
      "implementation_hint": "Implement notification tracking with event properties: notification_tier (batch/priority/escalation), notification_channel (email/push/sms), action_taken (yes/no), latency_seconds. Use this data to optimize timing and channel selection per host."
    },
    {
      "id": "tests-005",
      "type": "validation_strategy",
      "title": "Guest Preference Match Indicator Trust Validation",
      "validates_element": "works-004",
      "journey_phases": ["proposal_mgmt"],
      "problem": "If the guest preference match indicators don't actually increase host trust in the platform's screening, hosts will still evaluate every proposal with the same anxiety regardless of the match score.",
      "solution": "Measure host confidence through post-proposal survey and proposal decision speed. Hosts who trust the match indicators should decide faster and report higher confidence.",
      "evidence": [
        {
          "source": "dana-call.txt, 04:07",
          "type": "host_call",
          "quote": "I have never, ever, ever had a problem with the travelers... nightmares.",
          "insight": "Dana's trust in guest quality is the key retention factor. The match indicators must measurably improve her confidence in the platform's screening."
        },
        {
          "source": "refactoringui, Don't rely on color alone",
          "type": "book",
          "quote": "Always use color to support something that your design already communicates in some other way.",
          "insight": "The match indicator must communicate clearly through multiple channels (color, icon, text). If any single channel fails, the indicator underperforms."
        }
      ],
      "priority": "medium",
      "validation_method": "usability_test",
      "test_description": "Show host participants two versions of the same proposal: (A) without match indicators (current design), (B) with match indicators (day-badge pattern, compatibility badges, secondary address badge). For each version, ask the participant to: (1) decide accept/reject, (2) rate their confidence in the decision (1-5 scale), (3) describe what information they used to decide. Time the decision for each version. Use a within-subjects design with counterbalanced order.",
      "success_criteria": "Decision confidence should be at least 1 point higher (on 5-point scale) for version B. Decision time should be at least 30% faster for version B. At least 80% of participants should mention the match indicators when describing their decision process.",
      "failure_meaning": "If confidence doesn't improve, the match indicators are decorative — they're not communicating actionable screening information. If decision time doesn't improve, the indicators are adding cognitive load rather than reducing it (too complex, too many badges, confusing visual language).",
      "implementation_hint": "Build two Figma prototypes of the proposal card. Recruit 10-12 host participants. Use a think-aloud protocol to understand how hosts interpret the match indicators. Pay special attention to colorblind participants to validate the 'don't rely on color alone' implementation."
    },
    {
      "id": "tests-006",
      "type": "validation_strategy",
      "title": "Between-Stay Empty State Anxiety Reduction Validation",
      "validates_element": "communicates-005",
      "journey_phases": ["active_lease"],
      "problem": "If the between-stay status display doesn't reduce host anxiety when the guest is not currently staying, absent hosts will continue to worry about their property.",
      "solution": "Measure host app-check frequency and session duration during between-stay periods. Reduced frequency with maintained satisfaction indicates the status display is working.",
      "evidence": [
        {
          "source": "refactoringui, Don't overlook empty states",
          "type": "book",
          "quote": "Empty states are a user's first interaction with a new product.",
          "insight": "The between-stay state is the most frequent view for part-week leases. If it causes anxiety, the host will either over-check (wasting time) or avoid checking (missing issues)."
        },
        {
          "source": "dana-call.txt, 05:56",
          "type": "host_call",
          "quote": "I'm a flight attendant... I won't be back towards Sunday.",
          "insight": "Dana checks between flights. If the between-stay state causes anxiety, she'll waste precious time re-checking or worrying."
        }
      ],
      "priority": "medium",
      "validation_method": "analytics",
      "test_description": "Track app-check behavior during between-stay periods (Friday through Sunday for Mon-Thu guests): (1) number of app opens per between-stay period, (2) session duration per app open, (3) whether the host navigates beyond the dashboard (indicating the status display didn't answer their questions). Compare baseline (before status display redesign) to post-redesign metrics. Additionally, send a brief in-app survey after 4 weeks: 'How informed do you feel about your property between guest stays? (1-5)'",
      "success_criteria": "App-check frequency during between-stay periods should decrease by at least 20% (fewer anxious re-checks). Session duration should decrease by at least 30% (the host gets the answer faster). Navigation-beyond-dashboard rate should decrease. Survey score should average 4.0 or higher.",
      "failure_meaning": "If app-check frequency increases, the status display may be creating anxiety rather than reducing it (showing too much information, showing ambiguous status). If session duration increases, the status display is not scannable enough. If survey scores are low, the content isn't addressing the host's actual concerns.",
      "implementation_hint": "Implement the between-stay status display with the timeline pattern from behaves-005. Track analytics events for each state transition (checkout confirmed, photos received, next stay upcoming). Trigger the in-app survey only for hosts with at least 3 completed stay cycles."
    },
    {
      "id": "tests-007",
      "type": "validation_strategy",
      "title": "End-to-End Journey Arc Validation",
      "validates_element": "journey-level",
      "journey_phases": ["discovery", "evaluation", "onboarding", "listing_creation", "proposal_mgmt", "active_lease"],
      "problem": "Individual elements may test well in isolation but create an incoherent experience when combined. The journey from Dana's first call to her first active lease involves multiple handoffs (call -> email -> platform -> listing -> proposal -> lease), each designed by different elements. The overall arc must feel like one continuous experience.",
      "solution": "Run a longitudinal journey test with 3-5 host participants who go through the full journey (simulated) from initial call to first active lease. Observe the emotional arc and identify any discontinuities where the experience 'breaks' — moments where the host feels confused, frustrated, or disconnected.",
      "evidence": [
        {
          "source": "dana-call.txt (full transcript)",
          "type": "host_call",
          "quote": "The full call from 00:01 to 07:07 represents one continuous arc from introduction to follow-up promise.",
          "insight": "The call is a single, coherent experience. The digital journey that follows must maintain this coherence across multiple touchpoints and days/weeks of elapsed time."
        },
        {
          "source": "refactoringui, Choose a personality",
          "type": "book",
          "quote": "Whatever you choose, it's important to stay consistent.",
          "insight": "Consistency across the journey is as important as the quality of individual touchpoints. This can only be validated through end-to-end testing."
        }
      ],
      "priority": "medium",
      "validation_method": "usability_test",
      "test_description": "Recruit 3-5 host participants matching Dana's profile (experienced hosts with existing listings on other platforms). Simulate the full journey over a 1-week period: Day 1: Simulated call with an agent, followed by email with platform link. Day 2-3: Host imports listing and sets preferences. Day 4-5: Receive a simulated proposal and respond. Day 6-7: Review a simulated first stay with between-stay status display. At each touchpoint, conduct a brief interview: (1) How does this feel compared to the last step? (2) Does this feel like the same service? (3) What's surprising or confusing?",
      "success_criteria": "At least 80% of participants should describe the journey as 'one continuous experience' (or equivalent language). No more than 1 participant should report a 'break' at any single transition point. Overall satisfaction should average 4.0/5 or higher at journey end.",
      "failure_meaning": "If participants report discontinuities (e.g., 'the call felt personal but the platform feels generic'), the trust bridge elements are failing. If satisfaction drops at specific transition points, those transitions need redesign. If the overall arc doesn't feel coherent, the emotional targets at each phase may be conflicting.",
      "implementation_hint": "This is a time-intensive test that requires a realistic simulation environment. Build a prototype that simulates the email -> import -> proposal -> lease flow. Use a test moderator to play the agent role for the simulated call. Schedule touchpoints across a real week to capture the authentic pacing of the journey."
    }
  ]
}</script>

  <header class="report-header">
    <h1>Design Stack v2 Report</h1>
    <div class="lens-label" id="lens-label"></div>
    <div class="report-meta">
      <span id="meta-date"></span>
      <span id="meta-run-id"></span>
      <span class="badge" id="meta-status"></span>
      <span id="meta-elements"></span>
    </div>
  </header>

  <div class="coherence-bar" id="coherence-bar">
    <span class="count" id="coherence-count"></span>
    <span id="coherence-summary"></span>
  </div>

  <nav class="tab-nav" id="tab-nav">
    <button class="active" data-tab="overview"><span class="layer-num">*</span> Overview</button>
    <button data-tab="layer-0"><span class="layer-num">0</span> Journey</button>
    <button data-tab="layer-1"><span class="layer-num">1</span> Works</button>
    <button data-tab="layer-2"><span class="layer-num">2</span> Communicates</button>
    <button data-tab="layer-3"><span class="layer-num">3</span> Looks</button>
    <button data-tab="layer-4"><span class="layer-num">4</span> Behaves</button>
    <button data-tab="layer-5"><span class="layer-num">5</span> Feels</button>
    <button data-tab="layer-6"><span class="layer-num">6</span> Coherence</button>
    <button data-tab="layer-7"><span class="layer-num">7</span> Tests</button>
  </nav>

  <main class="main-content">

    <!-- Overview Tab -->
    <div class="tab-panel active" id="panel-overview">
      <div class="element-card">
        <h3 style="font-family:'Instrument Serif',serif;font-size:24px;font-weight:400;margin-bottom:16px;">Lens Summary</h3>
        <p id="overview-lens-summary" style="font-size:16px;color:var(--ink-soft);margin-bottom:20px;"></p>
        <h4 style="font-size:13px;font-weight:600;color:var(--ink-muted);text-transform:uppercase;letter-spacing:0.05em;margin-bottom:12px;font-family:'IBM Plex Mono',monospace;">Journey Phase Coverage</h4>
        <div class="coverage-grid" id="overview-coverage"></div>
        <h4 style="font-size:13px;font-weight:600;color:var(--ink-muted);text-transform:uppercase;letter-spacing:0.05em;margin:20px 0 12px;font-family:'IBM Plex Mono',monospace;">Run Statistics</h4>
        <div id="overview-stats" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px;"></div>
      </div>
      <div id="overview-highlights"></div>
    </div>

    <!-- Layer 0: Journey Context -->
    <div class="tab-panel" id="panel-layer-0">
      <div class="element-card">
        <h3 style="font-family:'Instrument Serif',serif;font-size:24px;font-weight:400;margin-bottom:16px;">Layer 0: Journey Context</h3>
        <div id="content-layer-0"></div>
      </div>
    </div>

    <!-- Layers 1-5: Element Cards -->
    <div class="tab-panel" id="panel-layer-1"><div id="content-layer-1"></div></div>
    <div class="tab-panel" id="panel-layer-2"><div id="content-layer-2"></div></div>
    <div class="tab-panel" id="panel-layer-3"><div id="content-layer-3"></div></div>
    <div class="tab-panel" id="panel-layer-4"><div id="content-layer-4"></div></div>
    <div class="tab-panel" id="panel-layer-5"><div id="content-layer-5"></div></div>

    <!-- Layer 6: Coherence -->
    <div class="tab-panel" id="panel-layer-6">
      <div id="content-layer-6"></div>
    </div>

    <!-- Layer 7: Tests -->
    <div class="tab-panel" id="panel-layer-7"><div id="content-layer-7"></div></div>

  </main>

  <footer style="text-align:center;padding:32px;color:var(--ink-ghost);font-size:12px;font-family:'IBM Plex Mono',monospace;">
    SplitLease Design Stack v2.0 — Element Pipeline
  </footer>

  <script>
    function loadJSON(id) { try { return JSON.parse(document.getElementById(id)?.textContent || '{}'); } catch { return {}; } }

    const config = loadJSON('run-config');
    const layers = {};
    for (let i = 0; i <= 7; i++) layers[i] = loadJSON(`data-layer-${i}`);

    // Header
    const lens = config.lens || layers[0]?.lens || {};
    document.getElementById('lens-label').textContent = `Lens: ${lens.host_call || '?'} + ${lens.book_extract || '?'}`;
    document.getElementById('meta-date').textContent = config.started_at ? new Date(config.started_at).toLocaleDateString() : '';
    document.getElementById('meta-run-id').textContent = config.run_id || '';
    const statusEl = document.getElementById('meta-status');
    statusEl.textContent = config.status || 'pending';
    statusEl.className = `badge badge-${config.status || 'partial'}`;

    // Count elements
    let totalElements = 0;
    for (let i = 1; i <= 5; i++) totalElements += (layers[i]?.elements || []).length;
    totalElements += (layers[7]?.elements || []).length;
    document.getElementById('meta-elements').textContent = `${totalElements} elements`;

    // Coherence bar
    const coherence = layers[6] || {};
    const contradictions = coherence.contradictions || [];
    const reinforcements = coherence.reinforcements || [];
    if (contradictions.length > 0) {
      const bar = document.getElementById('coherence-bar');
      bar.classList.add('has-flags');
      document.getElementById('coherence-count').textContent = `${contradictions.length} contradiction${contradictions.length !== 1 ? 's' : ''}`;
      document.getElementById('coherence-summary').textContent = `${reinforcements.length} reinforcement${reinforcements.length !== 1 ? 's' : ''} found`;
    }

    // Tab navigation
    document.getElementById('tab-nav').addEventListener('click', (e) => {
      const btn = e.target.closest('button');
      if (!btn) return;
      document.querySelectorAll('.tab-nav button').forEach(b => b.classList.remove('active'));
      document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
      btn.classList.add('active');
      document.getElementById(`panel-${btn.dataset.tab}`).classList.add('active');
    });

    // Evidence toggle
    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('evidence-toggle')) {
        const list = e.target.nextElementSibling;
        list.classList.toggle('open');
        e.target.textContent = list.classList.contains('open') ? 'Hide evidence' : `Show evidence (${list.children.length})`;
      }
    });

    // Render element card
    function renderElementCard(el) {
      const phases = (el.journey_phases || []).map(p => `<span class="phase-tag">${p}</span>`).join('');
      const evidenceItems = (el.evidence || []).map(ev =>
        `<div class="evidence-item">
          <div class="source">${ev.source || ''}</div>
          ${ev.quote ? `<div class="quote">"${ev.quote}"</div>` : ''}
          ${ev.insight ? `<div class="insight">${ev.insight}</div>` : ''}
        </div>`
      ).join('');
      const evidenceCount = (el.evidence || []).length;

      let extras = '';
      // Layer-specific fields
      if (el.user_goal) extras += `<div class="extra-field"><label>User Goal</label> <span class="value">${el.user_goal}</span></div>`;
      if (el.company_goal) extras += `<div class="extra-field"><label>Company Goal</label> <span class="value">${el.company_goal}</span></div>`;
      if (el.success_metric) extras += `<div class="extra-field"><label>Success Metric</label> <span class="value">${el.success_metric}</span></div>`;
      if (el.time_budget) extras += `<div class="extra-field"><label>Time Budget</label> <span class="value">${el.time_budget}</span></div>`;
      if (el.hierarchy_principle) extras += `<div class="extra-field"><label>Hierarchy</label> <span class="value">${el.hierarchy_principle}</span></div>`;
      if (el.disclosure_pattern) extras += `<div class="extra-field"><label>Disclosure</label> <span class="value">${el.disclosure_pattern}</span></div>`;
      if (el.cognitive_load_constraint) extras += `<div class="extra-field"><label>Cognitive Load</label> <span class="value">${el.cognitive_load_constraint}</span></div>`;
      if (el.brand_alignment) extras += `<div class="extra-field"><label>Brand Alignment</label> <span class="value">${el.brand_alignment}</span></div>`;
      if (el.visual_hierarchy_rule) extras += `<div class="extra-field"><label>Visual Hierarchy</label> <span class="value">${el.visual_hierarchy_rule}</span></div>`;
      if (el.transition_principle) extras += `<div class="extra-field"><label>Transitions</label> <span class="value">${el.transition_principle}</span></div>`;
      if (el.journey_state_awareness) extras += `<div class="extra-field"><label>Journey Awareness</label> <span class="value">${el.journey_state_awareness}</span></div>`;
      if (el.target_emotion) extras += `<div class="extra-field"><label>Target Emotion</label> <span class="value" style="font-size:16px;font-weight:600;">${el.target_emotion}</span></div>`;
      if (el.emotion_rationale) extras += `<div class="extra-field"><label>Why</label> <span class="value">${el.emotion_rationale}</span></div>`;
      if (el.validation_method) extras += `<div class="extra-field"><label>Method</label> <span class="value">${el.validation_method}</span></div>`;
      if (el.success_criteria) extras += `<div class="extra-field"><label>Success Criteria</label> <span class="value">${el.success_criteria}</span></div>`;
      if (el.failure_meaning) extras += `<div class="extra-field"><label>Failure Means</label> <span class="value">${el.failure_meaning}</span></div>`;
      if (el.test_description) extras += `<div class="extra-field"><label>Test</label> <span class="value">${el.test_description}</span></div>`;

      // Copy guidelines
      if (el.copy_guidelines) {
        const cg = el.copy_guidelines;
        extras += `<div class="extra-field" style="margin-top:8px;"><label>Copy Voice</label> <span class="value">${cg.voice || ''}</span></div>`;
        if (cg.example_good) extras += `<div class="extra-field"><label>Good Example</label> <span class="value" style="color:var(--signal-success);">"${cg.example_good}"</span></div>`;
        if (cg.example_bad) extras += `<div class="extra-field"><label>Bad Example</label> <span class="value" style="color:var(--signal-danger);text-decoration:line-through;">"${cg.example_bad}"</span></div>`;
      }

      // Anti-goals / anti-patterns
      const antiItems = el.anti_goals || (el.anti_patterns || []).map(a => typeof a === 'string' ? a : a.pattern);
      let antiHTML = '';
      if (antiItems && antiItems.length) {
        antiHTML = `<div style="margin-top:12px;"><label style="font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:0.05em;color:var(--signal-danger);font-family:'IBM Plex Mono',monospace;">Anti-goals</label><ul style="margin-top:4px;padding-left:18px;font-size:13px;color:var(--ink-soft);">${antiItems.map(a => `<li>${a}</li>`).join('')}</ul></div>`;
      }

      return `<div class="element-card">
        <div class="element-card-header">
          <h3>${el.title || el.id}</h3>
          <span class="type-badge type-${el.type || ''}">${(el.type || '').replace(/_/g, ' ')}</span>
          <span class="priority-badge priority-${el.priority || 'low'}">${el.priority || 'low'}</span>
        </div>
        <div class="phase-tags">${phases}</div>
        <div class="ps-grid">
          <div class="ps-box problem"><label>Problem</label>${el.problem || 'N/A'}</div>
          <div class="ps-box solution"><label>Solution</label>${el.solution || 'N/A'}</div>
        </div>
        ${extras ? `<div class="extra-fields">${extras}</div>` : ''}
        ${antiHTML}
        ${evidenceCount > 0 ? `<div style="margin-top:16px;">
          <button class="evidence-toggle">Show evidence (${evidenceCount})</button>
          <div class="evidence-list">${evidenceItems}</div>
        </div>` : ''}
      </div>`;
    }

    // Render element layers (1-5, 7)
    [1,2,3,4,5,7].forEach(i => {
      const container = document.getElementById(`content-layer-${i}`);
      if (!container) return;
      const data = layers[i];
      const elements = data?.elements || [];
      if (elements.length === 0) {
        container.innerHTML = '<div class="element-card"><p style="color:var(--ink-ghost);font-style:italic;">No elements discovered by this layer.</p></div>';
        return;
      }
      const layerNames = {1:'Process Patterns',2:'Info Architecture',3:'Visual Patterns',4:'Interaction Patterns',5:'Emotional Elements',7:'Validation Strategies'};
      container.innerHTML = `<h2 style="font-family:'Instrument Serif',serif;font-size:24px;font-weight:400;margin-bottom:20px;">Layer ${i}: ${layerNames[i]} <span style="font-size:14px;color:var(--ink-muted);font-family:'IBM Plex Mono',monospace;">(${elements.length} element${elements.length!==1?'s':''})</span></h2>` + elements.map(renderElementCard).join('');
    });

    // Render Layer 0: Journey Context
    (function renderJourney() {
      const container = document.getElementById('content-layer-0');
      if (!container) return;
      const data = layers[0];
      if (!data || !data.phases) { container.innerHTML = '<p style="color:var(--ink-ghost);font-style:italic;">No journey context data.</p>'; return; }

      const phaseOrder = ['discovery','evaluation','onboarding','listing_creation','pricing','proposal_mgmt','active_lease','retention'];
      let html = '';
      if (data.lens?.lens_summary) html += `<p style="font-size:15px;color:var(--ink-soft);margin-bottom:20px;">${data.lens.lens_summary}</p>`;
      phaseOrder.forEach(phase => {
        const p = data.phases[phase];
        if (!p) return;
        const risk = p.dropout_risk?.level || 'low';
        html += `<div class="phase-card">
          <h4>${phase.replace(/_/g, ' ')}</h4>
          <p>${p.what_this_lens_reveals || 'No data for this phase.'}</p>
          ${p.user_state ? `<p style="font-size:12px;color:var(--ink-muted);"><strong>Emotional:</strong> ${p.user_state.emotional_state || '?'} | <strong>Knowledge:</strong> ${p.user_state.knowledge_level || '?'} | <strong>Commitment:</strong> ${p.user_state.commitment_level || '?'}</p>` : ''}
          <span class="risk risk-${risk}">${risk} dropout risk</span>
        </div>`;
      });
      if (data.cross_phase_patterns?.length) {
        html += '<h4 style="font-family:\'IBM Plex Mono\',monospace;font-size:13px;font-weight:600;color:var(--accent);margin:20px 0 10px;text-transform:uppercase;">Cross-Phase Patterns</h4>';
        data.cross_phase_patterns.forEach(cp => {
          html += `<div class="phase-card"><p><strong>${cp.pattern}</strong></p><p style="font-size:12px;color:var(--ink-muted);">Affects: ${(cp.phases_affected||[]).join(', ')} | ${cp.evidence || ''}</p></div>`;
        });
      }
      container.innerHTML = html;
    })();

    // Render Layer 6: Coherence
    (function renderCoherence() {
      const container = document.getElementById('content-layer-6');
      if (!container) return;
      const data = layers[6];
      if (!data || Object.keys(data).length === 0) { container.innerHTML = '<div class="element-card"><p style="color:var(--ink-ghost);font-style:italic;">No coherence data.</p></div>'; return; }

      let html = '';

      // Reinforcements
      if (data.reinforcements?.length) {
        html += `<div class="coherence-section"><h3>Reinforcements (${data.reinforcements.length})</h3>`;
        data.reinforcements.forEach(r => {
          html += `<div class="reinforcement-card"><div class="card-label" style="color:var(--signal-success);">Reinforcement</div>
            <p><strong>${r.new_element_id}</strong> reinforces <strong>${r.existing_element_id}</strong></p>
            <p style="font-size:13px;color:var(--ink-soft);margin-top:4px;">${r.similarity || ''}</p>
            <p style="font-size:12px;color:var(--ink-muted);margin-top:4px;">Recommendation: ${r.recommendation || ''}</p>
          </div>`;
        });
        html += '</div>';
      }

      // Contradictions
      if (data.contradictions?.length) {
        html += `<div class="coherence-section"><h3>Contradictions (${data.contradictions.length})</h3>`;
        data.contradictions.forEach(c => {
          html += `<div class="contradiction-card"><div class="card-label" style="color:var(--signal-danger);">${c.severity || 'warning'}</div>
            <p><strong>${c.new_element_id}</strong> conflicts with <strong>${c.existing_element_id}</strong></p>
            <p style="font-size:13px;color:var(--ink-soft);margin-top:4px;">${c.conflict || ''}</p>
            <p style="font-size:12px;color:var(--ink-muted);margin-top:4px;">Recommendation: ${c.recommendation || ''}</p>
          </div>`;
        });
        html += '</div>';
      }

      // Extensions
      if (data.extensions?.length) {
        html += `<div class="coherence-section"><h3>Extensions (${data.extensions.length})</h3>`;
        data.extensions.forEach(ext => {
          html += `<div class="extension-card"><div class="card-label" style="color:var(--signal-info);">New Territory</div>
            <p><strong>${ext.new_element_id}</strong> — ${ext.gap_filled || ''}</p>
            <p style="font-size:12px;color:var(--ink-muted);margin-top:4px;">${ext.confidence_note || ''}</p>
          </div>`;
        });
        html += '</div>';
      }

      // Coverage Map
      if (data.coverage_map) {
        html += '<div class="coherence-section"><h3>Journey Coverage</h3><div class="coverage-grid">';
        Object.entries(data.coverage_map).forEach(([phase, info]) => {
          const cov = info.coverage || 'none';
          html += `<div class="coverage-cell coverage-${cov}">
            <div class="phase-name">${phase.replace(/_/g, ' ')}</div>
            <div class="count">${info.element_count || 0}</div>
            <div class="level">${cov}</div>
          </div>`;
        });
        html += '</div></div>';
      }

      // Emotional Arc
      if (data.emotional_arc_check) {
        const arc = data.emotional_arc_check;
        html += `<div class="coherence-section"><h3>Emotional Arc</h3>`;
        if (arc.journey_emotion_map?.length) {
          html += '<div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px;">';
          arc.journey_emotion_map.forEach(em => {
            html += `<div style="padding:8px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);font-size:12px;text-align:center;">
              <div style="font-family:'IBM Plex Mono',monospace;font-size:10px;color:var(--ink-muted);text-transform:uppercase;">${em.phase}</div>
              <div style="font-weight:600;color:var(--accent);margin-top:2px;">${(em.target_emotions||[]).join(', ')}</div>
            </div>`;
          });
          html += '</div>';
        }
        if (arc.arc_assessment) html += `<p style="font-size:14px;color:var(--ink-soft);">${arc.arc_assessment}</p>`;
        html += '</div>';
      }

      container.innerHTML = html || '<div class="element-card"><p style="color:var(--ink-ghost);font-style:italic;">No coherence issues detected.</p></div>';
    })();

    // Overview tab
    (function renderOverview() {
      // Coverage
      const coverageContainer = document.getElementById('overview-coverage');
      const coverageData = layers[6]?.coverage_map;
      if (coverageData && coverageContainer) {
        Object.entries(coverageData).forEach(([phase, info]) => {
          const cov = info.coverage || 'none';
          coverageContainer.innerHTML += `<div class="coverage-cell coverage-${cov}">
            <div class="phase-name">${phase.replace(/_/g,' ')}</div>
            <div class="count">${info.element_count||0}</div>
            <div class="level">${cov}</div>
          </div>`;
        });
      }

      // Lens summary
      const summaryEl = document.getElementById('overview-lens-summary');
      if (summaryEl) summaryEl.textContent = layers[0]?.lens?.lens_summary || 'No lens summary available.';

      // Stats
      const statsEl = document.getElementById('overview-stats');
      if (statsEl) {
        const stats = [
          { label: 'Elements', value: totalElements },
          { label: 'Reinforcements', value: reinforcements.length },
          { label: 'Contradictions', value: contradictions.length },
          { label: 'Extensions', value: (coherence.extensions||[]).length }
        ];
        statsEl.innerHTML = stats.map(s =>
          `<div style="padding:14px;background:var(--surface-warm);border:1px solid var(--border);border-radius:var(--radius-md);text-align:center;">
            <div style="font-size:28px;font-weight:700;color:var(--accent);">${s.value}</div>
            <div style="font-size:11px;font-family:'IBM Plex Mono',monospace;color:var(--ink-muted);text-transform:uppercase;">${s.label}</div>
          </div>`
        ).join('');
      }

      // High-priority highlights
      const highlightsEl = document.getElementById('overview-highlights');
      if (highlightsEl) {
        let highPriority = [];
        [1,2,3,4,5,7].forEach(i => {
          (layers[i]?.elements || []).forEach(el => {
            if (el.priority === 'high') highPriority.push(el);
          });
        });
        if (highPriority.length) {
          highlightsEl.innerHTML = `<h2 style="font-family:'Instrument Serif',serif;font-size:22px;font-weight:400;margin:24px 0 16px;">High-Priority Elements</h2>` + highPriority.map(renderElementCard).join('');
        }
      }
    })();
  </script>
</body>
</html>
