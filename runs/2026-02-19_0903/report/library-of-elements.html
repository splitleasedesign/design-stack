<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Library of Elements — Design Stack v2 | Run 2026-02-19_0903</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --primary-purple:#31135D;
  --secondary-purple:rgb(109,49,194);
  --accent-purple:rgb(140,104,238);
  --bg-white:#ffffff;
  --bg-light:#f9fafb;
  --bg-light-gray:#f3f4f6;
  --bg-off-white:rgb(252,250,255);
  --text-dark:#1a1a1a;
  --text-gray:#6b7280;
  --text-light-gray:#9ca3af;
  --text-description:#374151;
  --border-color:#e5e7eb;
  --shadow-sm:0 1px 3px rgba(0,0,0,0.05);
  --shadow-md:0 2px 8px rgba(0,0,0,0.08);
  --shadow-lg:0 4px 16px rgba(0,0,0,0.1);
  --shadow-purple-md:0 4px 8px rgba(49,19,93,0.15);
  --rounded-sm:4px;--rounded-md:6px;--rounded-lg:8px;--rounded-xl:12px;--rounded-2xl:16px;--rounded-pill:20px;
  --font-inter:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
  --font-dm:'DM Sans',sans-serif;
  --transition-fast:0.15s;--transition-base:0.2s;--transition-slow:0.3s;
}
html{scroll-behavior:smooth}
body{font-family:var(--font-inter);background:var(--bg-light);color:var(--text-dark);line-height:1.5;-webkit-font-smoothing:antialiased}
.lib-header{background:linear-gradient(135deg,#31135D 0%,#4a1f8a 50%,#5a2d8f 100%);padding:48px 32px 40px;position:relative;overflow:hidden}
.lib-header::before{content:'';position:absolute;top:-60%;right:-10%;width:500px;height:500px;background:radial-gradient(circle,rgba(140,104,238,0.15) 0%,transparent 70%);pointer-events:none}
.lib-header__inner{max-width:1320px;margin:0 auto;position:relative;z-index:1}
.lib-header__badge{display:inline-block;background:rgba(255,255,255,0.12);color:rgba(255,255,255,0.85);font-size:11px;font-weight:600;padding:4px 12px;border-radius:var(--rounded-pill);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:16px;backdrop-filter:blur(4px)}
.lib-header__title{font-size:36px;font-weight:800;color:#fff;margin-bottom:8px;letter-spacing:-0.5px}
.lib-header__sub{font-family:var(--font-dm);font-size:16px;color:rgba(255,255,255,0.7);max-width:600px;line-height:1.6}
.lib-header__meta{display:flex;gap:24px;margin-top:20px;flex-wrap:wrap}
.lib-header__meta-item{font-size:12px;color:rgba(255,255,255,0.55);font-family:var(--font-dm)}
.lib-header__meta-item strong{color:rgba(255,255,255,0.85);font-weight:600}
.lib-toolbar{position:sticky;top:0;z-index:100;background:rgba(255,255,255,0.92);backdrop-filter:blur(12px);border-bottom:1px solid var(--border-color);padding:12px 32px;transition:box-shadow var(--transition-base)}
.lib-toolbar.scrolled{box-shadow:var(--shadow-md)}
.lib-toolbar__inner{max-width:1320px;margin:0 auto;display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.lib-search{position:relative;flex:1;min-width:220px;max-width:400px}
.lib-search__input{width:100%;padding:9px 14px 9px 36px;border:1px solid var(--border-color);border-radius:var(--rounded-lg);font-family:var(--font-inter);font-size:13px;background:var(--bg-white);color:var(--text-dark);transition:border-color var(--transition-fast);outline:none}
.lib-search__input:focus{border-color:var(--secondary-purple)}
.lib-search__icon{position:absolute;left:11px;top:50%;transform:translateY(-50%);color:var(--text-light-gray);font-size:14px;pointer-events:none}
.lib-filters{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.lib-filter-group{position:relative}
.lib-filter-btn{display:inline-flex;align-items:center;gap:5px;padding:7px 14px;border:1px solid var(--border-color);border-radius:var(--rounded-lg);background:var(--bg-white);font-family:var(--font-inter);font-size:12px;font-weight:500;color:var(--text-gray);cursor:pointer;transition:border-color var(--transition-fast),color var(--transition-fast);white-space:nowrap}
.lib-filter-btn:hover,.lib-filter-btn.active{border-color:var(--secondary-purple);color:var(--secondary-purple)}
.lib-filter-btn .arrow{font-size:10px;margin-left:2px;transition:transform var(--transition-fast)}
.lib-filter-btn.active .arrow{transform:rotate(180deg)}
.lib-filter-dropdown{position:absolute;top:calc(100% + 4px);left:0;min-width:200px;background:var(--bg-white);border:1px solid var(--border-color);border-radius:var(--rounded-lg);box-shadow:var(--shadow-lg);padding:6px 0;display:none;z-index:200}
.lib-filter-dropdown.open{display:block}
.lib-filter-option{display:flex;align-items:center;gap:8px;padding:8px 14px;font-size:12px;color:var(--text-dark);cursor:pointer;transition:background var(--transition-fast)}
.lib-filter-option:hover{background:var(--bg-light)}
.lib-filter-option input[type=checkbox]{accent-color:var(--secondary-purple)}
.lib-count{font-size:12px;color:var(--text-light-gray);font-family:var(--font-dm);margin-left:auto;white-space:nowrap}
.lib-grid-wrap{max-width:1320px;margin:0 auto;padding:24px 32px 64px}
.lib-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:20px}
.lib-empty{grid-column:1/-1;text-align:center;padding:80px 24px;color:var(--text-light-gray);font-size:15px}
.lib-card{background:var(--bg-white);border:1px solid var(--border-color);border-radius:var(--rounded-xl);overflow:hidden;transition:box-shadow var(--transition-base),border-color var(--transition-base),transform var(--transition-base);cursor:pointer;display:flex;flex-direction:column}
.lib-card:hover{box-shadow:var(--shadow-purple-md);border-color:rgba(109,49,194,0.25);transform:translateY(-2px)}
.lib-card__preview{width:100%;height:220px;border-bottom:1px solid var(--border-color);background:var(--bg-light);position:relative;overflow:hidden}
.lib-card__preview iframe{width:100%;height:100%;border:none;pointer-events:none;transform-origin:top left}
.lib-card__body{padding:16px 18px;flex:1;display:flex;flex-direction:column}
.lib-card__top-row{display:flex;align-items:center;gap:8px;margin-bottom:8px;flex-wrap:wrap}
.lib-card__cat{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;padding:3px 9px;border-radius:var(--rounded-pill);background:rgba(109,49,194,0.08);color:var(--secondary-purple)}
.lib-card__id{font-size:10px;color:var(--text-light-gray);margin-left:auto;font-family:var(--font-dm)}
.lib-card__name{font-size:16px;font-weight:700;color:var(--text-dark);margin-bottom:6px;line-height:1.3}
.lib-card__desc{font-family:var(--font-dm);font-size:13px;color:var(--text-gray);line-height:1.5;margin-bottom:12px;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;flex:1}
.lib-card__phases{display:flex;gap:4px;flex-wrap:wrap;margin-bottom:10px}
.lib-card__phase{font-size:10px;padding:2px 8px;border-radius:var(--rounded-sm);background:var(--bg-light-gray);color:var(--text-gray);font-weight:500}
.lib-card__sources{font-size:10px;color:var(--text-light-gray);font-family:var(--font-dm);border-top:1px solid var(--border-color);padding-top:10px;margin-top:auto}
.lib-card__sources strong{color:var(--text-gray);font-weight:600}
.lib-overlay{position:fixed;inset:0;background:rgba(49,19,93,0.5);z-index:1000;display:none;align-items:flex-start;justify-content:center;padding:40px 24px;overflow-y:auto;backdrop-filter:blur(4px);animation:fadeIn var(--transition-base) ease}
.lib-overlay.open{display:flex}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.lib-modal{background:var(--bg-white);border-radius:var(--rounded-2xl);width:100%;max-width:900px;box-shadow:0 24px 64px rgba(49,19,93,0.3);animation:slideUp var(--transition-slow) ease;margin-bottom:40px}
.lib-modal__preview{width:100%;min-height:300px;max-height:450px;border-radius:var(--rounded-2xl) var(--rounded-2xl) 0 0;overflow:hidden;background:var(--bg-light);border-bottom:1px solid var(--border-color);position:relative}
.lib-modal__preview iframe{width:100%;height:400px;border:none}
.lib-modal__close{position:absolute;top:14px;right:14px;z-index:10;width:36px;height:36px;border-radius:50%;background:rgba(255,255,255,0.9);border:1px solid var(--border-color);display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;color:var(--text-dark);transition:background var(--transition-fast)}
.lib-modal__close:hover{background:var(--bg-white)}
.lib-modal__content{padding:28px 32px 32px}
.lib-modal__header{display:flex;align-items:flex-start;gap:12px;margin-bottom:20px;flex-wrap:wrap}
.lib-modal__title{font-size:24px;font-weight:800;color:var(--text-dark);flex:1;min-width:200px}
.lib-modal__desc{font-family:var(--font-dm);font-size:14px;color:var(--text-description);line-height:1.7;margin-bottom:24px}
.lib-modal__section{margin-bottom:24px}
.lib-modal__section-title{font-size:13px;font-weight:700;color:var(--primary-purple);text-transform:uppercase;letter-spacing:0.6px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid rgba(109,49,194,0.1)}
.lib-modal__phases-row{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:16px}
.lib-modal__sources-row{font-size:12px;color:var(--text-gray);font-family:var(--font-dm)}
.lib-modal__sources-row code{background:var(--bg-light-gray);padding:2px 6px;border-radius:var(--rounded-sm);font-size:11px;color:var(--secondary-purple);margin:0 2px}
@media(max-width:768px){
  .lib-header{padding:32px 20px}.lib-header__title{font-size:26px}
  .lib-toolbar{padding:10px 16px}.lib-grid-wrap{padding:16px 16px 48px}
  .lib-grid{grid-template-columns:1fr;gap:16px}
  .lib-modal__content{padding:20px}.lib-modal{max-width:100%}.lib-overlay{padding:20px 12px}
}
</style>
</head>
<body>
<header class="lib-header">
  <div class="lib-header__inner">
    <span class="lib-header__badge">Design Stack v2 &middot; Layer 8 Element Factory</span>
    <h1 class="lib-header__title">Library of Elements</h1>
    <p class="lib-header__sub">Browsable catalog of production-ready UI elements for the Split Lease guest journey. Each element includes live preview and design specs.</p>
    <div class="lib-header__meta">
      <span class="lib-header__meta-item"><strong>Run:</strong> 2026-02-19_0903</span>
      <span class="lib-header__meta-item"><strong>Journey:</strong> Guest</span>
      <span class="lib-header__meta-item"><strong>Elements:</strong> 8</span>
      <span class="lib-header__meta-item"><strong>Style:</strong> Split Lease Purple Palette</span>
    </div>
  </div>
</header>

<div class="lib-toolbar" id="toolbar">
  <div class="lib-toolbar__inner">
    <div class="lib-search">
      <span class="lib-search__icon">&#128269;</span>
      <input class="lib-search__input" type="text" id="searchInput" placeholder="Search elements by name or description...">
    </div>
    <div class="lib-filters">
      <div class="lib-filter-group">
        <button class="lib-filter-btn" data-filter="phase">Phase <span class="arrow">&#9662;</span></button>
        <div class="lib-filter-dropdown" data-filter-for="phase">
          <label class="lib-filter-option"><input type="checkbox" value="active_lease"> active lease</label>
          <label class="lib-filter-option"><input type="checkbox" value="discovery"> discovery</label>
          <label class="lib-filter-option"><input type="checkbox" value="listing_evaluation"> listing evaluation</label>
          <label class="lib-filter-option"><input type="checkbox" value="move_in"> move in</label>
          <label class="lib-filter-option"><input type="checkbox" value="negotiation"> negotiation</label>
          <label class="lib-filter-option"><input type="checkbox" value="proposal_creation"> proposal creation</label>
          <label class="lib-filter-option"><input type="checkbox" value="search"> search</label>
        </div>
      </div>
    </div>
    <span class="lib-count" id="resultCount">8 elements</span>
  </div>
</div>

<div class="lib-grid-wrap">
  <div class="lib-grid" id="elementGrid"></div>
</div>

<div class="lib-overlay" id="modalOverlay">
  <div class="lib-modal" id="modalContent"></div>
</div>

<script>
const ELEMENTS = [
  {
      id: "ds-ui-0903-001",
      name: "Category Framing Gate - Why Pay for Nights You Don't Use?",
      category: "card",
      source_elements: ["works-001","communicates-007","looks-L3-001","behaves-0903-001","feels-0903-001"],
      journey_phases: ["discovery","search"],
      priority: "high",
      description: "Steven arrived in commodity browsing mode, scanning for 'rooms and studios' (03:08). This framing gate interrupts the commodity lens by showing a personalized savings comparison before the guest sees any listings. Thiel warns that 'all failed companies are the same: they failed to escape competition' (Ch 3). By showing Steven that his 16 nights at $1,200/month vs. $2,000 full-time creates an $800 monthly savings, the gate creates a 'wait, what?' surprise moment that breaks the browsing trance and reframes evaluation from commodity (price/location) to category-creator (schedule fit/savings).",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Category Framing Gate</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-light-gray: #9ca3af;
  --bg-light-gray: #f3f4f6;
  --bg-white: #ffffff;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-purple-md: 0 4px 8px rgba(49, 19, 93, 0.15);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: var(--bg-light-gray);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
}

.framing-gate {
  background: var(--bg-white);
  border-radius: 12px;
  max-width: 420px;
  width: 100%;
  overflow: hidden;
  box-shadow: var(--shadow-md);
}

.framing-gate__header {
  background: var(--primary-purple);
  padding: 28px 24px 24px;
  text-align: center;
}

.framing-gate__question {
  font-family: 'DM Sans', sans-serif;
  font-size: 22px;
  font-weight: 500;
  color: #ffffff;
  line-height: 1.3;
  margin-bottom: 4px;
}

.framing-gate__sub {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.7);
  margin-top: 8px;
}

.framing-gate__comparison {
  display: flex;
  gap: 0;
  padding: 0;
}

.comparison-side {
  flex: 1;
  padding: 24px 20px;
  text-align: center;
}

.comparison-side--traditional {
  background: var(--bg-light-gray);
  border-right: 1px solid var(--border-color);
}

.comparison-side--splitlease {
  background: var(--bg-off-white);
}

.comparison-side__label {
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--text-light-gray);
  margin-bottom: 12px;
}

.comparison-side--splitlease .comparison-side__label {
  color: var(--secondary-purple);
}

.comparison-side__price {
  font-size: 32px;
  font-weight: 700;
  color: var(--text-dark);
  line-height: 1.1;
}

.comparison-side--splitlease .comparison-side__price {
  color: var(--primary-purple);
}

.comparison-side__unit {
  font-size: 16px;
  font-weight: 500;
  color: var(--text-gray);
}

.comparison-side__detail {
  font-size: 13px;
  color: var(--text-gray);
  margin-top: 6px;
  line-height: 1.4;
}

.framing-gate__savings {
  background: var(--primary-purple);
  padding: 14px 24px;
  text-align: center;
}

.savings-badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: #ffffff;
  font-size: 15px;
  font-weight: 600;
}

.savings-badge__amount {
  font-size: 18px;
  font-weight: 700;
  color: var(--accent-purple);
}

.framing-gate__story {
  padding: 20px 24px;
  border-top: 1px solid var(--border-color);
}

.framing-gate__story p {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  color: var(--text-gray);
  line-height: 1.6;
}

.framing-gate__story strong {
  color: var(--text-dark);
  font-weight: 600;
}

.framing-gate__cta {
  padding: 0 24px 24px;
}

.btn-primary {
  width: 100%;
  padding: 14px 24px;
  background: var(--secondary-purple);
  color: #ffffff;
  border: none;
  border-radius: 20px;
  font-family: 'Inter', sans-serif;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s ease, transform 0.1s ease;
}

.btn-primary:hover {
  background: var(--accent-purple);
  transform: translateY(-1px);
}

@media (max-width: 480px) {
  .framing-gate__question { font-size: 19px; }
  .comparison-side { padding: 20px 14px; }
  .comparison-side__price { font-size: 28px; }
  .framing-gate__header { padding: 24px 20px 20px; }
  .framing-gate__story { padding: 16px 20px; }
  .framing-gate__cta { padding: 0 20px 20px; }
}
</style>
</head>
<body>
<div class="framing-gate">
  <div class="framing-gate__header">
    <h2 class="framing-gate__question">Why pay for nights you don't use?</h2>
    <p class="framing-gate__sub">You need Mon–Fri. That's 16 nights a month, not 30.</p>
  </div>
  <div class="framing-gate__comparison">
    <div class="comparison-side comparison-side--traditional">
      <div class="comparison-side__label">Full-Time Rental</div>
      <div class="comparison-side__price">\$2,000<span class="comparison-side__unit">/mo</span></div>
      <div class="comparison-side__detail">30 nights. You use 16.</div>
    </div>
    <div class="comparison-side comparison-side--splitlease">
      <div class="comparison-side__label">Your Nights Only</div>
      <div class="comparison-side__price">\$1,200<span class="comparison-side__unit">/mo</span></div>
      <div class="comparison-side__detail">16 nights. Mon–Fri.</div>
    </div>
  </div>
  <div class="framing-gate__savings">
    <div class="savings-badge">
      You save <span class="savings-badge__amount">\$800/month</span> — same apartment
    </div>
  </div>
  <div class="framing-gate__story">
    <p><strong>Sarah</strong> commutes to Manhattan Mon–Fri. She pays for the nights she uses. Her co-tenant gets weekends. They share an apartment neither could afford alone.</p>
  </div>
  <div class="framing-gate__cta">
    <button class="btn-primary">Find my schedule match</button>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-0903-002",
      name: "Agent Trust Bridge - Concierge Welcome Card",
      category: "card",
      source_elements: ["works-002","communicates-007","looks-L3-006","behaves-0903-006","feels-0903-001"],
      journey_phases: ["discovery","search","listing_evaluation"],
      priority: "high",
      description: "Steven's trust was built entirely with Bryant on the phone call, who said 'I will be your concierge service' (13:12). Thiel's economies of scale principle means human concierge cannot scale, but trust must transfer gradually from person to platform. This welcome card appears on the guest's first platform visit, bridging the call and the digital experience by showing Bryant's name, the personalized search setup from the conversation, and a floating action button for direct contact. The guest feels 'Bryant is here' rather than being handed off to an anonymous system.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Agent Trust Bridge</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-light-gray: #9ca3af;
  --bg-light-gray: #f3f4f6;
  --bg-white: #ffffff;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-purple-md: 0 4px 8px rgba(49, 19, 93, 0.15);
  --shadow-purple-lg: 0 6px 20px rgba(109, 49, 194, 0.35);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: var(--bg-light-gray);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
  gap: 24px;
}

.agent-welcome {
  position: relative;
  background: var(--bg-off-white);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 20px;
  max-width: 440px;
  width: 100%;
  box-shadow: var(--shadow-sm);
  transition: box-shadow 0.2s ease;
}

.agent-welcome:hover {
  box-shadow: var(--shadow-purple-md);
}

.agent-welcome__dismiss {
  position: absolute;
  top: 12px;
  right: 12px;
  background: none;
  border: none;
  color: var(--text-light-gray);
  font-size: 18px;
  cursor: pointer;
  line-height: 1;
  padding: 4px;
  transition: color 0.15s ease;
}

.agent-welcome__dismiss:hover {
  color: var(--text-gray);
}

.agent-welcome__inner {
  display: flex;
  align-items: center;
  gap: 16px;
}

.avatar-ring {
  width: 52px;
  height: 52px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--secondary-purple), var(--accent-purple));
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.avatar-inner {
  width: 46px;
  height: 46px;
  border-radius: 50%;
  background: var(--bg-light-gray);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: 700;
  color: var(--primary-purple);
}

.agent-welcome__text {
  flex: 1;
}

.agent-welcome__heading {
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 4px;
}

.agent-welcome__summary {
  font-size: 14px;
  color: var(--text-gray);
  line-height: 1.5;
}

.agent-welcome__tags {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid var(--border-color);
}

.tag {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  background: var(--bg-white);
  border: 1px solid var(--border-color);
  border-radius: 20px;
  font-size: 12px;
  font-weight: 500;
  color: var(--primary-purple);
}

.agent-fab {
  position: fixed;
  bottom: 24px;
  right: 24px;
  width: 52px;
  height: 52px;
  border-radius: 50%;
  background: linear-gradient(135deg, #4B47CE 0%, #7C3AED 100%);
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: var(--shadow-purple-lg);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  z-index: 999;
}

.agent-fab:hover {
  transform: scale(1.08);
  box-shadow: 0 8px 28px rgba(109, 49, 194, 0.45);
}

.agent-fab svg {
  width: 24px;
  height: 24px;
}

@media (max-width: 480px) {
  .agent-welcome { padding: 16px; }
  .agent-welcome__heading { font-size: 15px; }
  .agent-welcome__inner { gap: 12px; }
  .avatar-ring { width: 44px; height: 44px; }
  .avatar-inner { width: 38px; height: 38px; font-size: 15px; }
  .agent-fab { bottom: 16px; right: 16px; width: 48px; height: 48px; }
}
</style>
</head>
<body>
<div class="agent-welcome">
  <button class="agent-welcome__dismiss" type="button" aria-label="Dismiss">&times;</button>
  <div class="agent-welcome__inner">
    <div class="avatar-ring">
      <div class="avatar-inner">B</div>
    </div>
    <div class="agent-welcome__text">
      <strong class="agent-welcome__heading">Bryant set up your search</strong>
      <p class="agent-welcome__summary">Based on your call, here is what we are looking for:</p>
    </div>
  </div>
  <div class="agent-welcome__tags">
    <span class="tag">Mon–Fri, 4 nights</span>
    <span class="tag">\$75/night</span>
    <span class="tag">Manhattan area</span>
    <span class="tag">May–Oct</span>
  </div>
</div>

<button class="agent-fab" type="button" aria-label="Contact Bryant">
  <svg viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
  </svg>
</button>
</body>
</html>`
    },
  {
      id: "ds-ui-0903-003",
      name: "Temporal-Match Listing Card - Schedule Fit as Headline",
      category: "card",
      source_elements: ["works-003","communicates-007","looks-L3-001","behaves-0903-001","feels-0903-001"],
      journey_phases: ["search","listing_evaluation"],
      priority: "high",
      description: "Steven's first substantive detail was temporal: 'Monday afternoon, Friday morning, four nights' (02:46). He was flexible on location ('anywhere in it,' 04:12) but fixed on schedule. Standard listing cards lead with photos and location -- commodity dimensions. Thiel's proprietary technology principle (Ch 5) demands a 10x improvement in some dimension. This card leads with a schedule-match badge and pre-computed monthly savings, making Split Lease's monopoly advantage (temporal matching) the first thing the eye hits. No other platform can show 'Perfect Mon-Fri Match' as a listing headline.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Temporal-Match Listing Card</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-light-gray: #9ca3af;
  --bg-light-gray: #f3f4f6;
  --bg-white: #ffffff;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: var(--bg-light-gray);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
}

.listing-card {
  border: 1px solid var(--border-color);
  border-radius: 12px;
  overflow: hidden;
  max-width: 380px;
  width: 100%;
  background: var(--bg-white);
  transition: box-shadow 0.2s ease-out, transform 0.2s ease;
  cursor: pointer;
}

.listing-card:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}

.schedule-badge {
  padding: 12px 16px;
  background: var(--primary-purple);
  color: #ffffff;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  font-weight: 600;
  line-height: 1.2;
}

.schedule-badge svg {
  flex-shrink: 0;
}

.listing-card__body {
  padding: 16px;
}

.listing-card__price {
  margin-bottom: 2px;
}

.price-amount {
  font-size: 22px;
  font-weight: 700;
  color: var(--text-dark);
}

.price-unit {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-gray);
}

.price-context {
  font-family: 'DM Sans', sans-serif;
  font-size: 13px;
  color: var(--text-gray);
  margin-top: 2px;
  line-height: 1.5;
}

.listing-card__cotenant {
  margin-top: 8px;
  font-size: 13px;
  color: var(--text-gray);
  display: flex;
  align-items: center;
  gap: 6px;
}

.cotenant-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--accent-purple);
  flex-shrink: 0;
}

.listing-card__photo {
  position: relative;
  margin-top: 12px;
  border-radius: 8px;
  overflow: hidden;
}

.listing-card__photo img {
  width: 100%;
  height: 180px;
  object-fit: cover;
  display: block;
  background: var(--bg-light-gray);
}

.photo-location {
  position: absolute;
  bottom: 8px;
  left: 8px;
  background: rgba(26, 10, 53, 0.78);
  color: #ffffff;
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
}

.listing-card__cta {
  padding: 0 16px 16px;
}

.btn-interest {
  width: 100%;
  padding: 12px 20px;
  background: var(--secondary-purple);
  color: #ffffff;
  border: none;
  border-radius: 20px;
  font-family: 'Inter', sans-serif;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s ease, transform 0.1s ease;
}

.btn-interest:hover {
  background: var(--accent-purple);
  transform: translateY(-1px);
}

.btn-sub {
  display: block;
  text-align: center;
  font-family: 'DM Sans', sans-serif;
  font-size: 12px;
  color: var(--text-light-gray);
  margin-top: 8px;
}

@media (max-width: 480px) {
  .listing-card { max-width: 100%; }
  .price-amount { font-size: 20px; }
  .listing-card__photo img { height: 150px; }
}
</style>
</head>
<body>
<div class="listing-card">
  <div class="schedule-badge">
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
      <path d="M13.3 4.3L6 11.6 2.7 8.3" stroke="#8C68EE" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <span>Perfect Mon–Fri Match</span>
  </div>
  <div class="listing-card__body">
    <div class="listing-card__price">
      <span class="price-amount">\$1,200</span><span class="price-unit">/mo</span>
    </div>
    <div class="price-context">for your 16 nights &middot; Full-time equiv: \$2,000</div>
    <div class="listing-card__cotenant">
      <span class="cotenant-dot"></span>
      <span>Anchor available &middot; Seeking Mon–Fri filler</span>
    </div>
    <div class="listing-card__photo">
      <div style="width:100%;height:180px;background:linear-gradient(135deg,#e8e0f0,#d5cbe8);display:flex;align-items:center;justify-content:center;color:#6b5b8a;font-size:13px;">Studio photo</div>
      <span class="photo-location">Harlem, Manhattan</span>
    </div>
  </div>
  <div class="listing-card__cta">
    <button class="btn-interest">I'm Interested</button>
    <span class="btn-sub">Free and non-binding</span>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-0903-004",
      name: "Progressive Model Explainer - How Time-Sharing Works",
      category: "card",
      source_elements: ["works-001","communicates-008","looks-L3-002","behaves-0903-001","feels-0903-002"],
      journey_phases: ["listing_evaluation","proposal_creation"],
      priority: "high",
      description: "The agent spent 3+ minutes (08:05-10:43) explaining anchor/filler roles, cleaning obligations, and the 40% discount. Most guests will never get a phone call. This progressive disclosure component delivers the same comprehension in under 15 seconds through three layers: a one-line headline ('you get Mon-Fri, they get weekends'), an expandable visual calendar with role cards, and a deep-dive link. Thiel notes 'the clearest way to make a 10x improvement is to invent something completely new' (Ch 5). The co-tenancy model IS the invention; this explainer makes it comprehensible without making it intimidating.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Progressive Model Explainer</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --bg-light-gray: #f3f4f6;
  --bg-white: #ffffff;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: var(--bg-light-gray);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
}

.model-explainer {
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 20px;
  max-width: 440px;
  width: 100%;
  background: var(--bg-white);
}

.model-explainer__headline p {
  font-size: 14px;
  color: var(--text-dark);
  line-height: 1.5;
}

.model-explainer__headline strong {
  font-weight: 600;
}

.model-explainer__details {
  margin-top: 14px;
}

.model-explainer__summary {
  cursor: pointer;
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: var(--primary-purple);
  list-style: none;
  user-select: none;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: color 0.15s ease;
}

.model-explainer__summary:hover {
  color: var(--secondary-purple);
}

.model-explainer__summary::-webkit-details-marker { display: none; }

.model-explainer__summary::before {
  content: '+';
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: var(--bg-off-white);
  font-weight: 700;
  font-size: 14px;
  color: var(--primary-purple);
  flex-shrink: 0;
  transition: background 0.2s ease;
}

.model-explainer__details[open] .model-explainer__summary::before {
  content: '\2212';
  background: var(--primary-purple);
  color: #ffffff;
}

.model-explainer__content {
  margin-top: 16px;
}

.week-strip {
  display: flex;
  gap: 4px;
  margin-bottom: 16px;
}

.week-strip__day {
  flex: 1;
  text-align: center;
  padding: 10px 0;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
  line-height: 1;
  transition: transform 0.15s ease;
}

.week-strip__day:hover {
  transform: scale(1.05);
}

.week-strip__day--yours {
  background: var(--primary-purple);
  color: #ffffff;
}

.week-strip__day--theirs {
  background: var(--bg-off-white);
  color: var(--text-gray);
  border: 1px solid var(--border-color);
}

.role-cards {
  display: flex;
  gap: 10px;
  margin-bottom: 14px;
}

.role-card {
  flex: 1;
  padding: 14px;
  border-radius: 8px;
}

.role-card--anchor {
  background: var(--bg-off-white);
  border: 1px solid var(--border-color);
}

.role-card--filler {
  background: #f3edff;
  border: 1px solid #d5c8f0;
}

.role-card__title {
  display: block;
  font-size: 14px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 4px;
}

.role-card__desc {
  font-size: 13px;
  color: var(--text-dark);
  line-height: 1.5;
}

.role-card__desc strong {
  color: var(--secondary-purple);
  font-weight: 600;
}

.deep-dive-link {
  display: inline-block;
  padding: 8px 16px;
  font-size: 13px;
  font-weight: 500;
  color: var(--primary-purple);
  background: var(--bg-off-white);
  border: 1px solid var(--border-color);
  border-radius: 20px;
  text-decoration: none;
  transition: background 0.15s ease, color 0.15s ease;
}

.deep-dive-link:hover {
  color: var(--secondary-purple);
  background: #ede8f5;
}

@media (max-width: 480px) {
  .model-explainer { padding: 16px; }
  .week-strip__day { padding: 8px 0; font-size: 11px; }
  .role-cards { flex-direction: column; gap: 8px; }
}
</style>
</head>
<body>
<div class="model-explainer">
  <div class="model-explainer__headline">
    <p>Time-shared space: you get <strong>Mon–Fri</strong>. A vetted co-tenant gets <strong>weekends</strong>. You never overlap.</p>
  </div>
  <details class="model-explainer__details">
    <summary class="model-explainer__summary">How does time-sharing work?</summary>
    <div class="model-explainer__content">
      <div class="week-strip">
        <div class="week-strip__day week-strip__day--yours">Mon</div>
        <div class="week-strip__day week-strip__day--yours">Tue</div>
        <div class="week-strip__day week-strip__day--yours">Wed</div>
        <div class="week-strip__day week-strip__day--yours">Thu</div>
        <div class="week-strip__day week-strip__day--theirs">Fri</div>
        <div class="week-strip__day week-strip__day--theirs">Sat</div>
        <div class="week-strip__day week-strip__day--theirs">Sun</div>
      </div>
      <div class="role-cards">
        <div class="role-card role-card--anchor">
          <strong class="role-card__title">Anchor</strong>
          <p class="role-card__desc">Sets the schedule. Pays full rate. Maximum flexibility.</p>
        </div>
        <div class="role-card role-card--filler">
          <strong class="role-card__title">Filler</strong>
          <p class="role-card__desc">Matches the schedule. Light cleaning. <strong>40% discount.</strong></p>
        </div>
      </div>
      <a href="#" class="deep-dive-link">Full guide: anchors, fillers &amp; how matching works &rarr;</a>
    </div>
  </details>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-0903-005",
      name: "Matching Pipeline Dashboard - Your Match Progress",
      category: "card",
      source_elements: ["works-004","communicates-009","looks-L3-003","behaves-0903-003","feels-0903-004"],
      journey_phases: ["proposal_creation","negotiation"],
      priority: "high",
      description: "After Steven bids, the agent says 'hopefully next week I'll send you something to consider' (14:06). This creates a 5-7 day information vacuum where the guest has zero visibility. Thiel's inverted lesson: 'A bad plan is better than no plan' (Ch 2). This pipeline dashboard replaces silence with a named 5-stage process, showing Bryant's name, a live 'matches reviewed' counter, and estimated timeframes. The three-way matching complexity (two guests + landlord, 06:44) is made visible and manageable rather than abstract and anxiety-inducing. Each stage transition is a retention signal during the highest-risk dropout window.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Matching Pipeline Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-light-gray: #9ca3af;
  --bg-light-gray: #f3f4f6;
  --bg-white: #ffffff;
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: var(--bg-light-gray);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
}

@keyframes pulse-ring {
  0% { box-shadow: 0 0 0 0 rgba(140, 104, 238, 0.4); }
  100% { box-shadow: 0 0 0 8px rgba(140, 104, 238, 0); }
}

.match-pipeline {
  max-width: 440px;
  width: 100%;
  padding: 24px;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  background: var(--bg-white);
  box-shadow: var(--shadow-sm);
}

.pipeline__heading {
  font-family: 'DM Sans', sans-serif;
  font-size: 18px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 4px;
}

.pipeline__agent {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 20px;
}

.agent-dot {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: var(--bg-light-gray);
  border: 2px solid var(--secondary-purple);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 700;
  color: var(--primary-purple);
  flex-shrink: 0;
}

.agent-info {
  font-size: 13px;
  color: var(--text-gray);
}

.agent-info__time {
  color: var(--text-light-gray);
  font-size: 12px;
}

.pipeline-stages {
  list-style: none;
  position: relative;
  padding-left: 14px;
}

.pipeline-stages::before {
  content: '';
  position: absolute;
  left: 13px;
  top: 14px;
  bottom: 14px;
  width: 3px;
  background: var(--border-color);
  border-radius: 2px;
}

.stage {
  display: flex;
  align-items: flex-start;
  gap: 14px;
  padding: 12px 4px;
  position: relative;
  transition: background 0.2s ease;
  cursor: default;
}

.stage:hover {
  background: var(--bg-light-gray);
  border-radius: 8px;
}

.stage__marker {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 700;
  flex-shrink: 0;
  z-index: 1;
  transition: all 0.3s ease;
}

.stage--complete .stage__marker {
  background: var(--primary-purple);
  color: #ffffff;
}

.stage--active .stage__marker {
  background: var(--accent-purple);
  color: #ffffff;
  animation: pulse-ring 1.5s ease-out 1;
}

.stage--future .stage__marker {
  background: var(--bg-light-gray);
  color: var(--text-gray);
}

.stage__body {
  padding-top: 3px;
  flex: 1;
}

.stage__title {
  font-size: 14px;
  color: var(--text-dark);
  font-weight: 500;
  display: block;
}

.stage--active .stage__title {
  font-weight: 600;
}

.stage--future .stage__title,
.stage--future .stage__desc {
  opacity: 0.45;
}

.stage__desc {
  font-size: 13px;
  color: var(--text-gray);
  line-height: 1.5;
  margin-top: 2px;
}

.stage__live {
  display: inline-block;
  margin-top: 8px;
  font-size: 12px;
  font-weight: 500;
  color: var(--accent-purple);
  padding: 3px 8px;
  background: rgba(140, 104, 238, 0.08);
  border-radius: 20px;
}

@media (max-width: 480px) {
  .match-pipeline { padding: 18px; }
  .pipeline__heading { font-size: 16px; }
  .stage { gap: 10px; padding: 10px 0; }
}
</style>
</head>
<body>
<div class="match-pipeline">
  <h3 class="pipeline__heading">Your Match Progress</h3>
  <div class="pipeline__agent">
    <div class="agent-dot">B</div>
    <div>
      <span class="agent-info">Managed by Bryant</span>
      <span class="agent-info__time"> &middot; Last checked 2h ago</span>
    </div>
  </div>
  <ol class="pipeline-stages">
    <li class="stage stage--complete">
      <div class="stage__marker">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M11.5 3.5L5.5 10.5L2.5 7" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </div>
      <div class="stage__body">
        <strong class="stage__title">Bid Received</strong>
        <p class="stage__desc">Your interest in Studio, Harlem is recorded. No obligation.</p>
      </div>
    </li>
    <li class="stage stage--active">
      <div class="stage__marker">2</div>
      <div class="stage__body">
        <strong class="stage__title">Seeking Schedule Match</strong>
        <p class="stage__desc">Reviewing co-tenants for your Mon–Fri, 4-night pattern. Typically 3–5 business days.</p>
        <span class="stage__live">3 potential matches reviewed so far</span>
      </div>
    </li>
    <li class="stage stage--future">
      <div class="stage__marker">3</div>
      <div class="stage__body">
        <strong class="stage__title">Co-Tenant Identified</strong>
        <p class="stage__desc">A compatible co-tenant is found. Zoom intro arranged.</p>
      </div>
    </li>
    <li class="stage stage--future">
      <div class="stage__marker">4</div>
      <div class="stage__body">
        <strong class="stage__title">Zoom Introduction</strong>
        <p class="stage__desc">Meet your co-tenant via video. Confirm compatibility.</p>
      </div>
    </li>
    <li class="stage stage--future">
      <div class="stage__marker">5</div>
      <div class="stage__body">
        <strong class="stage__title">Lease Draft</strong>
        <p class="stage__desc">Both parties agree. Lease prepared with your terms.</p>
      </div>
    </li>
  </ol>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-0903-006",
      name: "First-Night Verification Checklist - Welcome to Your First Stay",
      category: "card",
      source_elements: ["works-005","communicates-010","looks-L3-004","behaves-0903-004","feels-0903-005"],
      journey_phases: ["move_in","active_lease"],
      priority: "high",
      description: "The 24-hour acceptance window (15:32-16:06) is the highest-stakes moment in Steven's journey. He was told about cleaning obligations, deposit protection, and the co-tenant arrangement weeks ago on a phone call. This guided verification walkthrough re-surfaces that information as a warm welcome, not an inspection. Thiel's inverted lesson: 'Sales matters just as much as product' (Ch 2). Move-in is where the sale (the call's promises) meets the product (the physical space). The checklist confirms quality, sets behavioral expectations for cleaning photos, and transitions the guest from provisional to committed with an affirmative 'Everything looks good' tap rather than silence-as-acceptance.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>First-Night Verification</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --primary-purple-hover: #251047;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --bg-light-gray: #f3f4f6;
  --bg-white: #ffffff;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --border-light: #f3f4f6;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: var(--bg-light-gray);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
}

.first-night {
  max-width: 400px;
  width: 100%;
  padding: 24px;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  background: var(--bg-white);
  box-shadow: var(--shadow-sm);
}

.first-night__heading {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-dark);
}

.first-night__subtitle {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  color: var(--text-gray);
  margin: 4px 0 20px;
}

.fn-section {
  padding-bottom: 16px;
  margin-bottom: 16px;
  border-bottom: 1px solid var(--border-light);
}

.fn-section:last-of-type {
  border-bottom: none;
  margin-bottom: 12px;
}

.fn-section__title {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: var(--primary-purple);
  margin-bottom: 10px;
}

.fn-check {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 7px 0;
  cursor: pointer;
  transition: opacity 0.2s ease;
}

.fn-check__input {
  accent-color: var(--primary-purple);
  width: 18px;
  height: 18px;
  flex-shrink: 0;
  cursor: pointer;
}

.fn-check__label {
  font-size: 14px;
  color: var(--text-dark);
  transition: opacity 0.2s ease, text-decoration 0.2s ease;
}

.fn-check__input:checked + .fn-check__label {
  opacity: 0.5;
  text-decoration: line-through;
}

.fn-photo-btn {
  margin-top: 10px;
  padding: 9px 14px;
  background: var(--bg-off-white);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  color: var(--primary-purple);
  font-family: 'Inter', sans-serif;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.15s ease;
}

.fn-photo-btn:hover {
  background: #ede8f5;
}

.fn-cotenant {
  font-size: 14px;
  color: var(--text-dark);
  line-height: 1.6;
}

.fn-cotenant strong {
  color: var(--primary-purple);
}

.fn-alert {
  background: #fef9ef;
  border: 1px solid #e8d48a;
  border-radius: 8px;
  padding: 14px;
  margin-bottom: 16px;
}

.fn-alert p {
  font-size: 13px;
  color: #6b5200;
  line-height: 1.6;
}

.fn-alert strong {
  font-weight: 600;
}

.fn-cta {
  width: 100%;
  min-height: 48px;
  padding: 14px;
  background: var(--primary-purple);
  color: #ffffff;
  border: none;
  border-radius: 20px;
  font-family: 'Inter', sans-serif;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s ease, transform 0.1s ease;
}

.fn-cta:hover {
  background: var(--primary-purple-hover);
  transform: translateY(-1px);
}

@media (max-width: 480px) {
  .first-night { padding: 18px; }
  .first-night__heading { font-size: 17px; }
  .fn-alert { padding: 12px; }
}
</style>
</head>
<body>
<div class="first-night">
  <h3 class="first-night__heading">Welcome to Your First Stay</h3>
  <p class="first-night__subtitle">Let us make sure everything is perfect.</p>

  <div class="fn-section">
    <h4 class="fn-section__title">Your Space</h4>
    <label class="fn-check">
      <input type="checkbox" class="fn-check__input" />
      <span class="fn-check__label">Space matches listing photos</span>
    </label>
    <button class="fn-photo-btn" type="button">Take arrival photo for your records</button>
  </div>

  <div class="fn-section">
    <h4 class="fn-section__title">The Basics</h4>
    <label class="fn-check"><input type="checkbox" class="fn-check__input" /><span class="fn-check__label">Key works</span></label>
    <label class="fn-check"><input type="checkbox" class="fn-check__input" /><span class="fn-check__label">Wi-Fi accessible</span></label>
    <label class="fn-check"><input type="checkbox" class="fn-check__input" /><span class="fn-check__label">Bathroom clean</span></label>
    <label class="fn-check"><input type="checkbox" class="fn-check__input" /><span class="fn-check__label">Kitchen accessible</span></label>
  </div>

  <div class="fn-section">
    <h4 class="fn-section__title">Your Neighbor</h4>
    <p class="fn-cotenant"><strong>Jordan K.</strong> uses this space Fri–Sun. You will not overlap. At each departure, take cleaning photos showing the space is tidy.</p>
  </div>

  <div class="fn-alert">
    <p><strong>Just in case:</strong> You have 24 hours to flag anything at all. Your \$600 deposit is held by Split Lease — no charges without your agreement.</p>
  </div>

  <button class="fn-cta" type="button">Everything looks good — activate my lease</button>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-0903-007",
      name: "Cumulative Value Dashboard - Your Lease at a Glance",
      category: "card",
      source_elements: ["works-006","communicates-011","looks-L3-005","behaves-0903-005","feels-0903-006"],
      journey_phases: ["active_lease"],
      priority: "high",
      description: "Steven's 5-6 month lease (02:57, 03:48) creates 24 weekly stays. The agent mentioned the 40% discount once on the call (10:28); by month 3, Steven will have forgotten the magnitude. Thiel's durability principle: 'most of a tech company's value will come at least 10 to 15 years in the future' (Ch 5). This dashboard makes accumulated value visible -- $4,800 saved, 12 of 24 stays completed, 98% reliability score, 4.8 co-tenant harmony. Each weekly update compounds the guest's psychological investment, making departure a visible loss and re-lease the natural default. The savings card in deep purple carries maximum visual gravity as the single most powerful retention number.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cumulative Value Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-light-gray: #9ca3af;
  --bg-light-gray: #f3f4f6;
  --bg-white: #ffffff;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: var(--bg-light-gray);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
}

.value-dash {
  max-width: 440px;
  width: 100%;
  padding: 24px;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  background: var(--bg-white);
  box-shadow: var(--shadow-sm);
}

.value-dash__heading {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 16px;
}

.value-dash__grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.vcard {
  padding: 18px 14px;
  background: var(--bg-off-white);
  border-radius: 12px;
  text-align: center;
  transition: transform 0.2s ease;
}

.vcard:hover {
  transform: scale(1.02);
}

.vcard--primary {
  background: var(--primary-purple);
}

.vcard__number {
  display: block;
  font-size: 22px;
  font-weight: 700;
  color: var(--text-dark);
  line-height: 1.2;
}

.vcard--primary .vcard__number {
  font-size: 28px;
  color: #ffffff;
}

.vcard__label {
  display: block;
  font-family: 'DM Sans', sans-serif;
  font-size: 12px;
  color: var(--text-gray);
  margin-top: 6px;
}

.vcard--primary .vcard__label {
  color: rgba(255, 255, 255, 0.65);
}

.vcard__detail {
  display: block;
  font-size: 11px;
  color: var(--text-light-gray);
  margin-top: 3px;
}

.vcard__progress {
  margin-top: 10px;
  height: 6px;
  background: var(--border-color);
  border-radius: 3px;
  overflow: hidden;
}

.vcard__progress-fill {
  height: 100%;
  background: var(--primary-purple);
  border-radius: 3px;
  transition: width 0.6s ease-out;
}

.value-dash__milestone {
  margin-top: 16px;
  padding: 12px 16px;
  background: var(--bg-off-white);
  border-radius: 8px;
  text-align: center;
}

.milestone__text {
  font-family: 'DM Sans', sans-serif;
  font-size: 13px;
  color: var(--secondary-purple);
  font-weight: 500;
}

.milestone__text strong {
  color: var(--primary-purple);
  font-weight: 700;
}

.value-dash__cta {
  margin-top: 16px;
}

.btn-renew {
  width: 100%;
  padding: 13px 20px;
  background: var(--secondary-purple);
  color: #ffffff;
  border: none;
  border-radius: 20px;
  font-family: 'Inter', sans-serif;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s ease, transform 0.1s ease;
}

.btn-renew:hover {
  background: var(--accent-purple);
  transform: translateY(-1px);
}

@media (max-width: 480px) {
  .value-dash { padding: 18px; }
  .value-dash__grid { gap: 8px; }
  .vcard { padding: 14px 10px; }
  .vcard__number { font-size: 20px; }
  .vcard--primary .vcard__number { font-size: 24px; }
}
</style>
</head>
<body>
<div class="value-dash">
  <h3 class="value-dash__heading">Your Lease at a Glance</h3>
  <div class="value-dash__grid">
    <div class="vcard">
      <span class="vcard__number">12 / 24</span>
      <span class="vcard__label">Stays completed</span>
      <div class="vcard__progress">
        <div class="vcard__progress-fill" style="width: 50%"></div>
      </div>
    </div>
    <div class="vcard vcard--primary">
      <span class="vcard__number">\$4,800</span>
      <span class="vcard__label">Saved vs. full-time rental</span>
    </div>
    <div class="vcard">
      <span class="vcard__number">98%</span>
      <span class="vcard__label">Your reliability score</span>
    </div>
    <div class="vcard">
      <span class="vcard__number">4.8</span>
      <span class="vcard__label">Co-tenant harmony</span>
      <span class="vcard__detail">No issues in 12 stays</span>
    </div>
  </div>
  <div class="value-dash__milestone">
    <span class="milestone__text"><strong>Halfway there!</strong> You and Jordan have shared 48 nights smoothly.</span>
  </div>
  <div class="value-dash__cta">
    <button class="btn-renew" type="button">Extend my lease</button>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-0903-008",
      name: "Zero-Obligation Bid Confirmation - Interest Expressed",
      category: "card",
      source_elements: ["works-004","communicates-009","looks-L3-003","behaves-0903-002","feels-0903-003"],
      journey_phases: ["proposal_creation","negotiation"],
      priority: "high",
      description: "The agent repeated 'no obligation' twice in one breath (06:15-06:23) and encouraged multiple bids for three-way matching (06:44). The digital bid interaction must match this casual verbal register. Thiel's network effects principle: 'your product must be valuable to its very first users' (Ch 5). This confirmation component appears instantly after the guest taps 'I'm Interested,' showing a warm acknowledgment with Bryant's name, the pre-filled schedule, and a direct link to the pipeline dashboard. Language uses 'Express Interest' instead of 'Submit Bid' to maintain the zero-obligation emotional promise. The sub-line 'Free and non-binding -- withdraw anytime' prevents the commitment anxiety that kills first-time network contributions.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bid Confirmation</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-light-gray: #9ca3af;
  --bg-light-gray: #f3f4f6;
  --bg-white: #ffffff;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-purple-md: 0 4px 8px rgba(49, 19, 93, 0.15);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: var(--bg-light-gray);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
}

.bid-confirm {
  max-width: 400px;
  width: 100%;
  border-radius: 12px;
  overflow: hidden;
  background: var(--bg-white);
  box-shadow: var(--shadow-md);
}

.bid-confirm__header {
  background: var(--primary-purple);
  padding: 24px;
  text-align: center;
}

.bid-confirm__icon {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: rgba(140, 104, 238, 0.25);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 12px;
}

.bid-confirm__title {
  font-family: 'DM Sans', sans-serif;
  font-size: 18px;
  font-weight: 600;
  color: #ffffff;
  margin-bottom: 6px;
}

.bid-confirm__subtitle {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.7);
  line-height: 1.5;
}

.bid-confirm__body {
  padding: 20px 24px;
}

.confirm-detail {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 0;
  border-bottom: 1px solid var(--border-color);
}

.confirm-detail:last-child {
  border-bottom: none;
}

.confirm-detail__label {
  font-size: 13px;
  color: var(--text-gray);
}

.confirm-detail__value {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-dark);
}

.bid-confirm__next {
  padding: 4px 24px 8px;
}

.next-step {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 14px;
  background: var(--bg-off-white);
  border-radius: 8px;
  margin-bottom: 8px;
}

.next-step__dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--accent-purple);
  flex-shrink: 0;
}

.next-step__text {
  font-size: 13px;
  color: var(--text-dark);
  line-height: 1.4;
}

.next-step__text strong {
  font-weight: 600;
}

.bid-confirm__actions {
  padding: 8px 24px 24px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.btn-progress {
  width: 100%;
  padding: 13px 20px;
  background: var(--secondary-purple);
  color: #ffffff;
  border: none;
  border-radius: 20px;
  font-family: 'Inter', sans-serif;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s ease, transform 0.1s ease;
}

.btn-progress:hover {
  background: var(--accent-purple);
  transform: translateY(-1px);
}

.btn-secondary {
  width: 100%;
  padding: 12px 20px;
  background: transparent;
  color: var(--text-gray);
  border: 1px solid var(--border-color);
  border-radius: 20px;
  font-family: 'Inter', sans-serif;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.15s ease, border-color 0.15s ease;
}

.btn-secondary:hover {
  background: var(--bg-light-gray);
  border-color: var(--text-light-gray);
}

.withdraw-note {
  text-align: center;
  font-size: 12px;
  color: var(--text-light-gray);
  margin-top: 4px;
}

@media (max-width: 480px) {
  .bid-confirm__header { padding: 20px; }
  .bid-confirm__title { font-size: 17px; }
  .bid-confirm__body { padding: 16px 20px; }
  .bid-confirm__actions { padding: 8px 20px 20px; }
}
</style>
</head>
<body>
<div class="bid-confirm">
  <div class="bid-confirm__header">
    <div class="bid-confirm__icon">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M20 6L9 17l-5-5"/>
      </svg>
    </div>
    <h3 class="bid-confirm__title">Interest Expressed</h3>
    <p class="bid-confirm__subtitle">Bryant will start looking for your match. You will hear back within a few days.</p>
  </div>
  <div class="bid-confirm__body">
    <div class="confirm-detail">
      <span class="confirm-detail__label">Property</span>
      <span class="confirm-detail__value">Studio, Harlem</span>
    </div>
    <div class="confirm-detail">
      <span class="confirm-detail__label">Your schedule</span>
      <span class="confirm-detail__value">Mon–Fri, 4 nights</span>
    </div>
    <div class="confirm-detail">
      <span class="confirm-detail__label">Duration</span>
      <span class="confirm-detail__value">May–Oct 2022</span>
    </div>
    <div class="confirm-detail">
      <span class="confirm-detail__label">Estimated cost</span>
      <span class="confirm-detail__value">\$1,200/month</span>
    </div>
  </div>
  <div class="bid-confirm__next">
    <div class="next-step">
      <span class="next-step__dot"></span>
      <span class="next-step__text"><strong>What happens next:</strong> Bryant reviews potential co-tenants who match your Mon–Fri schedule. You will be introduced via Zoom before any commitment.</span>
    </div>
  </div>
  <div class="bid-confirm__actions">
    <button class="btn-progress">View matching progress</button>
    <button class="btn-secondary">Browse more listings</button>
    <span class="withdraw-note">Free and non-binding — withdraw anytime</span>
  </div>
</div>
</body>
</html>`
    }
];

function createSrcdoc(snippet) {
  return snippet;
}

function renderCards() {
  const grid = document.getElementById('elementGrid');
  const search = document.getElementById('searchInput').value.toLowerCase();
  const checkedPhases = Array.from(document.querySelectorAll('[data-filter-for="phase"] input:checked')).map(c => c.value);

  let filtered = ELEMENTS.filter(el => {
    if (search && !el.name.toLowerCase().includes(search) && !el.description.toLowerCase().includes(search)) return false;
    if (checkedPhases.length && !el.journey_phases.some(p => checkedPhases.includes(p))) return false;
    return true;
  });

  document.getElementById('resultCount').textContent = filtered.length + ' element' + (filtered.length !== 1 ? 's' : '');

  if (!filtered.length) {
    grid.innerHTML = '<div class="lib-empty">No elements match your filters.</div>';
    return;
  }

  grid.innerHTML = filtered.map((el, i) => {
    const phases = el.journey_phases.map(p => '<span class="lib-card__phase">' + p.replace(/_/g, ' ') + '</span>').join('');
    const sources = el.source_elements.map(s => '<code>' + s + '</code>').join(' ');
    return '<div class="lib-card" data-idx="' + ELEMENTS.indexOf(el) + '">' +
      '<div class="lib-card__preview"><iframe srcdoc="' + escapeAttr(el.html_css_snippet) + '" loading="lazy" sandbox="allow-same-origin"></iframe></div>' +
      '<div class="lib-card__body">' +
        '<div class="lib-card__top-row"><span class="lib-card__cat">UI Element</span><span class="lib-card__id">' + el.id + '</span></div>' +
        '<div class="lib-card__name">' + el.name + '</div>' +
        '<div class="lib-card__desc">' + el.description + '</div>' +
        '<div class="lib-card__phases">' + phases + '</div>' +
        '<div class="lib-card__sources"><strong>Sources:</strong> ' + sources + '</div>' +
      '</div></div>';
  }).join('');
}

function escapeAttr(s) {
  return s.replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}

function openModal(idx) {
  const el = ELEMENTS[idx];
  const overlay = document.getElementById('modalOverlay');
  const modal = document.getElementById('modalContent');
  const phases = el.journey_phases.map(p => '<span class="lib-card__phase" style="font-size:12px;padding:4px 10px;">' + p.replace(/_/g, ' ') + '</span>').join('');
  const sources = el.source_elements.map(s => '<code>' + s + '</code>').join(' ');

  modal.innerHTML =
    '<div class="lib-modal__preview"><iframe srcdoc="' + escapeAttr(el.html_css_snippet) + '" sandbox="allow-same-origin"></iframe><button class="lib-modal__close" onclick="closeModal()">&times;</button></div>' +
    '<div class="lib-modal__content">' +
      '<div class="lib-modal__header"><h2 class="lib-modal__title">' + el.name + '</h2></div>' +
      '<p class="lib-modal__desc">' + el.description + '</p>' +
      '<div class="lib-modal__section"><div class="lib-modal__section-title">Journey Phases</div><div class="lib-modal__phases-row">' + phases + '</div></div>' +
      '<div class="lib-modal__section"><div class="lib-modal__section-title">Source Elements</div><div class="lib-modal__sources-row">' + sources + '</div></div>' +
    '</div>';

  overlay.classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  document.getElementById('modalOverlay').classList.remove('open');
  document.body.style.overflow = '';
}

// Event listeners
document.getElementById('searchInput').addEventListener('input', renderCards);
document.querySelectorAll('.lib-filter-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const dropdown = btn.nextElementSibling;
    dropdown.classList.toggle('open');
    btn.classList.toggle('active');
  });
});
document.querySelectorAll('.lib-filter-dropdown input').forEach(cb => {
  cb.addEventListener('change', renderCards);
});
document.getElementById('elementGrid').addEventListener('click', e => {
  const card = e.target.closest('.lib-card');
  if (card) openModal(parseInt(card.dataset.idx));
});
document.getElementById('modalOverlay').addEventListener('click', e => {
  if (e.target === e.currentTarget) closeModal();
});
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });
window.addEventListener('scroll', () => {
  document.getElementById('toolbar').classList.toggle('scrolled', window.scrollY > 10);
});

// Initial render
renderCards();
</script>
</body>
</html>