<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Library of Elements â€” Design Stack v2 | Run 2026-02-19_1101</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --primary-purple:#31135D;
  --secondary-purple:rgb(109,49,194);
  --accent-purple:rgb(140,104,238);
  --bg-white:#ffffff;
  --bg-light:#f9fafb;
  --bg-light-gray:#f3f4f6;
  --bg-off-white:rgb(252,250,255);
  --text-dark:#1a1a1a;
  --text-gray:#6b7280;
  --text-light-gray:#9ca3af;
  --text-description:#374151;
  --border-color:#e5e7eb;
  --shadow-sm:0 1px 3px rgba(0,0,0,0.05);
  --shadow-md:0 2px 8px rgba(0,0,0,0.08);
  --shadow-lg:0 4px 16px rgba(0,0,0,0.1);
  --shadow-purple-md:0 4px 8px rgba(49,19,93,0.15);
  --rounded-sm:4px;--rounded-md:6px;--rounded-lg:8px;--rounded-xl:12px;--rounded-2xl:16px;--rounded-pill:20px;
  --font-inter:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
  --font-dm:'DM Sans',sans-serif;
  --transition-fast:0.15s;--transition-base:0.2s;--transition-slow:0.3s;
}
html{scroll-behavior:smooth}
body{font-family:var(--font-inter);background:var(--bg-light);color:var(--text-dark);line-height:1.5;-webkit-font-smoothing:antialiased}
.lib-header{background:linear-gradient(135deg,#31135D 0%,#4a1f8a 50%,#5a2d8f 100%);padding:48px 32px 40px;position:relative;overflow:hidden}
.lib-header::before{content:'';position:absolute;top:-60%;right:-10%;width:500px;height:500px;background:radial-gradient(circle,rgba(140,104,238,0.15) 0%,transparent 70%);pointer-events:none}
.lib-header__inner{max-width:1320px;margin:0 auto;position:relative;z-index:1}
.lib-header__badge{display:inline-block;background:rgba(255,255,255,0.12);color:rgba(255,255,255,0.85);font-size:11px;font-weight:600;padding:4px 12px;border-radius:var(--rounded-pill);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:16px;backdrop-filter:blur(4px)}
.lib-header__title{font-size:36px;font-weight:800;color:#fff;margin-bottom:8px;letter-spacing:-0.5px}
.lib-header__sub{font-family:var(--font-dm);font-size:16px;color:rgba(255,255,255,0.7);max-width:600px;line-height:1.6}
.lib-header__meta{display:flex;gap:24px;margin-top:20px;flex-wrap:wrap}
.lib-header__meta-item{font-size:12px;color:rgba(255,255,255,0.55);font-family:var(--font-dm)}
.lib-header__meta-item strong{color:rgba(255,255,255,0.85);font-weight:600}
.lib-toolbar{position:sticky;top:0;z-index:100;background:rgba(255,255,255,0.92);backdrop-filter:blur(12px);border-bottom:1px solid var(--border-color);padding:12px 32px;transition:box-shadow var(--transition-base)}
.lib-toolbar.scrolled{box-shadow:var(--shadow-md)}
.lib-toolbar__inner{max-width:1320px;margin:0 auto;display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.lib-search{position:relative;flex:1;min-width:220px;max-width:400px}
.lib-search__input{width:100%;padding:9px 14px 9px 36px;border:1px solid var(--border-color);border-radius:var(--rounded-lg);font-family:var(--font-inter);font-size:13px;background:var(--bg-white);color:var(--text-dark);transition:border-color var(--transition-fast);outline:none}
.lib-search__input:focus{border-color:var(--secondary-purple)}
.lib-search__icon{position:absolute;left:11px;top:50%;transform:translateY(-50%);color:var(--text-light-gray);font-size:14px;pointer-events:none}
.lib-filters{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.lib-filter-group{position:relative}
.lib-filter-btn{display:inline-flex;align-items:center;gap:5px;padding:7px 14px;border:1px solid var(--border-color);border-radius:var(--rounded-lg);background:var(--bg-white);font-family:var(--font-inter);font-size:12px;font-weight:500;color:var(--text-gray);cursor:pointer;transition:border-color var(--transition-fast),color var(--transition-fast);white-space:nowrap}
.lib-filter-btn:hover,.lib-filter-btn.active{border-color:var(--secondary-purple);color:var(--secondary-purple)}
.lib-filter-btn .arrow{font-size:10px;margin-left:2px;transition:transform var(--transition-fast)}
.lib-filter-btn.active .arrow{transform:rotate(180deg)}
.lib-filter-dropdown{position:absolute;top:calc(100% + 4px);left:0;min-width:200px;background:var(--bg-white);border:1px solid var(--border-color);border-radius:var(--rounded-lg);box-shadow:var(--shadow-lg);padding:6px 0;display:none;z-index:200}
.lib-filter-dropdown.open{display:block}
.lib-filter-option{display:flex;align-items:center;gap:8px;padding:8px 14px;font-size:12px;color:var(--text-dark);cursor:pointer;transition:background var(--transition-fast)}
.lib-filter-option:hover{background:var(--bg-light)}
.lib-filter-option input[type=checkbox]{accent-color:var(--secondary-purple)}
.lib-count{font-size:12px;color:var(--text-light-gray);font-family:var(--font-dm);margin-left:auto;white-space:nowrap}
.lib-grid-wrap{max-width:1320px;margin:0 auto;padding:24px 32px 64px}
.lib-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:20px}
.lib-empty{grid-column:1/-1;text-align:center;padding:80px 24px;color:var(--text-light-gray);font-size:15px}
.lib-card{background:var(--bg-white);border:1px solid var(--border-color);border-radius:var(--rounded-xl);overflow:hidden;transition:box-shadow var(--transition-base),border-color var(--transition-base),transform var(--transition-base);cursor:pointer;display:flex;flex-direction:column}
.lib-card:hover{box-shadow:var(--shadow-purple-md);border-color:rgba(109,49,194,0.25);transform:translateY(-2px)}
.lib-card__preview{width:100%;height:220px;border-bottom:1px solid var(--border-color);background:var(--bg-light);position:relative;overflow:hidden}
.lib-card__preview iframe{width:100%;height:100%;border:none;pointer-events:none;transform-origin:top left}
.lib-card__body{padding:16px 18px;flex:1;display:flex;flex-direction:column}
.lib-card__top-row{display:flex;align-items:center;gap:8px;margin-bottom:8px;flex-wrap:wrap}
.lib-card__cat{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;padding:3px 9px;border-radius:var(--rounded-pill);background:rgba(109,49,194,0.08);color:var(--secondary-purple)}
.lib-card__id{font-size:10px;color:var(--text-light-gray);margin-left:auto;font-family:var(--font-dm)}
.lib-card__name{font-size:16px;font-weight:700;color:var(--text-dark);margin-bottom:6px;line-height:1.3}
.lib-card__desc{font-family:var(--font-dm);font-size:13px;color:var(--text-gray);line-height:1.5;margin-bottom:12px;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;flex:1}
.lib-card__phases{display:flex;gap:4px;flex-wrap:wrap;margin-bottom:10px}
.lib-card__phase{font-size:10px;padding:2px 8px;border-radius:var(--rounded-sm);background:var(--bg-light-gray);color:var(--text-gray);font-weight:500}
.lib-card__sources{font-size:10px;color:var(--text-light-gray);font-family:var(--font-dm);border-top:1px solid var(--border-color);padding-top:10px;margin-top:auto}
.lib-card__sources strong{color:var(--text-gray);font-weight:600}
.lib-overlay{position:fixed;inset:0;background:rgba(49,19,93,0.5);z-index:1000;display:none;align-items:flex-start;justify-content:center;padding:40px 24px;overflow-y:auto;backdrop-filter:blur(4px);animation:fadeIn var(--transition-base) ease}
.lib-overlay.open{display:flex}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.lib-modal{background:var(--bg-white);border-radius:var(--rounded-2xl);width:100%;max-width:900px;box-shadow:0 24px 64px rgba(49,19,93,0.3);animation:slideUp var(--transition-slow) ease;margin-bottom:40px}
.lib-modal__preview{width:100%;min-height:300px;max-height:450px;border-radius:var(--rounded-2xl) var(--rounded-2xl) 0 0;overflow:hidden;background:var(--bg-light);border-bottom:1px solid var(--border-color);position:relative}
.lib-modal__preview iframe{width:100%;height:400px;border:none}
.lib-modal__close{position:absolute;top:14px;right:14px;z-index:10;width:36px;height:36px;border-radius:50%;background:rgba(255,255,255,0.9);border:1px solid var(--border-color);display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;color:var(--text-dark);transition:background var(--transition-fast)}
.lib-modal__close:hover{background:var(--bg-white)}
.lib-modal__content{padding:28px 32px 32px}
.lib-modal__header{display:flex;align-items:flex-start;gap:12px;margin-bottom:20px;flex-wrap:wrap}
.lib-modal__title{font-size:24px;font-weight:800;color:var(--text-dark);flex:1;min-width:200px}
.lib-modal__desc{font-family:var(--font-dm);font-size:14px;color:var(--text-description);line-height:1.7;margin-bottom:24px}
.lib-modal__section{margin-bottom:24px}
.lib-modal__section-title{font-size:13px;font-weight:700;color:var(--primary-purple);text-transform:uppercase;letter-spacing:0.6px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid rgba(109,49,194,0.1)}
.lib-modal__phases-row{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:16px}
.lib-modal__sources-row{font-size:12px;color:var(--text-gray);font-family:var(--font-dm)}
.lib-modal__sources-row code{background:var(--bg-light-gray);padding:2px 6px;border-radius:var(--rounded-sm);font-size:11px;color:var(--secondary-purple);margin:0 2px}
@media(max-width:768px){
  .lib-header{padding:32px 20px}.lib-header__title{font-size:26px}
  .lib-toolbar{padding:10px 16px}.lib-grid-wrap{padding:16px 16px 48px}
  .lib-grid{grid-template-columns:1fr;gap:16px}
  .lib-modal__content{padding:20px}.lib-modal{max-width:100%}.lib-overlay{padding:20px 12px}
}
</style>
</head>
<body>
<header class="lib-header">
  <div class="lib-header__inner">
    <span class="lib-header__badge">Design Stack v2 &middot; Layer 8 Element Factory</span>
    <h1 class="lib-header__title">Library of Elements</h1>
    <p class="lib-header__sub">Browsable catalog of production-ready UI elements for the Split Lease guest journey. Each element includes live preview and design specs.</p>
    <div class="lib-header__meta">
      <span class="lib-header__meta-item"><strong>Run:</strong> 2026-02-19_1101</span>
      <span class="lib-header__meta-item"><strong>Journey:</strong> Guest</span>
      <span class="lib-header__meta-item"><strong>Elements:</strong> 7</span>
      <span class="lib-header__meta-item"><strong>Style:</strong> Split Lease Purple Palette</span>
    </div>
  </div>
</header>

<div class="lib-toolbar" id="toolbar">
  <div class="lib-toolbar__inner">
    <div class="lib-search">
      <span class="lib-search__icon">&#128269;</span>
      <input class="lib-search__input" type="text" id="searchInput" placeholder="Search elements by name or description...">
    </div>
    <div class="lib-filters">
      <div class="lib-filter-group">
        <button class="lib-filter-btn" data-filter="phase">Phase <span class="arrow">&#9662;</span></button>
        <div class="lib-filter-dropdown" data-filter-for="phase">
          <label class="lib-filter-option"><input type="checkbox" value="acceptance"> acceptance</label>
          <label class="lib-filter-option"><input type="checkbox" value="active_lease"> active lease</label>
          <label class="lib-filter-option"><input type="checkbox" value="discovery"> discovery</label>
          <label class="lib-filter-option"><input type="checkbox" value="listing_evaluation"> listing evaluation</label>
          <label class="lib-filter-option"><input type="checkbox" value="move_in"> move in</label>
          <label class="lib-filter-option"><input type="checkbox" value="negotiation"> negotiation</label>
          <label class="lib-filter-option"><input type="checkbox" value="proposal_creation"> proposal creation</label>
          <label class="lib-filter-option"><input type="checkbox" value="search"> search</label>
        </div>
      </div>
    </div>
    <span class="lib-count" id="resultCount">7 elements</span>
  </div>
</div>

<div class="lib-grid-wrap">
  <div class="lib-grid" id="elementGrid"></div>
</div>

<div class="lib-overlay" id="modalOverlay">
  <div class="lib-modal" id="modalContent"></div>
</div>

<script>
const ELEMENTS = [
  {
      id: "ds-ui-1101-001",
      name: "Monthly Cost Comparison Card - Budget-First Listing Evaluation",
      category: "card",
      source_elements: ["works-002","communicates-001","looks-001","behaves-002","feels-002"],
      journey_phases: ["search","listing_evaluation"],
      priority: "high",
      description: "A listing card that leads with the monthly cost for the guest's specific schedule, not the per-night rate. Shomit explicitly says 'I guess mainly I think of this per month and then I break it down per night' (line 65) and anchors his budget at '$2,500/month for a full lease' (line 68) and '$1,500 or less' for Split Lease (line 70). The current platform shows per-night pricing ($66/night), forcing every guest to mentally compute $66 x 4 nights x 4.3 weeks. This card eliminates that cognitive tax entirely. The monthly figure is the largest, boldest number on the card. A savings comparison line shows 'vs. $2,500/mo full-time lease' anchored to the guest's own stated reference frame. The per-night rate appears as a secondary detail. When the guest adjusts their schedule (adding or removing nights), the monthly figure animates smoothly from old value to new, providing the immediate feedback Csikszentmihalyi identifies as essential for flow. The card uses IBM Plex Mono for the savings line to signal data precision.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Monthly Cost Listing Card</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --chat-purple: rgb(75, 71, 206);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-light-gray: #9ca3af;
  --text-description: #374151;
  --bg-white: #ffffff;
  --bg-light: #f9fafb;
  --bg-light-gray: #f3f4f6;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-dm: 'DM Sans', sans-serif;
  --font-mono: 'IBM Plex Mono', monospace;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: var(--font-inter);
  background: var(--bg-light-gray);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 24px 16px;
}

.container { max-width: 480px; width: 100%; }

.page-context {
  font-size: 13px;
  color: var(--text-gray);
  font-family: var(--font-dm);
  margin-bottom: 8px;
}

.schedule-bar {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 16px;
  padding: 10px 14px;
  background: var(--bg-white);
  border-radius: 10px;
  border: 1px solid var(--border-color);
}

.schedule-bar__label {
  font-size: 12px;
  color: var(--text-gray);
  font-weight: 500;
  margin-right: 4px;
}

.day-badge {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  font-size: 13px;
  font-weight: 600;
  transition: all 0.15s ease;
  cursor: pointer;
  user-select: none;
}

.day-badge--active {
  background: var(--chat-purple);
  color: #ffffff;
}

.day-badge--inactive {
  background: var(--bg-light-gray);
  color: var(--text-light-gray);
}

.day-badge--inactive:hover {
  background: #e8e5f0;
  color: var(--text-gray);
}

/* Listing Card */
.listing-card {
  background: var(--bg-white);
  border-radius: 12px;
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  transition: box-shadow 0.2s ease;
}

.listing-card:hover {
  box-shadow: var(--shadow-md);
}

.listing-card__image {
  width: 100%;
  height: 180px;
  background: linear-gradient(135deg, #e8e5f0 0%, #d4cfe8 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-light-gray);
  font-size: 13px;
  font-family: var(--font-dm);
  position: relative;
}

.listing-card__badge {
  position: absolute;
  top: 12px;
  left: 12px;
  background: rgba(49, 19, 93, 0.9);
  color: #ffffff;
  padding: 4px 10px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: 600;
}

.listing-card__body {
  padding: 16px;
}

.listing-card__neighborhood {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 4px;
}

.listing-card__type {
  font-size: 12px;
  color: var(--text-gray);
  font-family: var(--font-dm);
  margin-bottom: 14px;
}

/* Pricing Zone - Monthly is PRIMARY */
.pricing-zone {
  border-top: 1px solid var(--border-color);
  padding-top: 14px;
}

.monthly-cost {
  display: flex;
  align-items: baseline;
  gap: 4px;
  margin-bottom: 2px;
}

.monthly-cost__amount {
  font-size: 28px;
  font-weight: 700;
  color: var(--text-dark);
  line-height: 1.1;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.monthly-cost__period {
  font-size: 14px;
  font-weight: 400;
  color: var(--text-gray);
}

.monthly-cost__schedule {
  font-size: 12px;
  color: var(--text-gray);
  margin-bottom: 6px;
}

.per-night {
  font-size: 13px;
  color: var(--text-gray);
  margin-bottom: 8px;
}

.savings-line {
  font-family: var(--font-mono);
  font-size: 12px;
  color: #5A6370;
  letter-spacing: 0;
  padding: 6px 10px;
  background: var(--bg-off-white);
  border-radius: 6px;
  display: inline-block;
}

.savings-line__pct {
  color: var(--secondary-purple);
  font-weight: 500;
}

/* Day Schedule Badges in Card */
.card-schedule {
  display: flex;
  gap: 4px;
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid var(--border-color);
}

.card-day {
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  font-size: 11px;
  font-weight: 600;
}

.card-day--yours {
  background: var(--chat-purple);
  color: #ffffff;
}

.card-day--other {
  background: var(--bg-light-gray);
  color: var(--text-light-gray);
}

.card-schedule__label {
  font-size: 10px;
  color: var(--text-light-gray);
  margin-left: auto;
  align-self: center;
}

/* Save Button - Lightweight */
.save-btn {
  margin-top: 14px;
  width: 100%;
  padding: 10px 20px;
  background: transparent;
  color: var(--secondary-purple);
  border: 1.5px solid var(--secondary-purple);
  border-radius: 20px;
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease;
}

.save-btn:hover {
  background: rgba(109, 49, 194, 0.06);
}

.save-btn:active {
  background: rgba(109, 49, 194, 0.12);
}

.save-btn--saved {
  background: rgba(109, 49, 194, 0.08);
  color: var(--secondary-purple);
  border-color: transparent;
}

.no-commit {
  font-size: 11px;
  color: var(--text-light-gray);
  text-align: center;
  margin-top: 6px;
  font-family: var(--font-dm);
}

@media (max-width: 480px) {
  body { padding: 16px 12px; }
  .monthly-cost__amount { font-size: 24px; }
}
</style>
</head>
<body>
<div class="container">
  <div class="page-context">Your search: Mon-Thu, Upper West Side area</div>
  <div class="schedule-bar">
    <span class="schedule-bar__label">Your nights:</span>
    <div class="day-badge day-badge--active">M</div>
    <div class="day-badge day-badge--active">T</div>
    <div class="day-badge day-badge--active">W</div>
    <div class="day-badge day-badge--active">Th</div>
    <div class="day-badge day-badge--inactive">F</div>
    <div class="day-badge day-badge--inactive">Sa</div>
    <div class="day-badge day-badge--inactive">Su</div>
  </div>

  <div class="listing-card">
    <div class="listing-card__image">
      Upper West Side - 1BR Furnished
      <span class="listing-card__badge">Available May</span>
    </div>
    <div class="listing-card__body">
      <div class="listing-card__neighborhood">Upper West Side</div>
      <div class="listing-card__type">1 bedroom, furnished, doorman building</div>

      <div class="pricing-zone">
        <div class="monthly-cost">
          <span class="monthly-cost__amount">\$1,056</span>
          <span class="monthly-cost__period">/mo</span>
        </div>
        <div class="monthly-cost__schedule">for your Mon-Thu schedule (4 nights/wk)</div>
        <div class="per-night">\$66/night all-inclusive</div>
        <div class="savings-line">
          vs. \$2,500/mo full-time lease: you save <span class="savings-line__pct">58%</span>
        </div>
      </div>

      <div class="card-schedule">
        <div class="card-day card-day--yours">M</div>
        <div class="card-day card-day--yours">T</div>
        <div class="card-day card-day--yours">W</div>
        <div class="card-day card-day--yours">Th</div>
        <div class="card-day card-day--other">F</div>
        <div class="card-day card-day--other">Sa</div>
        <div class="card-day card-day--other">Su</div>
        <span class="card-schedule__label">Your nights</span>
      </div>

      <button class="save-btn">Save this property</button>
      <div class="no-commit">No commitment. Remove anytime.</div>
    </div>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1101-002",
      name: "Co-Tenancy Timeline Explainer - Visual Split Diagram",
      category: "card",
      source_elements: ["works-003","communicates-002","looks-003","behaves-005","feels-003"],
      journey_phases: ["discovery","listing_evaluation"],
      priority: "high",
      description: "A visual co-tenancy explainer that replaces the verbal 'ghost roommates' metaphor with a concrete spatial diagram. When Shomit asks 'Where does that other person go?' (line 18), his first co-tenancy question is spatial, demanding a spatial answer. His triple hedge ('I guess that's fine... I guess that's fine') reveals unresolved processing that text cannot resolve. This component shows a week-long timeline with the guest's days in brand purple and the co-tenant's days in neutral gray, using the day-badge visual language from the style guide. Below the timeline, three concrete facts address the unasked questions: private storage, cleaning between transitions, and no overlap guarantee. The component uses calm, matter-of-fact language ('Your space, your schedule') rather than evocative metaphors. At discovery it shows the concept; at listing evaluation it shows the specific property's shared/private zones. Csikszentmihalyi's 'blind women' insight applies: guests who cannot see the shared-living reality need richer visual feedback to compensate.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Co-Tenancy Timeline</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --chat-purple: rgb(75, 71, 206);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-light-gray: #9ca3af;
  --text-description: #374151;
  --bg-white: #ffffff;
  --bg-light: #f9fafb;
  --bg-light-gray: #f3f4f6;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-dm: 'DM Sans', sans-serif;
  --font-mono: 'IBM Plex Mono', monospace;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: var(--font-inter);
  background: var(--bg-light-gray);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 24px 16px;
}

.container { max-width: 480px; width: 100%; }

/* Section Heading */
.section-heading {
  font-size: 20px;
  font-weight: 700;
  color: var(--text-dark);
  margin-bottom: 6px;
}

.section-subheading {
  font-size: 14px;
  color: var(--text-gray);
  line-height: 1.5;
  margin-bottom: 20px;
  font-family: var(--font-dm);
}

/* Co-Tenancy Card */
.cotenancy-card {
  background: var(--bg-white);
  border-radius: 12px;
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-sm);
  padding: 20px;
  animation: fadeIn 0.35s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

.cotenancy-card__title {
  font-size: 15px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 16px;
}

/* Week Timeline */
.week-timeline {
  display: flex;
  gap: 6px;
  margin-bottom: 8px;
  justify-content: center;
}

.week-day {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}

.week-day__badge {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
  font-weight: 600;
  transition: all 0.2s ease;
}

.week-day__badge--yours {
  background: var(--chat-purple);
  color: #ffffff;
}

.week-day__badge--other {
  background: var(--bg-light-gray);
  color: var(--text-light-gray);
}

.week-day__label {
  font-size: 10px;
  color: var(--text-light-gray);
  font-weight: 500;
}

/* Legend */
.timeline-legend {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 12px;
  margin-bottom: 20px;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: var(--text-gray);
  font-weight: 500;
}

.legend-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
}

.legend-dot--yours {
  background: var(--chat-purple);
}

.legend-dot--other {
  background: var(--bg-light-gray);
  border: 1px solid var(--border-color);
}

/* No Overlap Banner */
.no-overlap {
  background: var(--bg-off-white);
  border-left: 3px solid var(--secondary-purple);
  padding: 10px 14px;
  border-radius: 0 8px 8px 0;
  margin-bottom: 18px;
}

.no-overlap__text {
  font-size: 13px;
  font-weight: 600;
  color: var(--primary-purple);
}

.no-overlap__detail {
  font-size: 12px;
  color: var(--text-description);
  margin-top: 2px;
}

/* Facts List */
.facts-list {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.fact-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
}

.fact-item__icon {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: var(--bg-off-white);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  font-size: 12px;
  color: var(--secondary-purple);
  font-weight: 700;
}

.fact-item__content {
  flex: 1;
}

.fact-item__title {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 1px;
}

.fact-item__desc {
  font-size: 12px;
  color: var(--text-gray);
  line-height: 1.4;
}

/* Social Proof */
.social-proof {
  margin-top: 18px;
  padding-top: 14px;
  border-top: 1px solid var(--border-color);
  font-family: var(--font-mono);
  font-size: 11px;
  color: var(--text-gray);
  text-align: center;
}

@media (max-width: 380px) {
  .week-day__badge { width: 34px; height: 34px; font-size: 12px; }
  .week-timeline { gap: 4px; }
}
</style>
</head>
<body>
<div class="container">
  <div class="section-heading">Your space, your schedule</div>
  <div class="section-subheading">You use the apartment on your nights. A different guest uses it on theirs. You never overlap.</div>

  <div class="cotenancy-card">
    <div class="cotenancy-card__title">Your weekly schedule</div>

    <div class="week-timeline">
      <div class="week-day">
        <div class="week-day__badge week-day__badge--yours">M</div>
        <span class="week-day__label">Mon</span>
      </div>
      <div class="week-day">
        <div class="week-day__badge week-day__badge--yours">T</div>
        <span class="week-day__label">Tue</span>
      </div>
      <div class="week-day">
        <div class="week-day__badge week-day__badge--yours">W</div>
        <span class="week-day__label">Wed</span>
      </div>
      <div class="week-day">
        <div class="week-day__badge week-day__badge--yours">Th</div>
        <span class="week-day__label">Thu</span>
      </div>
      <div class="week-day">
        <div class="week-day__badge week-day__badge--other">F</div>
        <span class="week-day__label">Fri</span>
      </div>
      <div class="week-day">
        <div class="week-day__badge week-day__badge--other">Sa</div>
        <span class="week-day__label">Sat</span>
      </div>
      <div class="week-day">
        <div class="week-day__badge week-day__badge--other">Su</div>
        <span class="week-day__label">Sun</span>
      </div>
    </div>

    <div class="timeline-legend">
      <div class="legend-item">
        <div class="legend-dot legend-dot--yours"></div>
        Your nights
      </div>
      <div class="legend-item">
        <div class="legend-dot legend-dot--other"></div>
        Other guest's nights
      </div>
    </div>

    <div class="no-overlap">
      <div class="no-overlap__text">You never overlap</div>
      <div class="no-overlap__detail">Check-in Monday 1pm. Check-out Friday noon. The other guest arrives after you leave.</div>
    </div>

    <ul class="facts-list">
      <li class="fact-item">
        <div class="fact-item__icon">1</div>
        <div class="fact-item__content">
          <div class="fact-item__title">Your belongings stay</div>
          <div class="fact-item__desc">Dedicated closet and storage space for your personal items between visits.</div>
        </div>
      </li>
      <li class="fact-item">
        <div class="fact-item__icon">2</div>
        <div class="fact-item__content">
          <div class="fact-item__title">Cleaned between transitions</div>
          <div class="fact-item__desc">Professional cleaning after each guest's stay, before the next guest arrives.</div>
        </div>
      </li>
      <li class="fact-item">
        <div class="fact-item__icon">3</div>
        <div class="fact-item__content">
          <div class="fact-item__title">You approve your co-tenant</div>
          <div class="fact-item__desc">Meet them on a video call before signing anything. You can decline with no obligation.</div>
        </div>
      </li>
    </ul>

    <div class="social-proof">200+ professionals share space this way in NYC</div>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1101-003",
      name: "Process Progress Tracker - Multi-Week Journey Visibility",
      category: "card",
      source_elements: ["works-004","communicates-003","looks-002","behaves-003","feels-004"],
      journey_phases: ["search","proposal_creation","negotiation","acceptance"],
      priority: "high",
      description: "A persistent process tracker that addresses the two-to-three-week feedback void Shomit describes. When the agent tells him the process takes 'two or three weeks' (line 62), Shomit responds 'So like courtship' -- revealing he perceives the process as uncertain and open-ended. This tracker externalizes the process map as a persistent visual artifact visible on every authenticated page. It shows 5 named steps (Browse, Save, Match, Meet, Sign), the guest's current position highlighted in brand purple, a specific next action, and an estimated timeline. Between milestones, a heartbeat status line provides the 'watching plants grow day by day' feedback Csikszentmihalyi describes. The tracker is compact by default and expands on interaction to show all steps, preventing the process from feeling overwhelming while keeping progress visible. Each milestone completion triggers a smooth spring animation that provides symbolic 'I have succeeded' feedback.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Process Tracker</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-light-gray: #9ca3af;
  --text-description: #374151;
  --bg-white: #ffffff;
  --bg-light: #f9fafb;
  --bg-light-gray: #f3f4f6;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-dm: 'DM Sans', sans-serif;
  --font-mono: 'IBM Plex Mono', monospace;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: var(--font-inter);
  background: var(--bg-light-gray);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 24px 16px;
}

.container { max-width: 520px; width: 100%; }

/* Tracker Container */
.tracker {
  background: var(--bg-white);
  border-radius: 12px;
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  margin-bottom: 16px;
}

.tracker__header {
  padding: 14px 18px;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.tracker__title {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-dark);
}

.tracker__current {
  font-size: 12px;
  color: var(--secondary-purple);
  font-weight: 500;
  font-family: var(--font-dm);
}

/* Step Pipeline */
.tracker__pipeline {
  padding: 18px;
}

.pipeline {
  display: flex;
  align-items: center;
  gap: 0;
}

.pipeline__step {
  display: flex;
  align-items: center;
  flex: 1;
}

.pipeline__step:last-child {
  flex: 0;
}

.pipeline__dot {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 600;
  flex-shrink: 0;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.pipeline__dot--complete {
  background: var(--secondary-purple);
  color: #ffffff;
}

.pipeline__dot--active {
  background: var(--bg-white);
  border: 2.5px solid var(--secondary-purple);
  color: var(--secondary-purple);
  box-shadow: 0 0 0 4px rgba(109, 49, 194, 0.12);
  animation: activePulse 2s ease-in-out infinite;
}

@keyframes activePulse {
  0%, 100% { box-shadow: 0 0 0 4px rgba(109, 49, 194, 0.12); }
  50% { box-shadow: 0 0 0 6px rgba(109, 49, 194, 0.06); }
}

.pipeline__dot--pending {
  background: var(--bg-light-gray);
  color: var(--text-light-gray);
  border: 1px solid var(--border-color);
}

.pipeline__line {
  flex: 1;
  height: 2px;
  background: var(--border-color);
  margin: 0 4px;
}

.pipeline__line--complete {
  background: var(--secondary-purple);
}

/* Labels */
.pipeline__labels {
  display: flex;
  justify-content: space-between;
  padding: 10px 0 0;
}

.pipeline__label {
  font-size: 10px;
  color: var(--text-light-gray);
  text-align: center;
  flex: 1;
  font-weight: 500;
}

.pipeline__label--active {
  color: var(--secondary-purple);
  font-weight: 600;
}

.pipeline__label--complete {
  color: var(--text-gray);
}

/* Status Section */
.tracker__status {
  padding: 14px 18px;
  border-top: 1px solid var(--border-color);
  background: var(--bg-off-white);
}

.status-row {
  display: flex;
  align-items: flex-start;
  gap: 10px;
}

.status-indicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--accent-purple);
  margin-top: 5px;
  flex-shrink: 0;
  animation: statusPulse 1.5s ease-in-out infinite;
}

@keyframes statusPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.status-content {
  flex: 1;
}

.status-message {
  font-size: 13px;
  color: var(--text-dark);
  font-weight: 500;
  line-height: 1.4;
}

.status-detail {
  font-size: 12px;
  color: var(--text-gray);
  margin-top: 2px;
}

.status-time {
  font-family: var(--font-mono);
  font-size: 11px;
  color: var(--text-light-gray);
  margin-top: 4px;
}

/* Heartbeat History */
.heartbeat-section {
  background: var(--bg-white);
  border-radius: 12px;
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
}

.heartbeat-section__header {
  padding: 12px 18px;
  border-bottom: 1px solid var(--border-color);
  font-size: 12px;
  font-weight: 600;
  color: var(--text-gray);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.heartbeat-item {
  padding: 12px 18px;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.heartbeat-item:last-child {
  border-bottom: none;
}

.heartbeat-item__message {
  font-size: 13px;
  color: var(--text-dark);
  font-weight: 500;
}

.heartbeat-item__time {
  font-family: var(--font-mono);
  font-size: 11px;
  color: var(--text-light-gray);
  flex-shrink: 0;
  margin-left: 12px;
}

.heartbeat-item--milestone {
  background: var(--bg-off-white);
}

.heartbeat-item--milestone .heartbeat-item__message {
  color: var(--secondary-purple);
}

@media (max-width: 480px) {
  body { padding: 16px 12px; }
  .pipeline__dot { width: 26px; height: 26px; font-size: 10px; }
}
</style>
</head>
<body>
<div class="container">
  <div class="tracker">
    <div class="tracker__header">
      <span class="tracker__title">Your housing search</span>
      <span class="tracker__current">Step 3 of 5</span>
    </div>
    <div class="tracker__pipeline">
      <div class="pipeline">
        <div class="pipeline__step">
          <div class="pipeline__dot pipeline__dot--complete">1</div>
          <div class="pipeline__line pipeline__line--complete"></div>
        </div>
        <div class="pipeline__step">
          <div class="pipeline__dot pipeline__dot--complete">2</div>
          <div class="pipeline__line pipeline__line--complete"></div>
        </div>
        <div class="pipeline__step">
          <div class="pipeline__dot pipeline__dot--active">3</div>
          <div class="pipeline__line"></div>
        </div>
        <div class="pipeline__step">
          <div class="pipeline__dot pipeline__dot--pending">4</div>
          <div class="pipeline__line"></div>
        </div>
        <div class="pipeline__step">
          <div class="pipeline__dot pipeline__dot--pending">5</div>
        </div>
      </div>
      <div class="pipeline__labels">
        <div class="pipeline__label pipeline__label--complete">Browse</div>
        <div class="pipeline__label pipeline__label--complete">Save</div>
        <div class="pipeline__label pipeline__label--active">Match</div>
        <div class="pipeline__label">Meet</div>
        <div class="pipeline__label">Sign</div>
      </div>
    </div>
    <div class="tracker__status">
      <div class="status-row">
        <div class="status-indicator"></div>
        <div class="status-content">
          <div class="status-message">We're evaluating 2 co-tenant matches for your Mon-Thu schedule</div>
          <div class="status-detail">Upper West Side 1BR. Expect your match by Feb 25.</div>
          <div class="status-time">Updated 6 hours ago</div>
        </div>
      </div>
    </div>
  </div>

  <div class="heartbeat-section">
    <div class="heartbeat-section__header">Recent updates</div>
    <div class="heartbeat-item heartbeat-item--milestone">
      <span class="heartbeat-item__message">Property saved to your shortlist</span>
      <span class="heartbeat-item__time">Feb 20</span>
    </div>
    <div class="heartbeat-item">
      <span class="heartbeat-item__message">Matching started for Upper West Side 1BR</span>
      <span class="heartbeat-item__time">Feb 20</span>
    </div>
    <div class="heartbeat-item">
      <span class="heartbeat-item__message">1 potential co-tenant identified</span>
      <span class="heartbeat-item__time">Feb 22</span>
    </div>
    <div class="heartbeat-item">
      <span class="heartbeat-item__message">2 co-tenant candidates being evaluated</span>
      <span class="heartbeat-item__time">Today</span>
    </div>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1101-004",
      name: "Comparison Grid - Side-by-Side Listing Evaluation",
      category: "card",
      source_elements: ["works-001","communicates-004","looks-004","behaves-001","feels-001"],
      journey_phases: ["search","listing_evaluation"],
      priority: "high",
      description: "A comparison grid that enables the landscape-first evaluation Shomit demands before any action. He refuses to bid three times, insisting 'No, I want to see what the other options are' (line 52). This grid presents 2-3 listings side by side with identical data points aligned in rows: monthly cost, neighborhood, available nights, and a property photo. Every card uses the same layout, same typography positions, and same spacing so the guest can scan columns without re-orienting. The guest's schedule is set once at the top and applies to all results. Csikszentmihalyi's challenge-skill balance applies: comparing from memory exceeds working memory capacity, but side-by-side visual comparison brings the challenge within the guest's 'capacity to act.' The grid includes persistent filter controls and a subtle inline prompt that only appears after the guest has viewed multiple listings: 'Ready to save your favorites?'",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Compare Properties</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --chat-purple: rgb(75, 71, 206);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-light-gray: #9ca3af;
  --text-description: #374151;
  --bg-white: #ffffff;
  --bg-light: #f9fafb;
  --bg-light-gray: #f3f4f6;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-dm: 'DM Sans', sans-serif;
  --font-mono: 'IBM Plex Mono', monospace;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: var(--font-inter);
  background: var(--bg-light-gray);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 24px 16px;
}

.container { max-width: 740px; width: 100%; }

/* Filter Bar */
.filter-bar {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 16px;
  background: var(--bg-white);
  border-radius: 10px;
  border: 1px solid var(--border-color);
  margin-bottom: 16px;
  flex-wrap: wrap;
}

.filter-bar__label {
  font-size: 12px;
  color: var(--text-gray);
  font-weight: 500;
}

.filter-chip {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 5px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 500;
  border: 1px solid var(--border-color);
  background: var(--bg-white);
  color: var(--text-dark);
  cursor: pointer;
  transition: all 0.15s ease;
}

.filter-chip--active {
  background: var(--bg-off-white);
  border-color: var(--secondary-purple);
  color: var(--secondary-purple);
}

.filter-chip:hover {
  border-color: var(--secondary-purple);
}

.results-count {
  font-size: 12px;
  color: var(--text-light-gray);
  margin-left: auto;
  font-family: var(--font-mono);
}

/* Comparison Grid */
.compare-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-bottom: 16px;
}

.compare-card {
  background: var(--bg-white);
  border-radius: 12px;
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
  cursor: pointer;
}

.compare-card:hover {
  box-shadow: var(--shadow-md);
  border-color: rgba(109, 49, 194, 0.3);
}

.compare-card__image {
  width: 100%;
  height: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  color: var(--text-light-gray);
  font-family: var(--font-dm);
}

.compare-card__image--a { background: linear-gradient(135deg, #e8e5f0 0%, #d4cfe8 100%); }
.compare-card__image--b { background: linear-gradient(135deg, #e5e8f0 0%, #cfd4e8 100%); }
.compare-card__image--c { background: linear-gradient(135deg, #e8e5ec 0%, #d8cfe8 100%); }

.compare-card__body {
  padding: 12px;
}

/* Standardized Data Points - Same Position Every Card */
.compare-card__price {
  font-size: 20px;
  font-weight: 700;
  color: var(--text-dark);
  line-height: 1.1;
}

.compare-card__period {
  font-size: 12px;
  color: var(--text-gray);
  font-weight: 400;
  margin-bottom: 6px;
}

.compare-card__neighborhood {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 2px;
}

.compare-card__type {
  font-size: 11px;
  color: var(--text-gray);
  font-family: var(--font-dm);
  margin-bottom: 8px;
}

.compare-card__nights {
  display: flex;
  gap: 3px;
}

.mini-badge {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 9px;
  font-weight: 600;
}

.mini-badge--yours {
  background: var(--chat-purple);
  color: #ffffff;
}

.mini-badge--other {
  background: var(--bg-light-gray);
  color: var(--text-light-gray);
}

.compare-card__save {
  margin-top: 10px;
  width: 100%;
  padding: 7px 12px;
  background: transparent;
  color: var(--secondary-purple);
  border: 1px solid var(--secondary-purple);
  border-radius: 20px;
  font-family: var(--font-inter);
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.15s ease;
}

.compare-card__save:hover {
  background: rgba(109, 49, 194, 0.06);
}

/* Orientation Prompt */
.orientation-prompt {
  text-align: center;
  padding: 12px;
  font-size: 13px;
  color: var(--text-gray);
  font-family: var(--font-dm);
}

.orientation-prompt__count {
  color: var(--secondary-purple);
  font-weight: 600;
}

@media (max-width: 600px) {
  .compare-grid {
    grid-template-columns: 1fr;
  }
  .compare-card__image { height: 100px; }
}
</style>
</head>
<body>
<div class="container">
  <div class="filter-bar">
    <span class="filter-bar__label">Filters:</span>
    <div class="filter-chip filter-chip--active">Mon-Thu</div>
    <div class="filter-chip filter-chip--active">Under \$1,500/mo</div>
    <div class="filter-chip">Upper West Side</div>
    <span class="results-count">3 matches</span>
  </div>

  <div class="compare-grid">
    <div class="compare-card">
      <div class="compare-card__image compare-card__image--a">1BR Furnished</div>
      <div class="compare-card__body">
        <div class="compare-card__price">\$1,056<span class="compare-card__period">/mo</span></div>
        <div class="compare-card__neighborhood">Upper West Side</div>
        <div class="compare-card__type">1 bed, doorman</div>
        <div class="compare-card__nights">
          <div class="mini-badge mini-badge--yours">M</div>
          <div class="mini-badge mini-badge--yours">T</div>
          <div class="mini-badge mini-badge--yours">W</div>
          <div class="mini-badge mini-badge--yours">T</div>
          <div class="mini-badge mini-badge--other">F</div>
          <div class="mini-badge mini-badge--other">S</div>
          <div class="mini-badge mini-badge--other">S</div>
        </div>
        <button class="compare-card__save">Save</button>
      </div>
    </div>

    <div class="compare-card">
      <div class="compare-card__image compare-card__image--b">Studio Furnished</div>
      <div class="compare-card__body">
        <div class="compare-card__price">\$880<span class="compare-card__period">/mo</span></div>
        <div class="compare-card__neighborhood">Midtown West</div>
        <div class="compare-card__type">Studio, walk-up</div>
        <div class="compare-card__nights">
          <div class="mini-badge mini-badge--yours">M</div>
          <div class="mini-badge mini-badge--yours">T</div>
          <div class="mini-badge mini-badge--yours">W</div>
          <div class="mini-badge mini-badge--yours">T</div>
          <div class="mini-badge mini-badge--other">F</div>
          <div class="mini-badge mini-badge--other">S</div>
          <div class="mini-badge mini-badge--other">S</div>
        </div>
        <button class="compare-card__save">Save</button>
      </div>
    </div>

    <div class="compare-card">
      <div class="compare-card__image compare-card__image--c">1BR Furnished</div>
      <div class="compare-card__body">
        <div class="compare-card__price">\$1,210<span class="compare-card__period">/mo</span></div>
        <div class="compare-card__neighborhood">Morningside Heights</div>
        <div class="compare-card__type">1 bed, laundry</div>
        <div class="compare-card__nights">
          <div class="mini-badge mini-badge--yours">M</div>
          <div class="mini-badge mini-badge--yours">T</div>
          <div class="mini-badge mini-badge--yours">W</div>
          <div class="mini-badge mini-badge--yours">T</div>
          <div class="mini-badge mini-badge--other">F</div>
          <div class="mini-badge mini-badge--other">S</div>
          <div class="mini-badge mini-badge--other">S</div>
        </div>
        <button class="compare-card__save">Save</button>
      </div>
    </div>
  </div>

  <div class="orientation-prompt">
    You've viewed <span class="orientation-prompt__count">3 properties</span> matching your schedule. Save any that interest you.
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1101-005",
      name: "Verify This Space - Physical Verification Pathway",
      category: "card",
      source_elements: ["works-005","communicates-005","looks-006","behaves-001","feels-006"],
      journey_phases: ["listing_evaluation","proposal_creation"],
      priority: "high",
      description: "A verification section on the listing page that directly addresses Shomit's question 'is it possible to see the unit? Is that allowed?' (line 29). The phrasing 'is that allowed?' reveals two failures: the guest does not know physical viewing exists, and feels uncertain about his agency in the process. This section surfaces verification proactively between the photo gallery and the save button, positioned exactly where the guest's natural evaluation sequence expects it: see the listing, verify the space, then decide. It offers both 'Schedule a Visit' (if available) and 'Take Virtual Tour' (always available) as distinct pathways. A warm off-white background with a left border accent in brand purple visually differentiates it from surrounding content, creating a 'pause' in the page flow. Lived-in-condition photos are labeled with timestamps in IBM Plex Mono to signal authenticity. Csikszentmihalyi's 'blind women' insight applies: guests who cannot see the physical reality need richer compensatory feedback.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Verify This Space</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-light-gray: #9ca3af;
  --text-description: #374151;
  --bg-white: #ffffff;
  --bg-light: #f9fafb;
  --bg-light-gray: #f3f4f6;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-dm: 'DM Sans', sans-serif;
  --font-mono: 'IBM Plex Mono', monospace;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: var(--font-inter);
  background: var(--bg-light-gray);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 24px 16px;
}

.container { max-width: 480px; width: 100%; }

.page-context {
  font-size: 13px;
  color: var(--text-gray);
  font-family: var(--font-dm);
  margin-bottom: 12px;
}

/* Listing Summary */
.listing-summary {
  background: var(--bg-white);
  border-radius: 12px;
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-sm);
  padding: 16px;
  margin-bottom: 16px;
}

.listing-summary__name {
  font-size: 16px;
  font-weight: 700;
  color: var(--text-dark);
  margin-bottom: 2px;
}

.listing-summary__price {
  font-size: 20px;
  font-weight: 700;
  color: var(--text-dark);
}

.listing-summary__schedule {
  font-size: 12px;
  color: var(--text-gray);
  font-family: var(--font-dm);
}

/* Verify Section */
.verify-section {
  background: var(--bg-off-white);
  border-left: 3px solid var(--secondary-purple);
  border-radius: 0 12px 12px 0;
  padding: 20px;
  margin-bottom: 16px;
  animation: fadeIn 0.35s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}

.verify-section__heading {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 4px;
}

.verify-section__subheading {
  font-size: 13px;
  color: var(--text-gray);
  margin-bottom: 16px;
  font-family: var(--font-dm);
}

/* Verification Pathways */
.verify-pathways {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 18px;
}

.verify-pathway {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px;
  background: var(--bg-white);
  border-radius: 10px;
  border: 1px solid var(--border-color);
  cursor: pointer;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.verify-pathway:hover {
  border-color: var(--secondary-purple);
  box-shadow: var(--shadow-sm);
}

.verify-pathway__icon {
  width: 40px;
  height: 40px;
  border-radius: 10px;
  background: var(--bg-off-white);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  font-size: 18px;
}

.verify-pathway__content {
  flex: 1;
}

.verify-pathway__title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 1px;
}

.verify-pathway__desc {
  font-size: 12px;
  color: var(--text-gray);
}

.verify-pathway__arrow {
  color: var(--text-light-gray);
  font-size: 18px;
  flex-shrink: 0;
}

/* Actual Condition Photos */
.condition-section {
  margin-bottom: 4px;
}

.condition-label {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-gray);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 8px;
}

.condition-photos {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 6px;
}

.condition-photo {
  aspect-ratio: 1;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  color: var(--text-light-gray);
  font-family: var(--font-dm);
  position: relative;
}

.condition-photo--a { background: linear-gradient(135deg, #e8e5f0, #d4cfe8); }
.condition-photo--b { background: linear-gradient(135deg, #e5e8f0, #cfd4e8); }
.condition-photo--c { background: linear-gradient(135deg, #ece8f0, #dcd4e8); }

.condition-photo__badge {
  position: absolute;
  bottom: 4px;
  left: 4px;
  font-family: var(--font-mono);
  font-size: 9px;
  background: rgba(0,0,0,0.6);
  color: #ffffff;
  padding: 2px 6px;
  border-radius: 4px;
}

/* Save Button Below */
.save-section {
  background: var(--bg-white);
  border-radius: 12px;
  border: 1px solid var(--border-color);
  padding: 16px;
  text-align: center;
}

.save-btn {
  width: 100%;
  padding: 12px 24px;
  background: transparent;
  color: var(--secondary-purple);
  border: 1.5px solid var(--secondary-purple);
  border-radius: 20px;
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.2s ease;
}

.save-btn:hover {
  background: rgba(109, 49, 194, 0.06);
}

.save-note {
  font-size: 11px;
  color: var(--text-light-gray);
  margin-top: 6px;
  font-family: var(--font-dm);
}

@media (max-width: 480px) {
  body { padding: 16px 12px; }
}
</style>
</head>
<body>
<div class="container">
  <div class="page-context">Listing detail</div>

  <div class="listing-summary">
    <div class="listing-summary__name">Upper West Side - 1BR Furnished</div>
    <div class="listing-summary__price">\$1,056/mo</div>
    <div class="listing-summary__schedule">for your Mon-Thu schedule</div>
  </div>

  <div class="verify-section">
    <div class="verify-section__heading">See this space</div>
    <div class="verify-section__subheading">Verify before you save. No commitment required.</div>

    <div class="verify-pathways">
      <div class="verify-pathway">
        <div class="verify-pathway__icon">&#128205;</div>
        <div class="verify-pathway__content">
          <div class="verify-pathway__title">Schedule a visit</div>
          <div class="verify-pathway__desc">Available: Feb 25, 26, 27 between 10am-4pm</div>
        </div>
        <span class="verify-pathway__arrow">&rsaquo;</span>
      </div>
      <div class="verify-pathway">
        <div class="verify-pathway__icon">&#127909;</div>
        <div class="verify-pathway__content">
          <div class="verify-pathway__title">Take a 2-minute video walkthrough</div>
          <div class="verify-pathway__desc">Every room, filmed between guest transitions</div>
        </div>
        <span class="verify-pathway__arrow">&rsaquo;</span>
      </div>
    </div>

    <div class="condition-section">
      <div class="condition-label">Actual condition photos</div>
      <div class="condition-photos">
        <div class="condition-photo condition-photo--a">
          Living room
          <span class="condition-photo__badge">Feb 18</span>
        </div>
        <div class="condition-photo condition-photo--b">
          Bedroom
          <span class="condition-photo__badge">Feb 18</span>
        </div>
        <div class="condition-photo condition-photo--c">
          Kitchen
          <span class="condition-photo__badge">Feb 18</span>
        </div>
      </div>
    </div>
  </div>

  <div class="save-section">
    <button class="save-btn">Save this property</button>
    <div class="save-note">No commitment until you sign a lease.</div>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1101-006",
      name: "Co-Tenant Meeting Prep Card - Zoom Preparation Module",
      category: "card",
      source_elements: ["works-003","communicates-002","looks-003","behaves-005","feels-003"],
      journey_phases: ["negotiation"],
      priority: "high",
      description: "A preparation card delivered 24-48 hours before the Zoom co-tenant meeting, addressing the social anxiety Csikszentmihalyi identifies: 'if a person feels self-conscious, he or she will dread establishing informal contacts' (lines 295-296). The agent describes the meeting vaguely: 'you will meet on zoom that person, and you will talk to the tourist' (line 57). This card transforms an unstructured, anxiety-producing social interaction into a manageable, structured one. It includes: the co-tenant's first name and professional context, 5 suggested conversation questions, the same day-badge timeline showing the schedule split, and an explicit reassurance: 'You can decline after meeting. No obligation.' The card uses calm, normalizing language and the same visual continuity as the discovery co-tenancy diagram, so the guest recognizes it as a continuation of information they already absorbed.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meeting Prep</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --chat-purple: rgb(75, 71, 206);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-light-gray: #9ca3af;
  --text-description: #374151;
  --bg-white: #ffffff;
  --bg-light: #f9fafb;
  --bg-light-gray: #f3f4f6;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-dm: 'DM Sans', sans-serif;
  --font-mono: 'IBM Plex Mono', monospace;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: var(--font-inter);
  background: var(--bg-light-gray);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 24px 16px;
}

.container { max-width: 480px; width: 100%; }

/* Header */
.prep-header {
  margin-bottom: 16px;
}

.prep-header__badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: var(--bg-off-white);
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: 600;
  color: var(--secondary-purple);
  margin-bottom: 10px;
}

.prep-header__dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--secondary-purple);
}

.prep-header__title {
  font-size: 20px;
  font-weight: 700;
  color: var(--text-dark);
  margin-bottom: 4px;
}

.prep-header__subtitle {
  font-size: 13px;
  color: var(--text-gray);
  font-family: var(--font-dm);
}

/* Co-Tenant Profile */
.profile-card {
  background: var(--bg-white);
  border-radius: 12px;
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-sm);
  padding: 16px;
  margin-bottom: 12px;
}

.profile-row {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 14px;
}

.profile-avatar {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: var(--bg-off-white);
  border: 2px solid var(--accent-purple);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: 600;
  color: var(--secondary-purple);
  flex-shrink: 0;
}

.profile-name {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-dark);
}

.profile-context {
  font-size: 12px;
  color: var(--text-gray);
  font-family: var(--font-dm);
  margin-top: 2px;
}

/* Mini Schedule */
.mini-schedule {
  display: flex;
  gap: 4px;
  margin-bottom: 12px;
}

.mini-day {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  font-weight: 600;
}

.mini-day--yours { background: var(--chat-purple); color: #ffffff; }
.mini-day--theirs { background: var(--bg-light-gray); color: var(--text-light-gray); }

.schedule-note {
  font-size: 11px;
  color: var(--text-gray);
  font-family: var(--font-dm);
}

/* Questions Section */
.questions-card {
  background: var(--bg-white);
  border-radius: 12px;
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-sm);
  padding: 16px;
  margin-bottom: 12px;
}

.questions-card__title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 12px;
}

.question-list {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.question-item {
  display: flex;
  align-items: flex-start;
  gap: 8px;
}

.question-number {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: var(--bg-off-white);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 600;
  color: var(--secondary-purple);
  flex-shrink: 0;
  margin-top: 1px;
}

.question-text {
  font-size: 13px;
  color: var(--text-description);
  line-height: 1.4;
}

/* Reassurance */
.reassurance {
  background: var(--bg-off-white);
  border-left: 3px solid var(--accent-purple);
  border-radius: 0 10px 10px 0;
  padding: 14px 16px;
  margin-bottom: 12px;
}

.reassurance__text {
  font-size: 13px;
  font-weight: 600;
  color: var(--primary-purple);
  margin-bottom: 2px;
}

.reassurance__detail {
  font-size: 12px;
  color: var(--text-description);
  line-height: 1.4;
}

/* Meeting Details */
.meeting-details {
  background: var(--primary-purple);
  border-radius: 12px;
  padding: 16px;
  color: #ffffff;
}

.meeting-details__title {
  font-size: 14px;
  font-weight: 700;
  margin-bottom: 10px;
}

.meeting-details__row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 0;
}

.meeting-details__label {
  font-size: 12px;
  opacity: 0.7;
}

.meeting-details__value {
  font-size: 13px;
  font-weight: 600;
}

.meeting-btn {
  margin-top: 14px;
  width: 100%;
  padding: 12px 24px;
  background: var(--accent-purple);
  color: #ffffff;
  border: none;
  border-radius: 20px;
  font-family: var(--font-inter);
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: opacity 0.2s ease;
}

.meeting-btn:hover { opacity: 0.9; }

@media (max-width: 480px) {
  body { padding: 16px 12px; }
}
</style>
</head>
<body>
<div class="container">
  <div class="prep-header">
    <div class="prep-header__badge">
      <span class="prep-header__dot"></span>
      Meeting in 2 days
    </div>
    <div class="prep-header__title">Meet your co-tenant</div>
    <div class="prep-header__subtitle">A quick video call to make sure you're both comfortable</div>
  </div>

  <div class="profile-card">
    <div class="profile-row">
      <div class="profile-avatar">S</div>
      <div>
        <div class="profile-name">Sarah</div>
        <div class="profile-context">Consultant, uses the apartment on weekends</div>
      </div>
    </div>
    <div class="mini-schedule">
      <div class="mini-day mini-day--yours">M</div>
      <div class="mini-day mini-day--yours">T</div>
      <div class="mini-day mini-day--yours">W</div>
      <div class="mini-day mini-day--yours">Th</div>
      <div class="mini-day mini-day--theirs">F</div>
      <div class="mini-day mini-day--theirs">Sa</div>
      <div class="mini-day mini-day--theirs">Su</div>
    </div>
    <div class="schedule-note">Your nights: Mon-Thu. Sarah's nights: Fri-Sun. No overlap.</div>
  </div>

  <div class="questions-card">
    <div class="questions-card__title">Good questions to ask</div>
    <ul class="question-list">
      <li class="question-item">
        <span class="question-number">1</span>
        <span class="question-text">What brings you to NYC on weekends?</span>
      </li>
      <li class="question-item">
        <span class="question-number">2</span>
        <span class="question-text">How do you usually keep shared spaces tidy?</span>
      </li>
      <li class="question-item">
        <span class="question-number">3</span>
        <span class="question-text">What time do you typically arrive on Friday?</span>
      </li>
      <li class="question-item">
        <span class="question-number">4</span>
        <span class="question-text">Any preferences for shared kitchen or bathroom items?</span>
      </li>
      <li class="question-item">
        <span class="question-number">5</span>
        <span class="question-text">Have you done shared living before? How was it?</span>
      </li>
    </ul>
  </div>

  <div class="reassurance">
    <div class="reassurance__text">You can decline after meeting</div>
    <div class="reassurance__detail">This call is for your comfort. If you don't feel right about the match, say no -- we'll find another. No obligation, no penalty.</div>
  </div>

  <div class="meeting-details">
    <div class="meeting-details__title">Meeting details</div>
    <div class="meeting-details__row">
      <span class="meeting-details__label">When</span>
      <span class="meeting-details__value">Thursday, Feb 27 at 6:00 PM</span>
    </div>
    <div class="meeting-details__row">
      <span class="meeting-details__label">Duration</span>
      <span class="meeting-details__value">15 minutes</span>
    </div>
    <div class="meeting-details__row">
      <span class="meeting-details__label">Where</span>
      <span class="meeting-details__value">Zoom (link in your email)</span>
    </div>
    <div class="meeting-details__row">
      <span class="meeting-details__label">Property</span>
      <span class="meeting-details__value">Upper West Side 1BR</span>
    </div>
    <button class="meeting-btn">Join Meeting</button>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1101-007",
      name: "Stays Manager - Active Lease Weekly Flow Tracker",
      category: "card",
      source_elements: ["works-004","communicates-003","looks-002","behaves-003","feels-004"],
      journey_phases: ["active_lease","move_in"],
      priority: "high",
      description: "A weekly stays manager for the active lease phase that transforms the passive passage of time into visible engagement markers. Csikszentmihalyi's distinction between pleasure and enjoyment is directly relevant: a comfortable apartment provides pleasure, but the active lease phase must go beyond pleasure to create enjoyment -- 'a sense of novelty, of accomplishment' (line 139). This component shows the current week's schedule, an arrival checklist for move-in, a running history of completed stays, and a co-tenancy status indicator confirming the space was cleaned between transitions. Each week adds a completed stay to the timeline, providing the 'watching plants grow day by day' incremental feedback that sustains engagement across a multi-month lease. A micro-review prompt at each weekly stay cycle supports the review accumulation pattern identified across multiple pipeline runs. The component personalizes to the guest's specific schedule and property.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stays Manager</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --chat-purple: rgb(75, 71, 206);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-light-gray: #9ca3af;
  --text-description: #374151;
  --bg-white: #ffffff;
  --bg-light: #f9fafb;
  --bg-light-gray: #f3f4f6;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-dm: 'DM Sans', sans-serif;
  --font-mono: 'IBM Plex Mono', monospace;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: var(--font-inter);
  background: var(--bg-light-gray);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 24px 16px;
}

.container { max-width: 480px; width: 100%; }

/* Header */
.stays-header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: 16px;
}

.stays-header__title {
  font-size: 20px;
  font-weight: 700;
  color: var(--text-dark);
}

.stays-header__property {
  font-size: 12px;
  color: var(--text-gray);
  font-family: var(--font-dm);
}

/* Current Week Card */
.current-week {
  background: var(--bg-white);
  border-radius: 12px;
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-md);
  overflow: hidden;
  margin-bottom: 16px;
}

.current-week__banner {
  background: var(--primary-purple);
  padding: 14px 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.current-week__label {
  font-size: 14px;
  font-weight: 700;
  color: #ffffff;
}

.current-week__dates {
  font-size: 12px;
  color: rgba(255,255,255,0.8);
  font-family: var(--font-mono);
}

.current-week__body {
  padding: 16px;
}

/* Week Schedule */
.week-schedule {
  display: flex;
  gap: 6px;
  margin-bottom: 14px;
  justify-content: center;
}

.sched-day {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.sched-day__badge {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 600;
}

.sched-day__badge--yours { background: var(--chat-purple); color: #ffffff; }
.sched-day__badge--other { background: var(--bg-light-gray); color: var(--text-light-gray); }
.sched-day__badge--today {
  background: var(--chat-purple);
  color: #ffffff;
  box-shadow: 0 0 0 3px rgba(75, 71, 206, 0.2);
}

.sched-day__name {
  font-size: 9px;
  color: var(--text-light-gray);
  font-weight: 500;
}

/* Cleaning Status */
.cleaning-status {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  background: var(--bg-off-white);
  border-radius: 8px;
  margin-bottom: 14px;
}

.cleaning-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--secondary-purple);
  flex-shrink: 0;
}

.cleaning-text {
  font-size: 12px;
  color: var(--text-description);
}

.cleaning-time {
  font-family: var(--font-mono);
  font-size: 11px;
  color: var(--text-light-gray);
  margin-left: auto;
}

/* Micro Review Prompt */
.review-prompt {
  padding: 12px;
  background: var(--bg-light);
  border-radius: 8px;
  text-align: center;
}

.review-prompt__text {
  font-size: 13px;
  color: var(--text-dark);
  font-weight: 500;
  margin-bottom: 8px;
}

.review-stars {
  display: flex;
  justify-content: center;
  gap: 6px;
}

.review-star {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  border: 1px solid var(--border-color);
  background: var(--bg-white);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  cursor: pointer;
  transition: border-color 0.15s ease, background 0.15s ease;
}

.review-star:hover {
  border-color: var(--secondary-purple);
  background: var(--bg-off-white);
}

.review-note {
  font-size: 10px;
  color: var(--text-light-gray);
  margin-top: 6px;
  font-family: var(--font-dm);
}

/* Stay History */
.history-section {
  background: var(--bg-white);
  border-radius: 12px;
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
}

.history-header {
  padding: 12px 16px;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.history-header__title {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-dark);
}

.history-header__count {
  font-family: var(--font-mono);
  font-size: 11px;
  color: var(--secondary-purple);
  font-weight: 500;
}

.history-item {
  padding: 12px 16px;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.history-item:last-child { border-bottom: none; }

.history-item__week {
  font-size: 13px;
  font-weight: 500;
  color: var(--text-dark);
}

.history-item__dates {
  font-size: 11px;
  color: var(--text-gray);
  margin-top: 1px;
}

.history-item__status {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  font-weight: 500;
  color: var(--secondary-purple);
}

.history-check {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--secondary-purple);
  color: #ffffff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 9px;
}

@media (max-width: 480px) {
  body { padding: 16px 12px; }
  .sched-day__badge { width: 32px; height: 32px; font-size: 11px; }
}
</style>
</head>
<body>
<div class="container">
  <div class="stays-header">
    <div class="stays-header__title">Your Stays</div>
    <div class="stays-header__property">Upper West Side 1BR</div>
  </div>

  <div class="current-week">
    <div class="current-week__banner">
      <span class="current-week__label">This Week - Stay #5</span>
      <span class="current-week__dates">May 12 - May 16</span>
    </div>
    <div class="current-week__body">
      <div class="week-schedule">
        <div class="sched-day">
          <div class="sched-day__badge sched-day__badge--yours">M</div>
          <span class="sched-day__name">May 12</span>
        </div>
        <div class="sched-day">
          <div class="sched-day__badge sched-day__badge--today">T</div>
          <span class="sched-day__name">Today</span>
        </div>
        <div class="sched-day">
          <div class="sched-day__badge sched-day__badge--yours">W</div>
          <span class="sched-day__name">May 14</span>
        </div>
        <div class="sched-day">
          <div class="sched-day__badge sched-day__badge--yours">Th</div>
          <span class="sched-day__name">May 15</span>
        </div>
        <div class="sched-day">
          <div class="sched-day__badge sched-day__badge--other">F</div>
          <span class="sched-day__name">May 16</span>
        </div>
        <div class="sched-day">
          <div class="sched-day__badge sched-day__badge--other">Sa</div>
          <span class="sched-day__name">May 17</span>
        </div>
        <div class="sched-day">
          <div class="sched-day__badge sched-day__badge--other">Su</div>
          <span class="sched-day__name">May 18</span>
        </div>
      </div>

      <div class="cleaning-status">
        <div class="cleaning-dot"></div>
        <span class="cleaning-text">Space cleaned before your arrival</span>
        <span class="cleaning-time">Mon 11am</span>
      </div>

      <div class="review-prompt">
        <div class="review-prompt__text">How was last week's stay?</div>
        <div class="review-stars">
          <div class="review-star">1</div>
          <div class="review-star">2</div>
          <div class="review-star">3</div>
          <div class="review-star">4</div>
          <div class="review-star">5</div>
        </div>
        <div class="review-note">One tap. Builds your stay history over time.</div>
      </div>
    </div>
  </div>

  <div class="history-section">
    <div class="history-header">
      <span class="history-header__title">Completed Stays</span>
      <span class="history-header__count">4 of 6 weeks</span>
    </div>
    <div class="history-item">
      <div>
        <div class="history-item__week">Week 4</div>
        <div class="history-item__dates">May 5 - May 9</div>
      </div>
      <div class="history-item__status">
        <span class="history-check">&#10003;</span>
        Complete
      </div>
    </div>
    <div class="history-item">
      <div>
        <div class="history-item__week">Week 3</div>
        <div class="history-item__dates">Apr 28 - May 2</div>
      </div>
      <div class="history-item__status">
        <span class="history-check">&#10003;</span>
        Complete
      </div>
    </div>
    <div class="history-item">
      <div>
        <div class="history-item__week">Week 2</div>
        <div class="history-item__dates">Apr 21 - Apr 25</div>
      </div>
      <div class="history-item__status">
        <span class="history-check">&#10003;</span>
        Complete
      </div>
    </div>
    <div class="history-item">
      <div>
        <div class="history-item__week">Week 1</div>
        <div class="history-item__dates">Apr 14 - Apr 18</div>
      </div>
      <div class="history-item__status">
        <span class="history-check">&#10003;</span>
        Complete
      </div>
    </div>
  </div>
</div>
</body>
</html>`
    }
];

function createSrcdoc(snippet) {
  return snippet;
}

function renderCards() {
  const grid = document.getElementById('elementGrid');
  const search = document.getElementById('searchInput').value.toLowerCase();
  const checkedPhases = Array.from(document.querySelectorAll('[data-filter-for="phase"] input:checked')).map(c => c.value);

  let filtered = ELEMENTS.filter(el => {
    if (search && !el.name.toLowerCase().includes(search) && !el.description.toLowerCase().includes(search)) return false;
    if (checkedPhases.length && !el.journey_phases.some(p => checkedPhases.includes(p))) return false;
    return true;
  });

  document.getElementById('resultCount').textContent = filtered.length + ' element' + (filtered.length !== 1 ? 's' : '');

  if (!filtered.length) {
    grid.innerHTML = '<div class="lib-empty">No elements match your filters.</div>';
    return;
  }

  grid.innerHTML = filtered.map((el, i) => {
    const phases = el.journey_phases.map(p => '<span class="lib-card__phase">' + p.replace(/_/g, ' ') + '</span>').join('');
    const sources = el.source_elements.map(s => '<code>' + s + '</code>').join(' ');
    return '<div class="lib-card" data-idx="' + ELEMENTS.indexOf(el) + '">' +
      '<div class="lib-card__preview"><iframe srcdoc="' + escapeAttr(el.html_css_snippet) + '" loading="lazy" sandbox="allow-same-origin"></iframe></div>' +
      '<div class="lib-card__body">' +
        '<div class="lib-card__top-row"><span class="lib-card__cat">UI Element</span><span class="lib-card__id">' + el.id + '</span></div>' +
        '<div class="lib-card__name">' + el.name + '</div>' +
        '<div class="lib-card__desc">' + el.description + '</div>' +
        '<div class="lib-card__phases">' + phases + '</div>' +
        '<div class="lib-card__sources"><strong>Sources:</strong> ' + sources + '</div>' +
      '</div></div>';
  }).join('');
}

function escapeAttr(s) {
  return s.replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}

function openModal(idx) {
  const el = ELEMENTS[idx];
  const overlay = document.getElementById('modalOverlay');
  const modal = document.getElementById('modalContent');
  const phases = el.journey_phases.map(p => '<span class="lib-card__phase" style="font-size:12px;padding:4px 10px;">' + p.replace(/_/g, ' ') + '</span>').join('');
  const sources = el.source_elements.map(s => '<code>' + s + '</code>').join(' ');

  modal.innerHTML =
    '<div class="lib-modal__preview"><iframe srcdoc="' + escapeAttr(el.html_css_snippet) + '" sandbox="allow-same-origin"></iframe><button class="lib-modal__close" onclick="closeModal()">&times;</button></div>' +
    '<div class="lib-modal__content">' +
      '<div class="lib-modal__header"><h2 class="lib-modal__title">' + el.name + '</h2></div>' +
      '<p class="lib-modal__desc">' + el.description + '</p>' +
      '<div class="lib-modal__section"><div class="lib-modal__section-title">Journey Phases</div><div class="lib-modal__phases-row">' + phases + '</div></div>' +
      '<div class="lib-modal__section"><div class="lib-modal__section-title">Source Elements</div><div class="lib-modal__sources-row">' + sources + '</div></div>' +
    '</div>';

  overlay.classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  document.getElementById('modalOverlay').classList.remove('open');
  document.body.style.overflow = '';
}

// Event listeners
document.getElementById('searchInput').addEventListener('input', renderCards);
document.querySelectorAll('.lib-filter-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const dropdown = btn.nextElementSibling;
    dropdown.classList.toggle('open');
    btn.classList.toggle('active');
  });
});
document.querySelectorAll('.lib-filter-dropdown input').forEach(cb => {
  cb.addEventListener('change', renderCards);
});
document.getElementById('elementGrid').addEventListener('click', e => {
  const card = e.target.closest('.lib-card');
  if (card) openModal(parseInt(card.dataset.idx));
});
document.getElementById('modalOverlay').addEventListener('click', e => {
  if (e.target === e.currentTarget) closeModal();
});
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });
window.addEventListener('scroll', () => {
  document.getElementById('toolbar').classList.toggle('scrolled', window.scrollY > 10);
});

// Initial render
renderCards();
</script>
</body>
</html>