<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Library of Elements â€” Design Stack v2 | Run 2026-02-19_1000</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --primary-purple:#31135D;
  --secondary-purple:rgb(109,49,194);
  --accent-purple:rgb(140,104,238);
  --bg-white:#ffffff;
  --bg-light:#f9fafb;
  --bg-light-gray:#f3f4f6;
  --bg-off-white:rgb(252,250,255);
  --text-dark:#1a1a1a;
  --text-gray:#6b7280;
  --text-light-gray:#9ca3af;
  --text-description:#374151;
  --border-color:#e5e7eb;
  --shadow-sm:0 1px 3px rgba(0,0,0,0.05);
  --shadow-md:0 2px 8px rgba(0,0,0,0.08);
  --shadow-lg:0 4px 16px rgba(0,0,0,0.1);
  --shadow-purple-md:0 4px 8px rgba(49,19,93,0.15);
  --rounded-sm:4px;--rounded-md:6px;--rounded-lg:8px;--rounded-xl:12px;--rounded-2xl:16px;--rounded-pill:20px;
  --font-inter:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
  --font-dm:'DM Sans',sans-serif;
  --transition-fast:0.15s;--transition-base:0.2s;--transition-slow:0.3s;
}
html{scroll-behavior:smooth}
body{font-family:var(--font-inter);background:var(--bg-light);color:var(--text-dark);line-height:1.5;-webkit-font-smoothing:antialiased}
.lib-header{background:linear-gradient(135deg,#31135D 0%,#4a1f8a 50%,#5a2d8f 100%);padding:48px 32px 40px;position:relative;overflow:hidden}
.lib-header::before{content:'';position:absolute;top:-60%;right:-10%;width:500px;height:500px;background:radial-gradient(circle,rgba(140,104,238,0.15) 0%,transparent 70%);pointer-events:none}
.lib-header__inner{max-width:1320px;margin:0 auto;position:relative;z-index:1}
.lib-header__badge{display:inline-block;background:rgba(255,255,255,0.12);color:rgba(255,255,255,0.85);font-size:11px;font-weight:600;padding:4px 12px;border-radius:var(--rounded-pill);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:16px;backdrop-filter:blur(4px)}
.lib-header__title{font-size:36px;font-weight:800;color:#fff;margin-bottom:8px;letter-spacing:-0.5px}
.lib-header__sub{font-family:var(--font-dm);font-size:16px;color:rgba(255,255,255,0.7);max-width:600px;line-height:1.6}
.lib-header__meta{display:flex;gap:24px;margin-top:20px;flex-wrap:wrap}
.lib-header__meta-item{font-size:12px;color:rgba(255,255,255,0.55);font-family:var(--font-dm)}
.lib-header__meta-item strong{color:rgba(255,255,255,0.85);font-weight:600}
.lib-toolbar{position:sticky;top:0;z-index:100;background:rgba(255,255,255,0.92);backdrop-filter:blur(12px);border-bottom:1px solid var(--border-color);padding:12px 32px;transition:box-shadow var(--transition-base)}
.lib-toolbar.scrolled{box-shadow:var(--shadow-md)}
.lib-toolbar__inner{max-width:1320px;margin:0 auto;display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.lib-search{position:relative;flex:1;min-width:220px;max-width:400px}
.lib-search__input{width:100%;padding:9px 14px 9px 36px;border:1px solid var(--border-color);border-radius:var(--rounded-lg);font-family:var(--font-inter);font-size:13px;background:var(--bg-white);color:var(--text-dark);transition:border-color var(--transition-fast);outline:none}
.lib-search__input:focus{border-color:var(--secondary-purple)}
.lib-search__icon{position:absolute;left:11px;top:50%;transform:translateY(-50%);color:var(--text-light-gray);font-size:14px;pointer-events:none}
.lib-filters{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.lib-filter-group{position:relative}
.lib-filter-btn{display:inline-flex;align-items:center;gap:5px;padding:7px 14px;border:1px solid var(--border-color);border-radius:var(--rounded-lg);background:var(--bg-white);font-family:var(--font-inter);font-size:12px;font-weight:500;color:var(--text-gray);cursor:pointer;transition:border-color var(--transition-fast),color var(--transition-fast);white-space:nowrap}
.lib-filter-btn:hover,.lib-filter-btn.active{border-color:var(--secondary-purple);color:var(--secondary-purple)}
.lib-filter-btn .arrow{font-size:10px;margin-left:2px;transition:transform var(--transition-fast)}
.lib-filter-btn.active .arrow{transform:rotate(180deg)}
.lib-filter-dropdown{position:absolute;top:calc(100% + 4px);left:0;min-width:200px;background:var(--bg-white);border:1px solid var(--border-color);border-radius:var(--rounded-lg);box-shadow:var(--shadow-lg);padding:6px 0;display:none;z-index:200}
.lib-filter-dropdown.open{display:block}
.lib-filter-option{display:flex;align-items:center;gap:8px;padding:8px 14px;font-size:12px;color:var(--text-dark);cursor:pointer;transition:background var(--transition-fast)}
.lib-filter-option:hover{background:var(--bg-light)}
.lib-filter-option input[type=checkbox]{accent-color:var(--secondary-purple)}
.lib-count{font-size:12px;color:var(--text-light-gray);font-family:var(--font-dm);margin-left:auto;white-space:nowrap}
.lib-grid-wrap{max-width:1320px;margin:0 auto;padding:24px 32px 64px}
.lib-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:20px}
.lib-empty{grid-column:1/-1;text-align:center;padding:80px 24px;color:var(--text-light-gray);font-size:15px}
.lib-card{background:var(--bg-white);border:1px solid var(--border-color);border-radius:var(--rounded-xl);overflow:hidden;transition:box-shadow var(--transition-base),border-color var(--transition-base),transform var(--transition-base);cursor:pointer;display:flex;flex-direction:column}
.lib-card:hover{box-shadow:var(--shadow-purple-md);border-color:rgba(109,49,194,0.25);transform:translateY(-2px)}
.lib-card__preview{width:100%;height:220px;border-bottom:1px solid var(--border-color);background:var(--bg-light);position:relative;overflow:hidden}
.lib-card__preview iframe{width:100%;height:100%;border:none;pointer-events:none;transform-origin:top left}
.lib-card__body{padding:16px 18px;flex:1;display:flex;flex-direction:column}
.lib-card__top-row{display:flex;align-items:center;gap:8px;margin-bottom:8px;flex-wrap:wrap}
.lib-card__cat{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;padding:3px 9px;border-radius:var(--rounded-pill);background:rgba(109,49,194,0.08);color:var(--secondary-purple)}
.lib-card__id{font-size:10px;color:var(--text-light-gray);margin-left:auto;font-family:var(--font-dm)}
.lib-card__name{font-size:16px;font-weight:700;color:var(--text-dark);margin-bottom:6px;line-height:1.3}
.lib-card__desc{font-family:var(--font-dm);font-size:13px;color:var(--text-gray);line-height:1.5;margin-bottom:12px;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;flex:1}
.lib-card__phases{display:flex;gap:4px;flex-wrap:wrap;margin-bottom:10px}
.lib-card__phase{font-size:10px;padding:2px 8px;border-radius:var(--rounded-sm);background:var(--bg-light-gray);color:var(--text-gray);font-weight:500}
.lib-card__sources{font-size:10px;color:var(--text-light-gray);font-family:var(--font-dm);border-top:1px solid var(--border-color);padding-top:10px;margin-top:auto}
.lib-card__sources strong{color:var(--text-gray);font-weight:600}
.lib-overlay{position:fixed;inset:0;background:rgba(49,19,93,0.5);z-index:1000;display:none;align-items:flex-start;justify-content:center;padding:40px 24px;overflow-y:auto;backdrop-filter:blur(4px);animation:fadeIn var(--transition-base) ease}
.lib-overlay.open{display:flex}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.lib-modal{background:var(--bg-white);border-radius:var(--rounded-2xl);width:100%;max-width:900px;box-shadow:0 24px 64px rgba(49,19,93,0.3);animation:slideUp var(--transition-slow) ease;margin-bottom:40px}
.lib-modal__preview{width:100%;min-height:300px;max-height:450px;border-radius:var(--rounded-2xl) var(--rounded-2xl) 0 0;overflow:hidden;background:var(--bg-light);border-bottom:1px solid var(--border-color);position:relative}
.lib-modal__preview iframe{width:100%;height:400px;border:none}
.lib-modal__close{position:absolute;top:14px;right:14px;z-index:10;width:36px;height:36px;border-radius:50%;background:rgba(255,255,255,0.9);border:1px solid var(--border-color);display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;color:var(--text-dark);transition:background var(--transition-fast)}
.lib-modal__close:hover{background:var(--bg-white)}
.lib-modal__content{padding:28px 32px 32px}
.lib-modal__header{display:flex;align-items:flex-start;gap:12px;margin-bottom:20px;flex-wrap:wrap}
.lib-modal__title{font-size:24px;font-weight:800;color:var(--text-dark);flex:1;min-width:200px}
.lib-modal__desc{font-family:var(--font-dm);font-size:14px;color:var(--text-description);line-height:1.7;margin-bottom:24px}
.lib-modal__section{margin-bottom:24px}
.lib-modal__section-title{font-size:13px;font-weight:700;color:var(--primary-purple);text-transform:uppercase;letter-spacing:0.6px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid rgba(109,49,194,0.1)}
.lib-modal__phases-row{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:16px}
.lib-modal__sources-row{font-size:12px;color:var(--text-gray);font-family:var(--font-dm)}
.lib-modal__sources-row code{background:var(--bg-light-gray);padding:2px 6px;border-radius:var(--rounded-sm);font-size:11px;color:var(--secondary-purple);margin:0 2px}
@media(max-width:768px){
  .lib-header{padding:32px 20px}.lib-header__title{font-size:26px}
  .lib-toolbar{padding:10px 16px}.lib-grid-wrap{padding:16px 16px 48px}
  .lib-grid{grid-template-columns:1fr;gap:16px}
  .lib-modal__content{padding:20px}.lib-modal{max-width:100%}.lib-overlay{padding:20px 12px}
}
</style>
</head>
<body>
<header class="lib-header">
  <div class="lib-header__inner">
    <span class="lib-header__badge">Design Stack v2 &middot; Layer 8 Element Factory</span>
    <h1 class="lib-header__title">Library of Elements</h1>
    <p class="lib-header__sub">Browsable catalog of production-ready UI elements for the Split Lease host journey. Each element includes live preview and design specs.</p>
    <div class="lib-header__meta">
      <span class="lib-header__meta-item"><strong>Run:</strong> 2026-02-19_1000</span>
      <span class="lib-header__meta-item"><strong>Journey:</strong> Host</span>
      <span class="lib-header__meta-item"><strong>Elements:</strong> 7</span>
      <span class="lib-header__meta-item"><strong>Style:</strong> Split Lease Purple Palette</span>
    </div>
  </div>
</header>

<div class="lib-toolbar" id="toolbar">
  <div class="lib-toolbar__inner">
    <div class="lib-search">
      <span class="lib-search__icon">&#128269;</span>
      <input class="lib-search__input" type="text" id="searchInput" placeholder="Search elements by name or description...">
    </div>
    <div class="lib-filters">
      <div class="lib-filter-group">
        <button class="lib-filter-btn" data-filter="phase">Phase <span class="arrow">&#9662;</span></button>
        <div class="lib-filter-dropdown" data-filter-for="phase">
          <label class="lib-filter-option"><input type="checkbox" value="active_lease"> active lease</label>
          <label class="lib-filter-option"><input type="checkbox" value="evaluation"> evaluation</label>
          <label class="lib-filter-option"><input type="checkbox" value="listing_creation"> listing creation</label>
          <label class="lib-filter-option"><input type="checkbox" value="onboarding"> onboarding</label>
          <label class="lib-filter-option"><input type="checkbox" value="pricing"> pricing</label>
          <label class="lib-filter-option"><input type="checkbox" value="proposal_mgmt"> proposal mgmt</label>
        </div>
      </div>
    </div>
    <span class="lib-count" id="resultCount">7 elements</span>
  </div>
</div>

<div class="lib-grid-wrap">
  <div class="lib-grid" id="elementGrid"></div>
</div>

<div class="lib-overlay" id="modalOverlay">
  <div class="lib-modal" id="modalContent"></div>
</div>

<script>
const ELEMENTS = [
  {
      id: "ds-ui-1000-001",
      name: "Landlord-Vocabulary Financial Trust Stack - Presenting guest income in the language traditional landlords already think in",
      category: "card",
      source_elements: ["works-001","communicates-001","looks-001","feels-004","feels-001"],
      journey_phases: ["evaluation","proposal_mgmt"],
      priority: "high",
      description: "When Jason asks 'What's a total income between both of them?' at 06:14, he reveals that the landlord's decision tree starts with hard financial data, not platform vetting scores. Bryant could not answer precisely ('I'd have to look that up,' 06:21), leaving the evaluation gate unresolved. Cagan's business case framework (Ch. 6) states decisions require knowing value and cost -- if financial data is opaque, the host cannot form a business case. This element presents combined income, individual breakdowns, rent-to-income ratio, and verification badges in a single scannable card using monospace typography for numerical precision and the host's own vocabulary ('Income,' 'Credit,' 'References' -- not 'TrustScore' or 'Vetting Level'). The visual hierarchy puts the combined income figure at the top in the largest type, followed by verification badges, then the deposit structure, creating the 'precision-backed calm' that lets the landlord's internal calculator confirm 'yes, they can afford it' in under five seconds.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ds-ui-1000-001 Financial Trust Stack</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-purple: #31135D;
    --secondary-purple: rgb(109, 49, 194);
    --accent-purple: rgb(140, 104, 238);
    --bg-light-gray: #f3f4f6;
    --text-dark: #1a1a1a;
    --text-gray: #6b7280;
    --border-color: #e5e7eb;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light-gray);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
  }
  .card {
    background: #ffffff;
    border-radius: 16px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    max-width: 480px;
    width: 100%;
    overflow: hidden;
  }
  .card-header {
    background: var(--primary-purple);
    padding: 20px 24px;
    color: #fff;
  }
  .card-header h2 {
    font-size: 14px;
    font-weight: 500;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    opacity: 0.8;
    margin-bottom: 4px;
  }
  .card-header .label {
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    opacity: 0.7;
  }
  .financial-hero {
    padding: 32px 24px 16px;
    text-align: center;
    border-bottom: 1px solid var(--border-color);
  }
  .combined-label {
    font-size: 12px;
    color: var(--text-gray);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: 4px;
  }
  .combined-amount {
    font-family: 'Courier New', monospace;
    font-size: 36px;
    font-weight: 700;
    color: var(--text-dark);
    letter-spacing: -0.5px;
  }
  .ratio-badge {
    display: inline-block;
    margin-top: 8px;
    padding: 4px 12px;
    background: rgba(109, 49, 194, 0.08);
    color: var(--secondary-purple);
    border-radius: 20px;
    font-size: 13px;
    font-weight: 600;
  }
  .breakdown {
    display: flex;
    gap: 1px;
    background: var(--border-color);
  }
  .breakdown-item {
    flex: 1;
    background: #ffffff;
    padding: 16px;
    text-align: center;
  }
  .breakdown-name {
    font-size: 13px;
    color: var(--text-gray);
    margin-bottom: 4px;
  }
  .breakdown-amount {
    font-family: 'Courier New', monospace;
    font-size: 18px;
    font-weight: 600;
    color: var(--text-dark);
  }
  .verifications {
    padding: 20px 24px;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  .verify-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .verify-label {
    font-size: 14px;
    color: var(--text-dark);
  }
  .verify-badge {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
  }
  .badge-verified {
    background: rgba(109, 49, 194, 0.08);
    color: var(--secondary-purple);
  }
  .badge-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--secondary-purple);
  }
  .deposit-section {
    padding: 16px 24px 24px;
    border-top: 1px solid var(--border-color);
  }
  .deposit-title {
    font-size: 12px;
    color: var(--text-gray);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: 12px;
  }
  .deposit-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
  }
  .deposit-label {
    font-size: 14px;
    color: var(--text-dark);
  }
  .deposit-value {
    font-family: 'Courier New', monospace;
    font-size: 15px;
    font-weight: 600;
    color: var(--text-dark);
  }
  .deposit-total {
    margin-top: 8px;
    padding-top: 8px;
    border-top: 1px dashed var(--border-color);
  }
  .deposit-total .deposit-label {
    font-weight: 600;
    color: var(--secondary-purple);
  }
  .deposit-total .deposit-value {
    color: var(--secondary-purple);
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .combined-amount { font-size: 28px; }
    .breakdown-amount { font-size: 16px; }
    .card-header { padding: 16px 20px; }
    .financial-hero { padding: 24px 20px 12px; }
    .verifications { padding: 16px 20px; }
    .deposit-section { padding: 12px 20px 20px; }
  }
</style>
</head>
<body>
<div class="card">
  <div class="card-header">
    <h2>Financial Summary</h2>
    <span class="label">Ariel &amp; Amber -- Battery Park City 1BR</span>
  </div>
  <div class="financial-hero">
    <div class="combined-label">Combined Annual Income</div>
    <div class="combined-amount">\$162,400</div>
    <div class="ratio-badge">22% rent-to-income</div>
  </div>
  <div class="breakdown">
    <div class="breakdown-item">
      <div class="breakdown-name">Ariel</div>
      <div class="breakdown-amount">\$81,200</div>
    </div>
    <div class="breakdown-item">
      <div class="breakdown-name">Amber</div>
      <div class="breakdown-amount">\$81,200</div>
    </div>
  </div>
  <div class="verifications">
    <div class="verify-row">
      <span class="verify-label">Employment</span>
      <span class="verify-badge badge-verified"><span class="badge-dot"></span>Verified</span>
    </div>
    <div class="verify-row">
      <span class="verify-label">Credit Check</span>
      <span class="verify-badge badge-verified"><span class="badge-dot"></span>Approved</span>
    </div>
    <div class="verify-row">
      <span class="verify-label">Previous Landlord</span>
      <span class="verify-badge badge-verified"><span class="badge-dot"></span>Positive Reference</span>
    </div>
  </div>
  <div class="deposit-section">
    <div class="deposit-title">Deposit Structure</div>
    <div class="deposit-row">
      <span class="deposit-label">Your security deposit</span>
      <span class="deposit-value">\$2,975</span>
    </div>
    <div class="deposit-row">
      <span class="deposit-label">Split Lease matched deposit</span>
      <span class="deposit-value">\$2,975</span>
    </div>
    <div class="deposit-row deposit-total">
      <span class="deposit-label">Total held in escrow</span>
      <span class="deposit-value">\$5,950</span>
    </div>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1000-002",
      name: "Process Divergence Bridge Card - Validating the landlord's expectation before explaining why the platform works differently",
      category: "card",
      source_elements: ["works-003","communicates-002","looks-002","behaves-003","feels-003"],
      journey_phases: ["evaluation","onboarding","proposal_mgmt"],
      priority: "high",
      description: "Jason's showing concern escalates across two mentions: 'It sounds a bit odd that they don't want to see the place before they move in' (10:50) hardens into 'A lot of people are like, this just sounds weird to me' (12:35). Bryant's response at 10:22 skips emotional validation and jumps to operational justification ('for privacy reasons'), which Jason experiences as dismissal. Cagan (Ch. 2) says the best technology products blend online and offline experiences rather than replacing offline expectations. This element deploys a three-part inline bridge at the exact point where the host encounters a process divergence: it acknowledges the traditional expectation in bold, explains the platform's approach in regular weight, and offers a concrete accommodation as an actionable link. The warm left-border accent and calm typography prevent the callout from reading as a warning while ensuring it is noticed during a scan.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ds-ui-1000-002 Process Divergence Bridge</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-purple: #31135D;
    --secondary-purple: rgb(109, 49, 194);
    --accent-purple: rgb(140, 104, 238);
    --bg-light-gray: #f3f4f6;
    --text-dark: #1a1a1a;
    --text-gray: #6b7280;
    --border-color: #e5e7eb;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light-gray);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
  }
  .container {
    max-width: 520px;
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 16px;
  }
  .context-label {
    font-size: 12px;
    color: var(--text-gray);
    text-transform: uppercase;
    letter-spacing: 0.08em;
  }
  .proposal-stub {
    background: #ffffff;
    border-radius: 12px;
    padding: 20px 24px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  }
  .proposal-stub h3 {
    font-size: 16px;
    color: var(--text-dark);
    margin-bottom: 8px;
  }
  .proposal-detail {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px solid var(--border-color);
    font-size: 14px;
  }
  .proposal-detail:last-child { border-bottom: none; }
  .detail-label { color: var(--text-gray); }
  .detail-value { color: var(--text-dark); font-weight: 500; }
  .bridge-card {
    background: #fdfcfa;
    border-left: 3px solid var(--secondary-purple);
    border-radius: 0 12px 12px 0;
    padding: 16px 20px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.04);
  }
  .bridge-acknowledge {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-dark);
    margin-bottom: 6px;
    line-height: 1.4;
  }
  .bridge-explain {
    font-size: 14px;
    color: var(--text-gray);
    line-height: 1.5;
    margin-bottom: 8px;
  }
  .bridge-action {
    font-size: 14px;
    font-weight: 500;
    color: var(--secondary-purple);
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 4px;
    transition: opacity 0.2s ease;
  }
  .bridge-action:hover {
    opacity: 0.8;
  }
  .bridge-action .arrow {
    font-size: 16px;
    transition: transform 0.2s ease;
  }
  .bridge-action:hover .arrow {
    transform: translateX(2px);
  }
  .bridge-divider {
    width: 100%;
    height: 1px;
    background: var(--border-color);
    margin: 16px 0 0;
  }
  .second-bridge {
    border-left-color: var(--accent-purple);
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .proposal-stub { padding: 16px 20px; }
    .bridge-card { padding: 14px 16px; }
  }
</style>
</head>
<body>
<div class="container">
  <span class="context-label">Proposal -- showing preference</span>
  <div class="proposal-stub">
    <h3>Match Details</h3>
    <div class="proposal-detail">
      <span class="detail-label">Guests</span>
      <span class="detail-value">Ariel &amp; Amber</span>
    </div>
    <div class="proposal-detail">
      <span class="detail-label">Desired start</span>
      <span class="detail-value">March 2026</span>
    </div>
    <div class="proposal-detail">
      <span class="detail-label">In-person showing</span>
      <span class="detail-value">Not requested</span>
    </div>
  </div>
  <div class="bridge-card">
    <div class="bridge-acknowledge">Most landlords with active listings expect in-person showings.</div>
    <div class="bridge-explain">Our guests review detailed photos and verified property data before expressing interest. This works well for many hosts.</div>
    <a href="#" class="bridge-action">If you'd like guests to visit first, we can arrange that <span class="arrow">&rarr;</span></a>
  </div>
  <div class="bridge-card second-bridge">
    <div class="bridge-acknowledge">You may prefer to verify income directly.</div>
    <div class="bridge-explain">We share exact income, employer names, and credit results -- the same data you'd collect on a traditional application.</div>
    <a href="#" class="bridge-action">View full verification documents <span class="arrow">&rarr;</span></a>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1000-003",
      name: "Synchronous Call-to-Digital Activation Card - The first-touch mobile screen sent during the phone call",
      category: "card",
      source_elements: ["works-006","communicates-006","looks-004","behaves-001","feels-002"],
      journey_phases: ["evaluation","onboarding"],
      priority: "high",
      description: "Jason's call ends with 'I'll follow up with an email shortly' (13:59) -- a vague promise that introduces the highest-risk engagement gap in the host journey. Between the call ending and the email arriving, Jason returns to his 6 showings, his kitchen repairs, and his Craigslist listing. Cagan (Ch. 3) states good startups are 'optimized for learning and moving quickly' -- the post-call gap is a speed failure. This element is the zero-scroll mobile screen sent via SMS during the last two minutes of the call. It contains exactly five elements: property address (recognition anchor), guest names (connection to conversation), financial summary line (evaluation data), a single CTA button, and agent attribution. No login, no registration, no marketing copy. The host scans it in under 10 seconds while still on the phone with Bryant, transforming the asynchronous handoff into a synchronous continuation.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ds-ui-1000-003 Call Activation Card</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-purple: #31135D;
    --secondary-purple: rgb(109, 49, 194);
    --accent-purple: rgb(140, 104, 238);
    --bg-light-gray: #f3f4f6;
    --text-dark: #1a1a1a;
    --text-gray: #6b7280;
    --border-color: #e5e7eb;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light-gray);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
  }
  .mobile-frame {
    max-width: 375px;
    width: 100%;
    background: #ffffff;
    border-radius: 24px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.12);
    overflow: hidden;
  }
  .status-bar {
    height: 44px;
    background: #ffffff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    color: var(--text-gray);
    border-bottom: 1px solid var(--border-color);
  }
  .first-touch {
    padding: 32px 24px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 24px;
    text-align: center;
  }
  .ft-address {
    font-family: 'DM Sans', sans-serif;
    font-size: 20px;
    font-weight: 500;
    color: var(--text-dark);
    line-height: 1.3;
  }
  .ft-guests {
    font-size: 16px;
    font-weight: 600;
    color: var(--primary-purple);
  }
  .ft-financial {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
  }
  .ft-pill {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 14px;
    background: var(--bg-light-gray);
    border-radius: 20px;
    font-size: 13px;
    font-weight: 500;
    color: var(--text-dark);
  }
  .ft-pill .mono {
    font-family: 'Courier New', monospace;
    font-weight: 700;
  }
  .ft-cta {
    display: block;
    width: 100%;
    padding: 16px;
    background: var(--secondary-purple);
    color: #ffffff;
    border: none;
    border-radius: 14px;
    font-family: 'Inter', sans-serif;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease;
    text-align: center;
    text-decoration: none;
  }
  .ft-cta:hover {
    background: var(--accent-purple);
  }
  .ft-attribution {
    font-size: 12px;
    color: #9ca3af;
  }
  @media (max-width: 480px) {
    body { padding: 12px; }
    .mobile-frame { border-radius: 20px; }
    .first-touch { padding: 24px 20px; }
  }
</style>
</head>
<body>
<div class="mobile-frame">
  <div class="status-bar">Split Lease</div>
  <div class="first-touch">
    <div class="ft-address">Your apartment at<br>Battery Park City, NYC</div>
    <div class="ft-guests">Ariel &amp; Amber</div>
    <div class="ft-financial">
      <span class="ft-pill">Income <span class="mono">\$162K</span></span>
      <span class="ft-pill">Rent <span class="mono">\$2,975</span></span>
      <span class="ft-pill">Guarantee <span class="mono">Included</span></span>
    </div>
    <a href="#" class="ft-cta">I'm Interested -- Tell Me More</a>
    <div class="ft-attribution">Sent by Bryant via Split Lease</div>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1000-004",
      name: "Configurable Furniture Inventory Grid - Expressing negotiable property state beyond furnished yes/no",
      category: "card",
      source_elements: ["works-005","communicates-005","looks-005","behaves-004","feels-005"],
      journey_phases: ["listing_creation","proposal_mgmt"],
      priority: "high",
      description: "Jason's apartment defies binary categorization: he has a bed (good), a futon ('not the highest quality,' 08:19), 4 tables/desks ('There's actually too many tables. So I can just move out a couple,' 11:52), and cleaning plans that 'depend on the tenant' (11:17). Traditional listing platforms force 'furnished: yes/no' which loses this nuance. Cagan (Ch. 6) observes that companies try to fit ideas into rigid roadmaps; similarly, platforms try to fit properties into rigid schemas. This element presents each furniture item as a row with a three-state indicator (Included/Available/Removable), an optional condition note for honest caveats, and a clear visual distinction between definite and negotiable items. During proposal negotiation, guests can request changes that appear as highlighted rows the host reviews. The collaborative format transforms listing from passive form-filling into active partnership.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ds-ui-1000-004 Furniture Inventory Grid</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-purple: #31135D;
    --secondary-purple: rgb(109, 49, 194);
    --accent-purple: rgb(140, 104, 238);
    --bg-light-gray: #f3f4f6;
    --text-dark: #1a1a1a;
    --text-gray: #6b7280;
    --border-color: #e5e7eb;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light-gray);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
  }
  .card {
    max-width: 520px;
    width: 100%;
    background: #ffffff;
    border-radius: 16px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    overflow: hidden;
  }
  .card-top {
    padding: 20px 24px;
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .card-top h3 {
    font-size: 16px;
    color: var(--text-dark);
  }
  .completion {
    font-size: 13px;
    color: var(--secondary-purple);
    font-weight: 500;
  }
  .legend {
    display: flex;
    gap: 16px;
    padding: 12px 24px;
    background: #fafafa;
    border-bottom: 1px solid var(--border-color);
  }
  .legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 11px;
    color: var(--text-gray);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  .dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
  }
  .dot-included { background: var(--secondary-purple); }
  .dot-available { background: #4A90E2; }
  .dot-removable { background: #bbb; }
  .inventory-list {
    list-style: none;
  }
  .inventory-item {
    display: flex;
    align-items: flex-start;
    padding: 14px 24px;
    border-bottom: 1px solid var(--border-color);
    gap: 12px;
    transition: background 0.2s ease;
  }
  .inventory-item:last-child { border-bottom: none; }
  .inventory-item:hover { background: #fafafa; }
  .item-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    margin-top: 6px;
    flex-shrink: 0;
  }
  .item-content {
    flex: 1;
    min-width: 0;
  }
  .item-name {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-dark);
  }
  .item-note {
    font-size: 13px;
    color: var(--text-gray);
    margin-top: 2px;
    font-style: italic;
  }
  .item-state {
    font-size: 12px;
    font-weight: 500;
    padding: 3px 10px;
    border-radius: 20px;
    white-space: nowrap;
    flex-shrink: 0;
    margin-top: 2px;
  }
  .state-included {
    background: rgba(109, 49, 194, 0.08);
    color: var(--secondary-purple);
  }
  .state-available {
    background: rgba(74, 144, 226, 0.08);
    color: #4A90E2;
  }
  .state-removable {
    background: #f0f0f0;
    color: #888;
  }
  .guest-request {
    border-left: 3px solid #4A90E2;
    background: rgba(74, 144, 226, 0.03);
  }
  .request-badge {
    font-size: 11px;
    color: #4A90E2;
    font-weight: 600;
    margin-top: 4px;
    display: flex;
    align-items: center;
    gap: 4px;
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .legend { gap: 10px; padding: 10px 20px; }
    .inventory-item { padding: 12px 20px; }
    .card-top { padding: 16px 20px; }
  }
</style>
</head>
<body>
<div class="card">
  <div class="card-top">
    <h3>Furniture &amp; Amenities</h3>
    <span class="completion">5 items configured</span>
  </div>
  <div class="legend">
    <span class="legend-item"><span class="dot dot-included"></span>Included</span>
    <span class="legend-item"><span class="dot dot-available"></span>Available</span>
    <span class="legend-item"><span class="dot dot-removable"></span>Removable</span>
  </div>
  <ul class="inventory-list">
    <li class="inventory-item">
      <span class="item-dot dot-included"></span>
      <div class="item-content">
        <div class="item-name">Bed (full frame + mattress)</div>
      </div>
      <span class="item-state state-included">Included</span>
    </li>
    <li class="inventory-item">
      <span class="item-dot dot-available"></span>
      <div class="item-content">
        <div class="item-name">Futon (wooden frame)</div>
        <div class="item-note">Functional but not premium quality -- guests may want a topper</div>
      </div>
      <span class="item-state state-available">Available</span>
    </li>
    <li class="inventory-item">
      <span class="item-dot dot-included"></span>
      <div class="item-content">
        <div class="item-name">Desk (primary workspace)</div>
      </div>
      <span class="item-state state-included">Included</span>
    </li>
    <li class="inventory-item guest-request">
      <span class="item-dot dot-removable"></span>
      <div class="item-content">
        <div class="item-name">Extra tables (2 of 3)</div>
        <div class="item-note">Host noted: "too many tables -- happy to remove some"</div>
        <div class="request-badge">Guest requested removal</div>
      </div>
      <span class="item-state state-removable">Removable</span>
    </li>
    <li class="inventory-item">
      <span class="item-dot dot-included"></span>
      <div class="item-content">
        <div class="item-name">Kitchen (recently repaired)</div>
      </div>
      <span class="item-state state-included">Included</span>
    </li>
  </ul>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1000-005",
      name: "Operational Knowledge House Manual Cards - Capturing the host's parking expertise as a guest-facing asset",
      category: "card",
      source_elements: ["works-004","communicates-004","looks-007","behaves-006","feels-007"],
      journey_phases: ["listing_creation","active_lease"],
      priority: "high",
      description: "Jason spent nearly a quarter of his 14-minute call (03:15-05:14) on an unprompted parking tutorial: street cleaning schedules, time-of-day availability, garage pricing at $500+/month, and historical patterns from a decade of experience. He also flagged furniture conditions (08:36) and building security rules (08:55). Cagan (Ch. 2) says the best technology products are 'blends of online and offline experiences.' Jason's operational knowledge is pure offline expertise that no standard listing form captures. This element presents guided conversational prompts ('What should guests know about parking near your place?') as warmly styled cards with dashed borders for empty states and solid borders for completed ones. The host's own words appear credited to them in the guest-facing display, transforming data capture into expertise showcase and creating the 'proud expertise sharing' emotion that drives content quality and host retention.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ds-ui-1000-005 House Manual Cards</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-purple: #31135D;
    --secondary-purple: rgb(109, 49, 194);
    --accent-purple: rgb(140, 104, 238);
    --bg-light-gray: #f3f4f6;
    --text-dark: #1a1a1a;
    --text-gray: #6b7280;
    --border-color: #e5e7eb;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light-gray);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
  }
  .container {
    max-width: 600px;
    width: 100%;
  }
  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
  }
  .section-title {
    font-size: 18px;
    font-weight: 600;
    color: var(--text-dark);
  }
  .progress {
    font-size: 13px;
    color: var(--secondary-purple);
    font-weight: 500;
  }
  .cards-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
  }
  .knowledge-card {
    background: #ffffff;
    border-radius: 12px;
    padding: 16px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    border: 1px solid var(--border-color);
    transition: box-shadow 0.2s ease;
  }
  .knowledge-card:hover {
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  }
  .knowledge-card.empty {
    border: 1.5px dashed #d0d0d0;
    box-shadow: none;
    background: #fafafa;
  }
  .card-icon {
    font-size: 20px;
    margin-bottom: 8px;
    display: block;
  }
  .card-category {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-dark);
    margin-bottom: 6px;
  }
  .card-content {
    font-size: 13px;
    color: var(--text-gray);
    line-height: 1.5;
  }
  .card-prompt {
    font-size: 13px;
    color: #9ca3af;
    line-height: 1.5;
    font-style: italic;
  }
  .card-hint {
    font-size: 11px;
    color: #bbb;
    margin-top: 8px;
  }
  .card-attribution {
    font-size: 11px;
    color: var(--secondary-purple);
    margin-top: 10px;
    font-weight: 500;
  }
  .card-full {
    grid-column: 1 / -1;
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .cards-grid {
      grid-template-columns: 1fr;
    }
    .card-full {
      grid-column: auto;
    }
  }
</style>
</head>
<body>
<div class="container">
  <div class="section-header">
    <h2 class="section-title">Help Your Guests Arrive Prepared</h2>
    <span class="progress">3 of 5 tips shared</span>
  </div>
  <div class="cards-grid">
    <div class="knowledge-card card-full">
      <span class="card-icon">P</span>
      <div class="card-category">Parking</div>
      <div class="card-content">Street parking in Battery Park City is tough -- it's a business district. Street cleaning is once a week (check the posted day). Best times to find a spot: end of the workday when truck loading zones open up, and after 4 PM near the school a couple blocks away. Saturdays and Sundays are easier. The building garage runs over \$500/month.</div>
      <div class="card-attribution">From your host Jason</div>
    </div>
    <div class="knowledge-card">
      <span class="card-icon">K</span>
      <div class="card-category">Building Access</div>
      <div class="card-content">Moving large furniture in or out requires building security coordination. Mattresses and small items are straightforward.</div>
      <div class="card-attribution">From your host Jason</div>
    </div>
    <div class="knowledge-card">
      <span class="card-icon">F</span>
      <div class="card-category">Space Details</div>
      <div class="card-content">Deep cleaning done before move-in. Kitchen recently had repairs completed -- everything is in working order now.</div>
      <div class="card-attribution">From your host Jason</div>
    </div>
    <div class="knowledge-card empty">
      <span class="card-icon">N</span>
      <div class="card-category">Neighborhood</div>
      <div class="card-prompt">What should guests know about the area -- transit, groceries, dining?</div>
      <div class="card-hint">Most guests ask about this</div>
    </div>
    <div class="knowledge-card empty">
      <span class="card-icon">R</span>
      <div class="card-category">Building Rules</div>
      <div class="card-prompt">Any rules guests should follow -- noise, pets, guest policies?</div>
      <div class="card-hint">Helps set expectations early</div>
    </div>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1000-006",
      name: "Competitive Context Timeline Badge - Surfacing factual decision windows without manufactured urgency",
      category: "card",
      source_elements: ["works-002","communicates-007","looks-006","behaves-005","feels-006"],
      journey_phases: ["proposal_mgmt","evaluation"],
      priority: "high",
      description: "Jason proactively asks 'they're considering other places as well, right?' at 13:20, revealing that he wants competitive context to calibrate his own decision timing. Bryant confirms the guests are looking at other places (13:26). But after the call, this context disappears -- the host is left in an open-ended vacuum where 'shortly' and 'anytime' (13:59) encourage indefinite deferral. Cagan's startup framework (Ch. 3) frames each interaction as a race -- there is a conversion runway burning down. This element presents a neutral, factual timeline badge showing the guest's decision date and the proposal's age. It uses muted typography and no urgency colors, reading like a departure board rather than a countdown timer. After 48 hours without host action, the text subtly darkens to increase visibility without introducing alarm. The host feels informed, not pressured.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ds-ui-1000-006 Competitive Context Timeline</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-purple: #31135D;
    --secondary-purple: rgb(109, 49, 194);
    --accent-purple: rgb(140, 104, 238);
    --bg-light-gray: #f3f4f6;
    --text-dark: #1a1a1a;
    --text-gray: #6b7280;
    --border-color: #e5e7eb;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light-gray);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
  }
  .container {
    max-width: 520px;
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 16px;
  }
  .proposal-card {
    background: #ffffff;
    border-radius: 14px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    padding: 24px;
  }
  .proposal-top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
  }
  .proposal-title {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-dark);
  }
  .proposal-status {
    font-size: 12px;
    font-weight: 500;
    padding: 4px 10px;
    border-radius: 20px;
    background: rgba(109, 49, 194, 0.08);
    color: var(--secondary-purple);
  }
  .proposal-details {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 20px;
  }
  .pd-row {
    display: flex;
    justify-content: space-between;
    font-size: 14px;
  }
  .pd-label { color: var(--text-gray); }
  .pd-value { color: var(--text-dark); font-weight: 500; }
  .timeline-zone {
    padding: 14px 0 0;
    border-top: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    gap: 6px;
  }
  .timeline-line {
    font-size: 13px;
    color: #9ca3af;
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .timeline-line .date {
    font-family: 'Courier New', monospace;
    font-weight: 600;
    color: #6b7280;
  }
  .timeline-line.escalated {
    color: var(--text-gray);
  }
  .timeline-line.escalated .date {
    color: var(--text-dark);
  }
  .cta-zone {
    margin-top: 20px;
  }
  .cta-primary {
    display: block;
    width: 100%;
    padding: 14px;
    background: var(--secondary-purple);
    color: #fff;
    border: none;
    border-radius: 12px;
    font-family: 'Inter', sans-serif;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    text-align: center;
    text-decoration: none;
    transition: background 0.2s ease;
  }
  .cta-primary:hover {
    background: var(--accent-purple);
  }
  .variant-label {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: #bbb;
    text-align: center;
    margin-top: 16px;
  }
  .card-fresh .timeline-line { color: #b0aba4; }
  .card-fresh .timeline-line .date { color: #9ca3af; }
  .card-aged .timeline-line { color: var(--text-gray); }
  .card-aged .timeline-line .date { color: var(--text-dark); }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .proposal-card { padding: 20px; }
  }
</style>
</head>
<body>
<div class="container">
  <div class="proposal-card card-fresh">
    <div class="proposal-top">
      <span class="proposal-title">Ariel &amp; Amber</span>
      <span class="proposal-status">Awaiting Response</span>
    </div>
    <div class="proposal-details">
      <div class="pd-row">
        <span class="pd-label">Monthly rent</span>
        <span class="pd-value">\$2,975</span>
      </div>
      <div class="pd-row">
        <span class="pd-label">Proposed term</span>
        <span class="pd-value">6 months, option to extend</span>
      </div>
      <div class="pd-row">
        <span class="pd-label">Desired start</span>
        <span class="pd-value">March 2026</span>
      </div>
    </div>
    <div class="timeline-zone">
      <div class="timeline-line">Ariel and Amber plan to decide by <span class="date">Mar 5</span></div>
      <div class="timeline-line">Proposal sent <span class="date">today</span></div>
    </div>
    <div class="cta-zone">
      <a href="#" class="cta-primary">Express Interest</a>
    </div>
    <div class="variant-label">Day 1 -- fresh proposal</div>
  </div>
  <div class="proposal-card card-aged">
    <div class="proposal-top">
      <span class="proposal-title">Ariel &amp; Amber</span>
      <span class="proposal-status">Awaiting Response</span>
    </div>
    <div class="proposal-details">
      <div class="pd-row">
        <span class="pd-label">Monthly rent</span>
        <span class="pd-value">\$2,975</span>
      </div>
      <div class="pd-row">
        <span class="pd-label">Proposed term</span>
        <span class="pd-value">6 months, option to extend</span>
      </div>
      <div class="pd-row">
        <span class="pd-label">Desired start</span>
        <span class="pd-value">March 2026</span>
      </div>
    </div>
    <div class="timeline-zone">
      <div class="timeline-line escalated">Ariel and Amber plan to decide by <span class="date">Mar 5</span></div>
      <div class="timeline-line escalated">Proposal sent <span class="date">3 days ago</span></div>
    </div>
    <div class="cta-zone">
      <a href="#" class="cta-primary">Express Interest</a>
    </div>
    <div class="variant-label">Day 3 -- subtle text darkening after 48 hours</div>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1000-007",
      name: "Progressive Proposal Decision Cascade - Guiding the host through financials, then terms, then operational details",
      category: "card",
      source_elements: ["works-001","communicates-003","looks-003","behaves-007","feels-004"],
      journey_phases: ["proposal_mgmt","evaluation","pricing"],
      priority: "high",
      description: "Jason's question sequence reveals a strict cognitive decision tree: income first (06:14), term second (06:43), furnishing third (07:55), showings fourth (10:18). This maps the traditional landlord's evaluation where financial viability gates all subsequent analysis. Cagan (Ch. 6) says companies prioritize ideas into a roadmap -- similarly, proposals must prioritize information by decision sequence. When all information appears at equal visual weight, the host must cognitively triage before evaluating. This element structures the proposal as three visually distinct sections with decreasing elevation: Section 1 (Financial) on a white card with the heaviest shadow and largest mono typography; Section 2 (Terms) on a warm-tinted card with lighter shadow; Section 3 (Operational) on the page background with no elevation. The cascade creates natural visual gravity pulling the eye from top (financials) to bottom (details), with contextual connectors between sections that acknowledge the host's progress through the decision tree.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ds-ui-1000-007 Proposal Decision Cascade</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-purple: #31135D;
    --secondary-purple: rgb(109, 49, 194);
    --accent-purple: rgb(140, 104, 238);
    --bg-light-gray: #f3f4f6;
    --text-dark: #1a1a1a;
    --text-gray: #6b7280;
    --border-color: #e5e7eb;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light-gray);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
  }
  .cascade {
    max-width: 520px;
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 0;
  }
  .section-1 {
    background: #ffffff;
    border-radius: 16px 16px 0 0;
    box-shadow: 0 4px 16px rgba(0,0,0,0.10);
    padding: 28px 24px;
    position: relative;
    z-index: 3;
  }
  .s1-label {
    font-size: 11px;
    color: var(--secondary-purple);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    font-weight: 600;
    margin-bottom: 4px;
  }
  .s1-title {
    font-family: 'DM Sans', sans-serif;
    font-size: 18px;
    color: var(--text-dark);
    margin-bottom: 20px;
  }
  .s1-hero {
    text-align: center;
    padding: 16px 0;
    border: 1px solid var(--border-color);
    border-radius: 12px;
    margin-bottom: 16px;
  }
  .s1-amount-label {
    font-size: 12px;
    color: var(--text-gray);
    margin-bottom: 2px;
  }
  .s1-amount {
    font-family: 'Courier New', monospace;
    font-size: 32px;
    font-weight: 700;
    color: var(--text-dark);
  }
  .s1-ratio {
    font-size: 13px;
    color: var(--secondary-purple);
    font-weight: 500;
    margin-top: 4px;
  }
  .s1-badges {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }
  .s1-badge {
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 5px 12px;
    background: rgba(109, 49, 194, 0.06);
    border-radius: 20px;
    font-size: 12px;
    font-weight: 500;
    color: var(--secondary-purple);
  }
  .s1-badge-dot {
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background: var(--secondary-purple);
  }
  .connector {
    background: #f9f8f6;
    padding: 10px 24px;
    font-size: 13px;
    color: var(--text-gray);
    position: relative;
    z-index: 2;
    font-style: italic;
  }
  .section-2 {
    background: #faf9f7;
    padding: 24px;
    position: relative;
    z-index: 2;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  }
  .s2-label {
    font-size: 11px;
    color: var(--text-gray);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    font-weight: 600;
    margin-bottom: 12px;
  }
  .s2-rows {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  .s2-row {
    display: flex;
    justify-content: space-between;
    font-size: 14px;
  }
  .s2-row-label { color: var(--text-gray); }
  .s2-row-value { color: var(--text-dark); font-weight: 500; }
  .section-3 {
    background: var(--bg-light-gray);
    border-radius: 0 0 16px 16px;
    padding: 20px 24px;
    position: relative;
    z-index: 1;
  }
  .s3-label {
    font-size: 11px;
    color: #aaa;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    font-weight: 600;
    margin-bottom: 10px;
  }
  .s3-item {
    display: flex;
    justify-content: space-between;
    font-size: 13px;
    padding: 6px 0;
    border-bottom: 1px solid #e8e6e2;
  }
  .s3-item:last-child { border-bottom: none; }
  .s3-item-label { color: var(--text-gray); }
  .s3-item-value { color: var(--text-dark); font-weight: 500; }
  .action-zone {
    margin-top: 24px;
    display: flex;
    gap: 10px;
  }
  .btn-primary {
    flex: 1;
    padding: 14px;
    background: var(--secondary-purple);
    color: #fff;
    border: none;
    border-radius: 12px;
    font-family: 'Inter', sans-serif;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease;
    text-align: center;
    text-decoration: none;
  }
  .btn-primary:hover { background: var(--accent-purple); }
  .btn-secondary {
    flex: 1;
    padding: 14px;
    background: #ffffff;
    color: var(--text-dark);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    font-family: 'Inter', sans-serif;
    font-size: 15px;
    font-weight: 500;
    cursor: pointer;
    transition: border-color 0.2s ease;
    text-align: center;
    text-decoration: none;
  }
  .btn-secondary:hover { border-color: var(--text-gray); }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .section-1 { padding: 24px 20px; }
    .s1-amount { font-size: 26px; }
    .section-2 { padding: 20px; }
    .section-3 { padding: 16px 20px; }
    .connector { padding: 8px 20px; }
    .action-zone { flex-direction: column; }
  }
</style>
</head>
<body>
<div class="cascade">
  <div class="section-1">
    <div class="s1-label">Step 1: Financials</div>
    <div class="s1-title">Ariel &amp; Amber's Financial Summary</div>
    <div class="s1-hero">
      <div class="s1-amount-label">Combined Annual Income</div>
      <div class="s1-amount">\$162,400</div>
      <div class="s1-ratio">22% rent-to-income ratio at \$2,975/mo</div>
    </div>
    <div class="s1-badges">
      <span class="s1-badge"><span class="s1-badge-dot"></span>Employment Verified</span>
      <span class="s1-badge"><span class="s1-badge-dot"></span>Credit Approved</span>
      <span class="s1-badge"><span class="s1-badge-dot"></span>Rent Guaranteed</span>
    </div>
  </div>
  <div class="connector">Financials look solid? Here are the proposed terms.</div>
  <div class="section-2">
    <div class="s2-label">Step 2: Terms</div>
    <div class="s2-rows">
      <div class="s2-row">
        <span class="s2-row-label">Initial term</span>
        <span class="s2-row-value">6 months</span>
      </div>
      <div class="s2-row">
        <span class="s2-row-label">Extension option</span>
        <span class="s2-row-value">Yes, flexible</span>
      </div>
      <div class="s2-row">
        <span class="s2-row-label">Desired start</span>
        <span class="s2-row-value">March 2026</span>
      </div>
      <div class="s2-row">
        <span class="s2-row-label">Deposit held</span>
        <span class="s2-row-value">2 months (\$5,950)</span>
      </div>
    </div>
  </div>
  <div class="connector">Terms work? Review operational details below.</div>
  <div class="section-3">
    <div class="s3-label">Step 3: Operational Details</div>
    <div class="s3-item">
      <span class="s3-item-label">Furnishing preference</span>
      <span class="s3-item-value">Furnished</span>
    </div>
    <div class="s3-item">
      <span class="s3-item-label">In-person showing</span>
      <span class="s3-item-value">Available on request</span>
    </div>
    <div class="s3-item">
      <span class="s3-item-label">Pets</span>
      <span class="s3-item-value">None (building policy)</span>
    </div>
    <div class="s3-item">
      <span class="s3-item-label">Parking</span>
      <span class="s3-item-value">Street only</span>
    </div>
    <div class="action-zone">
      <a href="#" class="btn-primary">Express Interest</a>
      <a href="#" class="btn-secondary">Request Changes</a>
    </div>
  </div>
</div>
</body>
</html>`
    }
];

function createSrcdoc(snippet) {
  return snippet;
}

function renderCards() {
  const grid = document.getElementById('elementGrid');
  const search = document.getElementById('searchInput').value.toLowerCase();
  const checkedPhases = Array.from(document.querySelectorAll('[data-filter-for="phase"] input:checked')).map(c => c.value);

  let filtered = ELEMENTS.filter(el => {
    if (search && !el.name.toLowerCase().includes(search) && !el.description.toLowerCase().includes(search)) return false;
    if (checkedPhases.length && !el.journey_phases.some(p => checkedPhases.includes(p))) return false;
    return true;
  });

  document.getElementById('resultCount').textContent = filtered.length + ' element' + (filtered.length !== 1 ? 's' : '');

  if (!filtered.length) {
    grid.innerHTML = '<div class="lib-empty">No elements match your filters.</div>';
    return;
  }

  grid.innerHTML = filtered.map((el, i) => {
    const phases = el.journey_phases.map(p => '<span class="lib-card__phase">' + p.replace(/_/g, ' ') + '</span>').join('');
    const sources = el.source_elements.map(s => '<code>' + s + '</code>').join(' ');
    return '<div class="lib-card" data-idx="' + ELEMENTS.indexOf(el) + '">' +
      '<div class="lib-card__preview"><iframe srcdoc="' + escapeAttr(el.html_css_snippet) + '" loading="lazy" sandbox="allow-same-origin"></iframe></div>' +
      '<div class="lib-card__body">' +
        '<div class="lib-card__top-row"><span class="lib-card__cat">UI Element</span><span class="lib-card__id">' + el.id + '</span></div>' +
        '<div class="lib-card__name">' + el.name + '</div>' +
        '<div class="lib-card__desc">' + el.description + '</div>' +
        '<div class="lib-card__phases">' + phases + '</div>' +
        '<div class="lib-card__sources"><strong>Sources:</strong> ' + sources + '</div>' +
      '</div></div>';
  }).join('');
}

function escapeAttr(s) {
  return s.replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}

function openModal(idx) {
  const el = ELEMENTS[idx];
  const overlay = document.getElementById('modalOverlay');
  const modal = document.getElementById('modalContent');
  const phases = el.journey_phases.map(p => '<span class="lib-card__phase" style="font-size:12px;padding:4px 10px;">' + p.replace(/_/g, ' ') + '</span>').join('');
  const sources = el.source_elements.map(s => '<code>' + s + '</code>').join(' ');

  modal.innerHTML =
    '<div class="lib-modal__preview"><iframe srcdoc="' + escapeAttr(el.html_css_snippet) + '" sandbox="allow-same-origin"></iframe><button class="lib-modal__close" onclick="closeModal()">&times;</button></div>' +
    '<div class="lib-modal__content">' +
      '<div class="lib-modal__header"><h2 class="lib-modal__title">' + el.name + '</h2></div>' +
      '<p class="lib-modal__desc">' + el.description + '</p>' +
      '<div class="lib-modal__section"><div class="lib-modal__section-title">Journey Phases</div><div class="lib-modal__phases-row">' + phases + '</div></div>' +
      '<div class="lib-modal__section"><div class="lib-modal__section-title">Source Elements</div><div class="lib-modal__sources-row">' + sources + '</div></div>' +
    '</div>';

  overlay.classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  document.getElementById('modalOverlay').classList.remove('open');
  document.body.style.overflow = '';
}

// Event listeners
document.getElementById('searchInput').addEventListener('input', renderCards);
document.querySelectorAll('.lib-filter-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const dropdown = btn.nextElementSibling;
    dropdown.classList.toggle('open');
    btn.classList.toggle('active');
  });
});
document.querySelectorAll('.lib-filter-dropdown input').forEach(cb => {
  cb.addEventListener('change', renderCards);
});
document.getElementById('elementGrid').addEventListener('click', e => {
  const card = e.target.closest('.lib-card');
  if (card) openModal(parseInt(card.dataset.idx));
});
document.getElementById('modalOverlay').addEventListener('click', e => {
  if (e.target === e.currentTarget) closeModal();
});
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });
window.addEventListener('scroll', () => {
  document.getElementById('toolbar').classList.toggle('scrolled', window.scrollY > 10);
});

// Initial render
renderCards();
</script>
</body>
</html>