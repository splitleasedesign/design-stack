<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Library of Elements — Airbnb × Cialdini Reverse Benchmark</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple: #31135D;
  --primary-purple-hover: #251047;
  --secondary-purple: rgb(109, 49, 194);
  --accent-purple: rgb(140, 104, 238);
  --text-dark: #1a1a1a;
  --text-gray: #6b7280;
  --text-description: #374151;
  --bg-white: #ffffff;
  --bg-light: #f9fafb;
  --bg-off-white: rgb(252, 250, 255);
  --border-color: #e5e7eb;
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.05);
  --shadow-md: 0 2px 8px rgba(0,0,0,0.08);
  --shadow-purple-sm: 0 2px 4px rgba(49,19,93,0.2);
  --shadow-purple-md: 0 4px 8px rgba(49,19,93,0.15);
  --shadow-purple-lg: 0 6px 20px rgba(109,49,194,0.35);
  --rounded-lg: 8px;
  --rounded-xl: 12px;
  --rounded-pill: 20px;
}
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'DM Sans', sans-serif;
  background: var(--bg-light);
  color: var(--text-dark);
  min-height: 100vh;
}

/* ===== HEADER ===== */
.page-header {
  background: linear-gradient(135deg, #31135D 0%, rgba(109,49,194,0.92) 100%);
  padding: 48px 32px 40px;
  color: white;
  text-align: center;
  position: relative;
  overflow: hidden;
}
.page-header::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 20% 80%, rgba(140,104,238,0.25) 0%, transparent 50%),
              radial-gradient(circle at 80% 20%, rgba(140,104,238,0.15) 0%, transparent 50%);
  pointer-events: none;
}
.header-content { position: relative; z-index: 1; max-width: 800px; margin: 0 auto; }
.header-content h1 {
  font-family: 'Inter', sans-serif;
  font-size: clamp(22px, 4vw, 32px);
  font-weight: 800;
  letter-spacing: -0.02em;
  margin-bottom: 10px;
}
.header-content p {
  font-size: 15px;
  opacity: 0.8;
  line-height: 1.6;
  max-width: 600px;
  margin: 0 auto;
}
.header-meta {
  display: flex;
  justify-content: center;
  gap: 24px;
  margin-top: 20px;
  flex-wrap: wrap;
}
.meta-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 14px;
  background: rgba(255,255,255,0.12);
  border: 1px solid rgba(255,255,255,0.18);
  border-radius: var(--rounded-pill);
  font-family: 'Inter', sans-serif;
  font-size: 12px;
  font-weight: 600;
  color: rgba(255,255,255,0.9);
}

/* ===== FILTER BAR ===== */
.filter-bar {
  background: var(--bg-white);
  border-bottom: 1px solid var(--border-color);
  padding: 16px 32px;
  position: sticky;
  top: 0;
  z-index: 100;
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
}
.filter-group {
  display: flex;
  align-items: center;
  gap: 8px;
}
.filter-label {
  font-family: 'Inter', sans-serif;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--text-gray);
  white-space: nowrap;
}
.filter-select {
  appearance: none;
  -webkit-appearance: none;
  padding: 7px 32px 7px 12px;
  border: 1.5px solid var(--border-color);
  border-radius: var(--rounded-pill);
  font-family: 'Inter', sans-serif;
  font-size: 12px;
  font-weight: 500;
  color: var(--text-dark);
  background: var(--bg-white) url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5 5L9 1' stroke='%236b7280' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E") no-repeat right 12px center;
  cursor: pointer;
  transition: border-color 0.2s;
}
.filter-select:hover, .filter-select:focus {
  border-color: var(--accent-purple);
  outline: none;
}
.filter-count {
  font-family: 'Inter', sans-serif;
  font-size: 12px;
  color: var(--text-gray);
  margin-left: auto;
}
.filter-count strong {
  color: var(--secondary-purple);
  font-weight: 700;
}

/* ===== GRID ===== */
.elements-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
  gap: 28px;
  padding: 32px;
  max-width: 1440px;
  margin: 0 auto;
}

/* ===== ELEMENT CARD ===== */
.element-card {
  background: var(--bg-white);
  border: 1px solid var(--border-color);
  border-radius: var(--rounded-xl);
  overflow: hidden;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
  display: flex;
  flex-direction: column;
}
.element-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(109,49,194,0.18);
}
.card-iframe-wrap {
  width: 100%;
  height: 300px;
  border-bottom: 1px solid var(--border-color);
  background: var(--bg-light);
  overflow: hidden;
  position: relative;
}
.card-iframe-wrap iframe {
  width: 100%;
  height: 100%;
  border: none;
  display: block;
  transform-origin: top left;
}
.card-body { padding: 20px; flex: 1; display: flex; flex-direction: column; }

/* Card Header */
.card-header { display: flex; align-items: flex-start; gap: 12px; margin-bottom: 14px; }
.card-title {
  font-family: 'Inter', sans-serif;
  font-size: 17px;
  font-weight: 700;
  color: var(--primary-purple);
  flex: 1;
  line-height: 1.3;
}
.badge {
  display: inline-flex;
  align-items: center;
  padding: 3px 10px;
  border-radius: var(--rounded-pill);
  font-family: 'Inter', sans-serif;
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  white-space: nowrap;
  flex-shrink: 0;
}
.badge-category {
  background: rgba(109,49,194,0.1);
  color: var(--secondary-purple);
}
.badge-high {
  background: rgba(220,38,38,0.08);
  color: #dc2626;
}
.badge-medium {
  background: rgba(217,119,6,0.08);
  color: #d97706;
}
.badge-low {
  background: rgba(22,163,74,0.08);
  color: #16a34a;
}
.badges-row { display: flex; gap: 6px; flex-shrink: 0; flex-wrap: wrap; justify-content: flex-end; }

/* Problem */
.card-problem {
  font-size: 13px;
  color: var(--text-description);
  line-height: 1.6;
  margin-bottom: 14px;
}

/* Before/After */
.before-after { margin-bottom: 14px; }
.ba-row {
  display: flex;
  gap: 10px;
  padding: 10px 12px;
  border-radius: var(--rounded-lg);
  font-size: 12px;
  line-height: 1.55;
  color: var(--text-description);
}
.ba-row + .ba-row { margin-top: 6px; }
.ba-row.before { background: rgba(220,38,38,0.04); border-left: 3px solid rgba(220,38,38,0.3); }
.ba-row.after { background: rgba(22,163,74,0.04); border-left: 3px solid rgba(22,163,74,0.3); }
.ba-label {
  font-family: 'Inter', sans-serif;
  font-weight: 700;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  flex-shrink: 0;
  width: 48px;
}
.ba-row.before .ba-label { color: #dc2626; }
.ba-row.after .ba-label { color: #16a34a; }

/* Signature */
.card-signature {
  font-size: 12px;
  font-style: italic;
  color: var(--accent-purple);
  line-height: 1.55;
  padding: 10px 14px;
  background: rgba(140,104,238,0.05);
  border-radius: var(--rounded-lg);
  margin-bottom: 14px;
  border-left: 3px solid var(--accent-purple);
}

/* Journey Phases */
.phase-tags { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 14px; }
.phase-tag {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  border-radius: var(--rounded-pill);
  font-family: 'Inter', sans-serif;
  font-size: 10px;
  font-weight: 600;
  background: var(--bg-off-white);
  color: var(--primary-purple);
  border: 1px solid rgba(49,19,93,0.1);
}
.phase-tag::before {
  content: '';
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--accent-purple);
}

/* Expand Toggle */
.expand-toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  margin-top: auto;
  padding: 10px;
  border: none;
  background: none;
  cursor: pointer;
  font-family: 'Inter', sans-serif;
  font-size: 12px;
  font-weight: 600;
  color: var(--secondary-purple);
  transition: color 0.2s;
  border-top: 1px solid var(--border-color);
}
.expand-toggle:hover { color: var(--primary-purple); }
.expand-toggle svg {
  width: 14px; height: 14px;
  transition: transform 0.3s ease;
}
.expand-toggle.open svg { transform: rotate(180deg); }

/* Expanded Details */
.card-details {
  display: none;
  padding: 0 20px 20px;
  animation: slideDown 0.3s ease;
}
.card-details.visible { display: block; }
@keyframes slideDown {
  from { opacity: 0; transform: translateY(-8px); }
  to { opacity: 1; transform: translateY(0); }
}
.detail-section { margin-bottom: 16px; }
.detail-section:last-child { margin-bottom: 0; }
.detail-heading {
  font-family: 'Inter', sans-serif;
  font-size: 13px;
  font-weight: 700;
  color: var(--primary-purple);
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  gap: 6px;
}
.detail-heading svg { width: 14px; height: 14px; color: var(--secondary-purple); }
.detail-table {
  width: 100%;
  font-size: 12px;
  border-collapse: collapse;
}
.detail-table td {
  padding: 5px 0;
  vertical-align: top;
  line-height: 1.5;
  color: var(--text-description);
}
.detail-table td:first-child {
  font-family: 'Inter', sans-serif;
  font-weight: 600;
  color: var(--text-gray);
  width: 110px;
  padding-right: 12px;
  white-space: nowrap;
}
.detail-list {
  list-style: none;
  font-size: 12px;
  color: var(--text-description);
  line-height: 1.6;
}
.detail-list li { padding: 3px 0; padding-left: 16px; position: relative; }
.detail-list li::before {
  content: '';
  position: absolute;
  left: 0;
  top: 10px;
  width: 6px;
  height: 6px;
  border-radius: 50%;
}
.detail-list.do-list li::before { background: #16a34a; }
.detail-list.dont-list li::before { background: #dc2626; }
.micro-chips { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 4px; }
.micro-chip {
  padding: 3px 8px;
  background: var(--bg-off-white);
  border: 1px solid rgba(109,49,194,0.12);
  border-radius: 4px;
  font-family: 'Inter', sans-serif;
  font-size: 11px;
  color: var(--secondary-purple);
  font-weight: 500;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 860px) {
  .elements-grid {
    grid-template-columns: 1fr;
    padding: 20px 16px;
    gap: 20px;
  }
  .filter-bar { padding: 12px 16px; }
  .page-header { padding: 32px 20px 28px; }
}
@media (max-width: 480px) {
  .card-iframe-wrap { height: 240px; }
  .card-body { padding: 16px; }
  .card-title { font-size: 15px; }
  .filter-bar { gap: 8px; }
}
</style>
</head>
<body>

<!-- ===== HEADER ===== -->
<header class="page-header">
  <div class="header-content">
    <h1>Library of Elements</h1>
    <p>Airbnb &times; Cialdini Reverse Benchmark &mdash; UI components derived from competitive gap analysis through the lens of <em>Influence: The Psychology of Persuasion</em> (Commitment &amp; Consistency, Social Proof).</p>
    <div class="header-meta">
      <span class="meta-chip">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>
        Layer 4 Output
      </span>
      <span class="meta-chip">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
        Cialdini Ch. 3 &amp; 4
      </span>
      <span class="meta-chip">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg>
        6 Elements
      </span>
      <span class="meta-chip">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
        Competitor: Airbnb
      </span>
    </div>
  </div>
</header>

<!-- ===== FILTER BAR ===== -->
<div class="filter-bar" id="filterBar">
  <div class="filter-group">
    <span class="filter-label">Category</span>
    <select class="filter-select" id="filterCategory" onchange="applyFilters()">
      <option value="all">All Categories</option>
      <option value="card">Card</option>
      <option value="section">Section</option>
      <option value="form">Form</option>
      <option value="badge">Badge</option>
    </select>
  </div>
  <div class="filter-group">
    <span class="filter-label">Priority</span>
    <select class="filter-select" id="filterPriority" onchange="applyFilters()">
      <option value="all">All Priorities</option>
      <option value="high">High</option>
      <option value="medium">Medium</option>
      <option value="low">Low</option>
    </select>
  </div>
  <div class="filter-group">
    <span class="filter-label">Journey Phase</span>
    <select class="filter-select" id="filterPhase" onchange="applyFilters()">
      <option value="all">All Phases</option>
      <option value="discovery">Discovery</option>
      <option value="search">Search</option>
      <option value="listing_evaluation">Listing Evaluation</option>
      <option value="proposal_creation">Proposal Creation</option>
      <option value="negotiation">Negotiation</option>
      <option value="acceptance">Acceptance</option>
      <option value="move_in">Move-in</option>
      <option value="active_lease">Active Lease</option>
      <option value="retention">Retention</option>
    </select>
  </div>
  <span class="filter-count" id="filterCount"><strong>6</strong> of 6 elements</span>
</div>

<!-- ===== GRID ===== -->
<main class="elements-grid" id="elementsGrid"></main>

<script>
// ===== ELEMENT DATA =====
var ELEMENTS = [
  {
    id: "rb-ui-001",
    name: "Mutual Pledge Card",
    category: "card",
    priority: "high",
    journey_phases: ["negotiation", "acceptance"],
    problem_it_solves: "Booking feels like a one-way consumer transaction rather than two people choosing each other, producing weak commitments that lead to cancellations and distrust.",
    why_this_is_a_signature: "No platform in the shared-housing category creates a visible moment where both host and guest make active, written pledges to each other \u2014 users would say \u2018I\u2019ve never had a platform make me feel like my host actually chose me, and I chose them back.\u2019",
    before_after: {
      before: "Airbnb Instant Book: Guest clicks \u2018Confirm and Pay.\u2019 Host gets a notification. Neither person has made a visible, personal commitment to the other.",
      after: "Split Lease Mutual Pledge: Both host and guest write personal introductions and specific commitments. The arrangement starts as two people who chose each other."
    },
    visual_spec: {
      layout: "CSS Grid \u2014 two-column on desktop (1fr 1fr), single-column stacked on mobile, with a central divider/connector element",
      background: "#ffffff for the card surface, rgb(252,250,255) behind each pledge section",
      border: "1px solid #e5e7eb, upgrading to 2px solid rgb(109,49,194) when both pledges are complete",
      border_radius: "12px",
      color_usage: "Primary purple for headings and the handshake icon. Secondary purple for pledge labels and the completion border."
    },
    interaction_spec: {
      default_state: "Card appears with host\u2019s pledge section filled and the guest\u2019s section empty with a gentle prompt.",
      hover: "Each pledge section lifts slightly (translateY -2px) with shadow on hover.",
      click: "Clicking the guest\u2019s pledge section opens an inline text area with guided prompts.",
      animation: "When both pledges complete, the central connector animates from a dashed line to a solid handshake icon with a subtle scale-up and purple glow."
    },
    copy_spec: {
      primary_text: "Your Mutual Pledge",
      secondary_text: "Great arrangements start with both people choosing each other. This is your shared agreement \u2014 a handshake, not a checkout.",
      micro_copy: ["Make Your Pledge", "Pledge Complete", "Waiting for host\u2019s pledge", "View Your Agreement"],
      do_list: ["Use warm, personal language \u2014 \u2018your host Sarah\u2019 not \u2018the host\u2019", "Frame pledges as voluntary acts of care, not contractual obligations"],
      dont_list: ["Never use legal language \u2014 no \u2018hereby\u2019, \u2018agree to terms\u2019", "Never make the pledge feel like a form \u2014 no required fields, checkboxes"]
    },
    html_css: "<html><head><meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\"><style>@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap');:root{--primary-purple:#31135D;--secondary-purple:rgb(109,49,194);--accent-purple:rgb(140,104,238);--text-dark:#1a1a1a;--text-gray:#6b7280;--text-description:#374151;--bg-white:#ffffff;--bg-off-white:rgb(252,250,255);--border-color:#e5e7eb;--shadow-purple-md:0 4px 8px rgba(49,19,93,0.15)}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'DM Sans',sans-serif;background:#f9fafb;padding:24px 12px;display:flex;justify-content:center;align-items:flex-start;min-height:100vh}.pledge-card{background:var(--bg-white);border:2px solid var(--secondary-purple);border-radius:12px;max-width:680px;width:100%;overflow:hidden;box-shadow:var(--shadow-purple-md)}.pledge-header{padding:20px 20px 14px;text-align:center;border-bottom:1px solid var(--border-color)}.pledge-header h2{font-family:'Inter',sans-serif;font-size:18px;font-weight:700;color:var(--primary-purple);margin-bottom:4px}.pledge-header p{font-size:13px;color:var(--text-gray);line-height:1.5}.pledge-body{display:grid;grid-template-columns:1fr auto 1fr}.pledge-section{padding:20px;background:var(--bg-off-white);transition:transform .2s,box-shadow .2s}.pledge-section:hover{transform:translateY(-2px);box-shadow:var(--shadow-purple-md)}.pledge-label{font-family:'Inter',sans-serif;font-size:11px;font-weight:600;color:var(--secondary-purple);text-transform:uppercase;letter-spacing:.05em;margin-bottom:10px;display:flex;align-items:center;gap:6px}.pledge-label .status-dot{width:8px;height:8px;border-radius:50%;background:var(--secondary-purple)}.pledge-name{font-family:'Inter',sans-serif;font-size:15px;font-weight:600;color:var(--text-dark);margin-bottom:10px}.pledge-text{font-size:13px;color:var(--text-description);line-height:1.6;margin-bottom:14px}.pledge-commitment{background:var(--bg-white);border:1px solid var(--border-color);border-radius:8px;padding:10px}.pledge-commitment-label{font-family:'Inter',sans-serif;font-size:10px;font-weight:600;color:var(--text-gray);text-transform:uppercase;letter-spacing:.05em;margin-bottom:6px}.pledge-commitment-item{display:flex;align-items:center;gap:6px;font-size:12px;color:var(--text-description);margin-bottom:4px}.pledge-commitment-item:last-child{margin-bottom:0}.pledge-commitment-item svg{width:14px;height:14px;color:var(--secondary-purple);flex-shrink:0}.pledge-connector{display:flex;align-items:center;justify-content:center;width:56px;background:var(--bg-white);position:relative}.handshake-icon{width:36px;height:36px;background:var(--primary-purple);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;box-shadow:0 2px 8px rgba(49,19,93,0.3);animation:pulse-glow 2s ease-in-out infinite}@keyframes pulse-glow{0%,100%{box-shadow:0 2px 8px rgba(49,19,93,0.3)}50%{box-shadow:0 2px 16px rgba(109,49,194,0.5)}}.pledge-connector::before,.pledge-connector::after{content:'';position:absolute;width:2px;height:30%;background:var(--secondary-purple);left:50%;transform:translateX(-50%)}.pledge-connector::before{top:0}.pledge-connector::after{bottom:0}.pledge-footer{padding:14px 20px;border-top:1px solid var(--border-color);display:flex;align-items:center;justify-content:center}.badge-complete{display:inline-flex;align-items:center;gap:6px;background:rgba(109,49,194,0.08);color:var(--secondary-purple);font-family:'Inter',sans-serif;font-size:12px;font-weight:600;padding:6px 14px;border-radius:20px}.badge-complete svg{width:14px;height:14px}@media(max-width:600px){.pledge-body{grid-template-columns:1fr}.pledge-connector{width:100%;height:40px;flex-direction:row}.pledge-connector::before,.pledge-connector::after{width:30%;height:2px;top:50%;transform:translateY(-50%)}.pledge-connector::before{left:0}.pledge-connector::after{right:0;left:auto}}</style></head><body><div class=\"pledge-card\"><div class=\"pledge-header\"><h2>Your Mutual Pledge</h2><p>Great arrangements start with both people choosing each other.</p></div><div class=\"pledge-body\"><div class=\"pledge-section\"><div class=\"pledge-label\"><span class=\"status-dot\"></span> Host's Pledge</div><div class=\"pledge-name\">Sarah M.</div><div class=\"pledge-text\">Welcome to my Williamsburg apartment! I've hosted remote workers for 3 years and I understand what a good work-from-home setup means.</div><div class=\"pledge-commitment\"><div class=\"pledge-commitment-label\">I commit to</div><div class=\"pledge-commitment-item\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><polyline points=\"20 6 9 17 4 12\"></polyline></svg>A quiet workspace with reliable wifi</div><div class=\"pledge-commitment-item\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><polyline points=\"20 6 9 17 4 12\"></polyline></svg>Clean linens and towels every week</div><div class=\"pledge-commitment-item\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><polyline points=\"20 6 9 17 4 12\"></polyline></svg>Responding within 4 hours</div></div></div><div class=\"pledge-connector\"><div class=\"handshake-icon\"><svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M11 17a4 4 0 0 0 6.95-2.75\"/><path d=\"M8.05 10.45A4 4 0 0 1 15 8\"/><path d=\"M2 12h3\"/><path d=\"M19 12h3\"/></svg></div></div><div class=\"pledge-section\"><div class=\"pledge-label\"><span class=\"status-dot\"></span> Guest's Pledge</div><div class=\"pledge-name\">Marcus T.</div><div class=\"pledge-text\">I'm a UX designer working remotely for a fintech company. I'll be in Brooklyn for 6 weeks. I keep a quiet schedule.</div><div class=\"pledge-commitment\"><div class=\"pledge-commitment-label\">I commit to</div><div class=\"pledge-commitment-item\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><polyline points=\"20 6 9 17 4 12\"></polyline></svg>Respecting house rules and quiet hours</div><div class=\"pledge-commitment-item\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><polyline points=\"20 6 9 17 4 12\"></polyline></svg>Treating your space like my own</div><div class=\"pledge-commitment-item\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><polyline points=\"20 6 9 17 4 12\"></polyline></svg>Clear communication if anything comes up</div></div></div></div><div class=\"pledge-footer\"><div class=\"badge-complete\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"/><polyline points=\"22 4 12 14.01 9 11.01\"/></svg>Mutual Pledge Complete</div></div></div></body></html>"
  },
  {
    id: "rb-ui-002",
    name: "People-Like-You Review Filter",
    category: "section",
    priority: "high",
    journey_phases: ["search", "listing_evaluation"],
    problem_it_solves: "Reviews are an undifferentiated mass \u2014 a 4.9 from 200 people tells you nothing about whether people in YOUR situation had a good experience, leaving similarity-matched social proof completely untapped.",
    why_this_is_a_signature: "No platform in the category lets you filter reviews by stay type, purpose, or guest profile \u2014 users would say \u2018I\u2019ve never seen a platform show me reviews from people who are actually like me.\u2019",
    before_after: {
      before: "Airbnb listing page: 214 reviews in a chronological pile. A solo remote worker sees the same reviews as a family of five on vacation.",
      after: "Split Lease listing page: One tap on \u2018Remote Workers\u2019 and you see that 15 remote workers rated this space 4.8, with workspace quality called out in 12 reviews."
    },
    visual_spec: {
      layout: "Flexbox column \u2014 filter chip row (horizontal scroll), summary stat bar, then filtered review cards",
      background: "#ffffff for the review section, rgb(252,250,255) for the filter chip bar",
      border: "1px solid #e5e7eb around the entire review section",
      border_radius: "12px for the section, 20px for filter chips",
      color_usage: "Secondary purple for selected filter chips. Unselected chips use off-white background. Auto-suggested chip uses accent-purple at 10% opacity."
    },
    interaction_spec: {
      default_state: "All reviews shown with aggregate stats. One chip auto-suggested with \u2018Suggested for you\u2019 micro-label.",
      hover: "Unselected chips elevate slightly and gain a purple-tinted shadow.",
      click: "Clicking a chip filters reviews instantly with a subtle fade transition.",
      animation: "Filter transition uses opacity fade (0.2s). Summary stat counter animates numerically over 0.3s."
    },
    copy_spec: {
      primary_text: "What guests like you are saying",
      secondary_text: "Filter reviews by stay type to see what matters most to people in your situation.",
      micro_copy: ["Remote Workers", "Traveling Nurses", "Relocating", "4+ Week Stays", "Solo Guests", "Suggested for you"],
      do_list: ["Use natural category names that match how guests describe themselves", "Show honest sample sizes"],
      dont_list: ["Never filter by demographics (age, gender, race) \u2014 filter by situation only", "Never hide the aggregate view"]
    },
    html_css: "<html><head><meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\"><style>@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap');:root{--primary-purple:#31135D;--secondary-purple:rgb(109,49,194);--accent-purple:rgb(140,104,238);--text-dark:#1a1a1a;--text-gray:#6b7280;--text-description:#374151;--bg-white:#ffffff;--bg-off-white:rgb(252,250,255);--border-color:#e5e7eb}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'DM Sans',sans-serif;background:#f9fafb;padding:24px 12px;display:flex;justify-content:center;min-height:100vh}.review-section{background:var(--bg-white);border:1px solid var(--border-color);border-radius:12px;max-width:540px;width:100%;overflow:hidden}.review-header{padding:20px 20px 0}.review-header h2{font-family:'Inter',sans-serif;font-size:17px;font-weight:700;color:var(--primary-purple);margin-bottom:4px}.review-header p{font-size:12px;color:var(--text-gray);margin-bottom:14px}.filter-bar{display:flex;gap:6px;padding:0 20px 14px;overflow-x:auto;scrollbar-width:none;-ms-overflow-style:none}.filter-bar::-webkit-scrollbar{display:none}.filter-chip{display:inline-flex;align-items:center;gap:4px;white-space:nowrap;padding:6px 12px;border-radius:20px;font-family:'Inter',sans-serif;font-size:11px;font-weight:500;cursor:pointer;border:1px solid var(--border-color);background:var(--bg-off-white);color:var(--text-gray);transition:all .2s}.filter-chip:hover{transform:translateY(-1px);box-shadow:0 2px 6px rgba(49,19,93,0.12);border-color:var(--accent-purple)}.filter-chip.active{background:var(--secondary-purple);color:white;border-color:var(--secondary-purple);font-weight:600}.summary-bar{margin:0 20px 14px;padding:10px 14px;background:rgba(140,104,238,0.06);border-radius:8px;display:flex;align-items:center;gap:10px}.summary-score{font-family:'Inter',sans-serif;font-size:26px;font-weight:700;color:var(--primary-purple)}.summary-detail{font-size:12px;color:var(--text-description);line-height:1.4}.summary-detail strong{color:var(--primary-purple);font-weight:600}.review-list{padding:0 20px 20px;display:flex;flex-direction:column;gap:12px}.review-card{padding:14px;border:1px solid var(--border-color);border-radius:8px;transition:box-shadow .2s}.review-card:hover{box-shadow:0 2px 8px rgba(0,0,0,0.08)}.review-meta{display:flex;align-items:center;gap:8px;margin-bottom:8px}.review-avatar{width:32px;height:32px;border-radius:50%;background:var(--secondary-purple);display:flex;align-items:center;justify-content:center;color:white;font-family:'Inter',sans-serif;font-size:12px;font-weight:600;flex-shrink:0}.review-info{flex:1}.review-name{font-family:'Inter',sans-serif;font-size:13px;font-weight:600;color:var(--text-dark)}.review-context{font-size:11px;color:var(--text-gray);display:flex;align-items:center;gap:4px}.context-badge{display:inline-flex;padding:2px 6px;background:rgba(109,49,194,0.08);border-radius:10px;font-family:'Inter',sans-serif;font-size:10px;font-weight:600;color:var(--secondary-purple)}.review-stars{color:var(--secondary-purple);font-size:11px;letter-spacing:1px}.review-text{font-size:13px;color:var(--text-description);line-height:1.6}.review-highlight{background:rgba(140,104,238,0.1);padding:1px 3px;border-radius:3px;font-weight:500}</style></head><body><div class=\"review-section\"><div class=\"review-header\"><h2>What guests like you are saying</h2><p>Filter by stay type to find the reviews that matter most.</p></div><div class=\"filter-bar\"><div class=\"filter-chip active\">Remote Workers</div><div class=\"filter-chip\">Traveling Nurses</div><div class=\"filter-chip\">Relocating</div><div class=\"filter-chip\">4+ Week Stays</div><div class=\"filter-chip\">Solo Guests</div></div><div class=\"summary-bar\"><div class=\"summary-score\">4.8</div><div class=\"summary-detail\"><strong>Remote workers</strong> rate this space 4.8 out of 5.<br>Workspace quality mentioned in <strong>12 of 15</strong> reviews.</div></div><div class=\"review-list\"><div class=\"review-card\"><div class=\"review-meta\"><div class=\"review-avatar\">JL</div><div class=\"review-info\"><div class=\"review-name\">Jasmine L.</div><div class=\"review-context\"><span class=\"context-badge\">Remote Worker</span><span>\u00b7 5 weeks</span></div></div><div class=\"review-stars\">\u2605\u2605\u2605\u2605\u2605</div></div><div class=\"review-text\">Perfect for remote work. The <span class=\"review-highlight\">dedicated desk by the window</span> made a huge difference \u2014 <span class=\"review-highlight\">wifi was rock solid</span> for video calls all day.</div></div><div class=\"review-card\"><div class=\"review-meta\"><div class=\"review-avatar\">DP</div><div class=\"review-info\"><div class=\"review-name\">David P.</div><div class=\"review-context\"><span class=\"context-badge\">Remote Worker</span><span>\u00b7 4 weeks</span></div></div><div class=\"review-stars\">\u2605\u2605\u2605\u2605\u2605</div></div><div class=\"review-text\">First place where the <span class=\"review-highlight\">workspace actually felt intentional</span>. Good chair, monitor-height desk, quiet street.</div></div></div></div></body></html>"
  },
  {
    id: "rb-ui-003",
    name: "Pre-Arrival Conversation Guide",
    category: "section",
    priority: "high",
    journey_phases: ["negotiation", "acceptance", "move_in"],
    problem_it_solves: "The messaging interface is a blank pipe \u2014 neither host nor guest knows what to say, when to say it, or whether communication is even expected, suppressing trust-building micro-commitments.",
    why_this_is_a_signature: "No platform in the category treats communication as a designed experience with structured prompts and social proof about what other guests typically ask \u2014 users would say \u2018This is the first platform where I felt prepared and connected to my host before I even arrived.\u2019",
    before_after: {
      before: "Airbnb after booking: A blank chat window. Neither host nor guest knows if they should message, what to say, or when. Most pairs exchange zero messages before arrival.",
      after: "Split Lease after acceptance: A guided conversation with 4 natural topics, pre-filled message templates, and social proof that \u2018most guests discuss these before arriving.\u2019"
    },
    visual_spec: {
      layout: "Flexbox column within the messaging thread \u2014 guide sits as a pinned card at the top",
      background: "rgb(252,250,255) for the guide container, #ffffff for individual topic cards",
      border: "1px solid rgba(140,104,238,0.2) for the guide, 1px solid #e5e7eb for topic cards",
      border_radius: "12px for the guide container, 8px for topic cards",
      color_usage: "Off-white background creates a distinct zone. Secondary purple for progress indicator and check icons."
    },
    interaction_spec: {
      default_state: "Guide appears as compact card with \u2018Prepare for your stay\u2019 heading and progress indicator (0 of 4).",
      hover: "Topic cards gain subtle shadow and chevron rotates slightly.",
      click: "Expanding a topic reveals why it matters, a pre-filled message template, and a \u2018Send to host\u2019 button.",
      animation: "Topic expansion uses height auto-transition (0.3s). Completion triggers a check icon SVG stroke animation."
    },
    copy_spec: {
      primary_text: "Prepare for your stay",
      secondary_text: "Most guests cover these topics before arriving. It takes about 5 minutes.",
      micro_copy: ["Send to Sarah", "Customize message", "Topic covered", "0 of 4 discussed", "You\u2019re all set!"],
      do_list: ["Frame topics as helpful suggestions, not requirements", "Pre-fill messages with warm, natural language"],
      dont_list: ["Never make the guide feel mandatory", "Never send messages automatically \u2014 the guest must choose"]
    },
    html_css: "<html><head><meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\"><style>@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap');:root{--primary-purple:#31135D;--secondary-purple:rgb(109,49,194);--accent-purple:rgb(140,104,238);--text-dark:#1a1a1a;--text-gray:#6b7280;--text-description:#374151;--bg-white:#ffffff;--bg-off-white:rgb(252,250,255);--border-color:#e5e7eb}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'DM Sans',sans-serif;background:#f9fafb;padding:24px 12px;display:flex;justify-content:center;min-height:100vh}.convo-guide{background:var(--bg-off-white);border:1px solid rgba(140,104,238,0.2);border-radius:12px;max-width:400px;width:100%;padding:18px}.guide-header{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:6px}.guide-header h3{font-family:'Inter',sans-serif;font-size:15px;font-weight:700;color:var(--primary-purple)}.progress-badge{display:inline-flex;align-items:center;gap:4px;font-family:'Inter',sans-serif;font-size:11px;font-weight:600;color:var(--secondary-purple);background:rgba(109,49,194,0.08);padding:4px 10px;border-radius:20px}.guide-subtitle{font-size:12px;color:var(--text-gray);margin-bottom:14px;line-height:1.5}.social-proof{display:flex;align-items:center;gap:6px;padding:8px 10px;background:rgba(140,104,238,0.06);border-radius:8px;margin-bottom:14px;font-family:'Inter',sans-serif;font-size:11px;color:var(--text-gray)}.social-proof svg{width:14px;height:14px;color:var(--accent-purple);flex-shrink:0}.topic-list{display:flex;flex-direction:column;gap:8px}.topic-card{background:var(--bg-white);border:1px solid var(--border-color);border-radius:8px;overflow:hidden;transition:box-shadow .2s}.topic-card:hover{box-shadow:0 2px 6px rgba(49,19,93,0.1)}.topic-card.completed{border-color:rgba(109,49,194,0.3)}.topic-row{display:flex;align-items:center;gap:10px;padding:12px 14px;cursor:pointer}.topic-icon{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:14px}.topic-icon.arrival{background:rgba(109,49,194,0.08)}.topic-icon.workspace{background:rgba(140,104,238,0.08)}.topic-icon.rhythm{background:rgba(109,49,194,0.06)}.topic-icon.neighborhood{background:rgba(140,104,238,0.06)}.topic-label{flex:1}.topic-label .title{font-family:'Inter',sans-serif;font-size:13px;font-weight:600;color:var(--text-dark)}.topic-label .hint{font-size:11px;color:var(--text-gray);margin-top:1px}.topic-status{width:18px;height:18px;display:flex;align-items:center;justify-content:center}.topic-status .check{width:18px;height:18px;border-radius:50%;background:var(--secondary-purple);display:flex;align-items:center;justify-content:center}.topic-status .check svg{width:11px;height:11px;color:white}.topic-expanded{padding:0 14px 14px;border-top:1px solid var(--border-color)}.template-area{margin-top:10px;padding:10px;background:var(--bg-off-white);border-radius:8px;border:1px solid var(--border-color);font-size:12px;color:var(--text-description);line-height:1.6}.send-btn{margin-top:10px;display:inline-flex;align-items:center;gap:6px;padding:7px 16px;background:var(--secondary-purple);color:white;border:none;border-radius:20px;font-family:'Inter',sans-serif;font-size:12px;font-weight:600;cursor:pointer}.send-btn svg{width:12px;height:12px}</style></head><body><div class=\"convo-guide\"><div class=\"guide-header\"><h3>Prepare for your stay</h3><div class=\"progress-badge\">2 of 4</div></div><div class=\"guide-subtitle\">Cover these topics before arriving \u2014 takes about 5 minutes.</div><div class=\"social-proof\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"/><circle cx=\"9\" cy=\"7\" r=\"4\"/><path d=\"M23 21v-2a4 4 0 0 0-3-3.87\"/><path d=\"M16 3.13a4 4 0 0 1 0 7.75\"/></svg>Most guests discuss these topics before arriving</div><div class=\"topic-list\"><div class=\"topic-card completed\"><div class=\"topic-row\"><div class=\"topic-icon arrival\">\ud83d\udd50</div><div class=\"topic-label\"><div class=\"title\">Arrival Details</div><div class=\"hint\">Check-in time, keys, directions</div></div><div class=\"topic-status\"><div class=\"check\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"3\"><polyline points=\"20 6 9 17 4 12\"/></svg></div></div></div></div><div class=\"topic-card completed\"><div class=\"topic-row\"><div class=\"topic-icon workspace\">\ud83d\udcbb</div><div class=\"topic-label\"><div class=\"title\">Workspace Setup</div><div class=\"hint\">Desk, wifi speed, quiet hours</div></div><div class=\"topic-status\"><div class=\"check\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"3\"><polyline points=\"20 6 9 17 4 12\"/></svg></div></div></div></div><div class=\"topic-card\"><div class=\"topic-row\"><div class=\"topic-icon rhythm\">\ud83c\udfe0</div><div class=\"topic-label\"><div class=\"title\">House Rhythm</div><div class=\"hint\">Shared spaces, laundry, quiet hours</div></div><div class=\"topic-status\"><span class=\"chevron\"><svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><polyline points=\"6 9 12 15 18 9\"/></svg></span></div></div><div class=\"topic-expanded\"><div class=\"template-area\">Hi Sarah! Quick question about the house rhythm \u2014 what are the typical quiet hours? Also, is there a laundry schedule I should know about?</div><button class=\"send-btn\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\"/><polygon points=\"22 2 15 22 11 13 2 9 22 2\"/></svg>Send to Sarah</button></div></div><div class=\"topic-card\"><div class=\"topic-row\"><div class=\"topic-icon neighborhood\">\ud83d\udccd</div><div class=\"topic-label\"><div class=\"title\">Neighborhood Tips</div><div class=\"hint\">Coffee, groceries, transit</div></div><div class=\"topic-status\"><span class=\"chevron\"><svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><polyline points=\"6 9 12 15 18 9\"/></svg></span></div></div></div></div></div></body></html>"
  },
  {
    id: "rb-ui-004",
    name: "Post-Review Forward Commitment Bridge",
    category: "card",
    priority: "high",
    journey_phases: ["active_lease", "retention"],
    problem_it_solves: "The post-review moment \u2014 when the guest has just publicly committed to a positive narrative \u2014 is the peak of consistency pressure, but every platform treats it as a dead end instead of a bridge to the next commitment.",
    why_this_is_a_signature: "No platform leverages the emotional peak after a positive review to secure a forward commitment \u2014 users would say \u2018I just said this was incredible and the platform immediately helped me act on that feeling.\u2019",
    before_after: {
      before: "Airbnb after review: \u2018Thank you for your review.\u2019 Full stop. The emotional peak dissipates into a dead-end screen.",
      after: "Split Lease after review: Your own words reflected back on a beautiful card. Three natural next steps leverage your peak enthusiasm."
    },
    visual_spec: {
      layout: "Flexbox column \u2014 quote section at top, three action buttons in a row, identity line at bottom",
      background: "Gradient from #31135D to rgba(109,49,194,0.9) for the header, #ffffff for the action area",
      border: "none \u2014 gradient header creates the visual boundary. Subtle shadow on the overall card",
      border_radius: "12px",
      color_usage: "Primary-to-secondary purple gradient creates a premium, celebratory feel. White text on gradient for the quote."
    },
    interaction_spec: {
      default_state: "Card appears with fade + translateY entrance animation (0.4s). Guest\u2019s review quote in the gradient header.",
      hover: "Action buttons gain shadow and subtle scale (1.02) on hover.",
      click: "Save Host adds to favorites. See Availability opens a mini-calendar. Share generates a shareable link.",
      animation: "Card entrance: 0.4s ease-out. Review quote appears word-by-word. Identity line fades in last."
    },
    copy_spec: {
      primary_text: "You and Sarah clearly clicked",
      secondary_text: "Perfect workspace, quiet neighborhood, and Sarah was incredibly responsive. My best remote-work stay yet.",
      micro_copy: ["Save Sarah for next time", "See upcoming availability", "Help someone like you find this", "You\u2019ve stayed with 3 hosts across 2 cities"],
      do_list: ["Quote the guest\u2019s own words \u2014 their review IS the most powerful persuasion", "Use the host\u2019s first name to maintain the relationship frame"],
      dont_list: ["Never show after a negative review \u2014 only for 4+ stars", "Never make the forward commitment feel like a sales pitch"]
    },
    html_css: "<html><head><meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\"><style>@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap');:root{--primary-purple:#31135D;--secondary-purple:rgb(109,49,194);--accent-purple:rgb(140,104,238);--text-dark:#1a1a1a;--text-gray:#6b7280;--text-description:#374151;--bg-white:#ffffff;--border-color:#e5e7eb}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'DM Sans',sans-serif;background:#f9fafb;padding:24px 12px;display:flex;justify-content:center;min-height:100vh}.bridge-card{max-width:420px;width:100%;border-radius:12px;overflow:hidden;box-shadow:0 6px 20px rgba(109,49,194,0.25);animation:card-enter .5s ease-out}@keyframes card-enter{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}.bridge-header{background:linear-gradient(135deg,#31135D 0%,rgba(109,49,194,0.9) 100%);padding:24px 20px 20px;color:white}.bridge-header .label{font-family:'Inter',sans-serif;font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.05em;opacity:.7;margin-bottom:6px}.bridge-header h2{font-family:'Inter',sans-serif;font-size:18px;font-weight:700;margin-bottom:12px;line-height:1.3}.review-quote{font-size:13px;line-height:1.6;opacity:.9;font-style:italic;padding-left:14px;border-left:3px solid rgba(255,255,255,0.3)}.star-row{display:flex;gap:2px;margin-top:10px;color:rgba(255,255,255,0.8);font-size:13px}.bridge-body{background:var(--bg-white);padding:18px 20px 20px}.bridge-prompt{font-family:'Inter',sans-serif;font-size:13px;font-weight:500;color:var(--text-dark);margin-bottom:12px}.action-row{display:flex;gap:8px;margin-bottom:16px}.action-btn{flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;padding:12px 6px;border:1.5px solid var(--border-color);border-radius:10px;background:var(--bg-white);cursor:pointer;transition:all .2s;text-align:center}.action-btn:hover{border-color:var(--secondary-purple);box-shadow:0 2px 8px rgba(49,19,93,0.12);transform:scale(1.02)}.action-btn .icon{width:28px;height:28px;border-radius:8px;background:rgba(109,49,194,0.08);display:flex;align-items:center;justify-content:center;color:var(--secondary-purple)}.action-btn .icon svg{width:14px;height:14px}.action-btn .label{font-family:'Inter',sans-serif;font-size:11px;font-weight:600;color:var(--text-dark);line-height:1.3}.identity-line{display:flex;align-items:center;gap:8px;padding:10px 14px;background:rgba(140,104,238,0.06);border-radius:8px}.identity-icon{width:24px;height:24px;border-radius:50%;background:var(--secondary-purple);display:flex;align-items:center;justify-content:center;color:white;flex-shrink:0}.identity-icon svg{width:12px;height:12px}.identity-text{font-family:'Inter',sans-serif;font-size:12px;color:var(--secondary-purple);font-weight:600;line-height:1.4}.identity-text span{font-weight:400;color:var(--text-gray)}@media(max-width:600px){.action-row{flex-direction:column}.action-btn{flex-direction:row;padding:10px 14px}.action-btn .label{text-align:left}}</style></head><body><div class=\"bridge-card\"><div class=\"bridge-header\"><div class=\"label\">Review submitted</div><h2>You and Sarah clearly clicked</h2><div class=\"review-quote\">\"Perfect workspace, quiet neighborhood, and Sarah was incredibly responsive. My best remote-work stay yet.\"</div><div class=\"star-row\">\u2605 \u2605 \u2605 \u2605 \u2605</div></div><div class=\"bridge-body\"><div class=\"bridge-prompt\">What would you like to do next?</div><div class=\"action-row\"><div class=\"action-btn\"><div class=\"icon\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"/></svg></div><div class=\"label\">Save Sarah for next time</div></div><div class=\"action-btn\"><div class=\"icon\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/><line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\"/><line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\"/><line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"/></svg></div><div class=\"label\">See upcoming availability</div></div><div class=\"action-btn\"><div class=\"icon\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><circle cx=\"18\" cy=\"5\" r=\"3\"/><circle cx=\"6\" cy=\"12\" r=\"3\"/><circle cx=\"18\" cy=\"19\" r=\"3\"/><line x1=\"8.59\" y1=\"13.51\" x2=\"15.42\" y2=\"17.49\"/><line x1=\"15.41\" y1=\"6.51\" x2=\"8.59\" y2=\"10.49\"/></svg></div><div class=\"label\">Help someone like you find this</div></div></div><div class=\"identity-line\"><div class=\"identity-icon\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"/><circle cx=\"9\" cy=\"7\" r=\"4\"/></svg></div><div class=\"identity-text\">You've stayed with 3 hosts across 2 cities <span>\u00b7 Your Split Lease journey</span></div></div></div></div></body></html>"
  },
  {
    id: "rb-ui-005",
    name: "Stay Purpose Selector",
    category: "form",
    priority: "medium",
    journey_phases: ["discovery", "search"],
    problem_it_solves: "Guests arrive at search as anonymous browsers with unspoken preferences \u2014 the platform never asks who they are or what they need, leaving the most powerful commitment device (visible preference declaration) unused.",
    why_this_is_a_signature: "No platform asks you to declare what matters before showing listings \u2014 users would say \u2018This platform actually knows what I care about and shows me results through my own lens.\u2019",
    before_after: {
      before: "Airbnb homepage: A search bar. No identity question, no preference declaration, no micro-commitment. The guest browses as an anonymous consumer.",
      after: "Split Lease: \u2018What brings you here?\u2019 \u2014 one tap. \u2018What matters most?\u2019 \u2014 two taps. Every listing now shows how it matches YOUR priorities."
    },
    visual_spec: {
      layout: "Flexbox \u2014 purpose options in a 3-column grid on desktop, single-column on mobile. Priority chips as horizontal flex-wrap.",
      background: "#ffffff for the selector card, rgb(252,250,255) for selected states, primary-purple gradient for the persistent bar",
      border: "1.5px solid #e5e7eb for unselected, 2px solid rgb(109,49,194) for selected",
      border_radius: "12px for purpose cards, 20px for priority chips, 8px for the persistent bar",
      color_usage: "Secondary purple for selected state borders and checkmarks. Accent purple at low opacity for selected backgrounds."
    },
    interaction_spec: {
      default_state: "Welcoming card with \u2018What brings you here?\u2019 and three purpose options. No selection pre-made.",
      hover: "Purpose cards gain shadow and a subtle purple border tint.",
      click: "Selecting a purpose fills card with off-white background, border turns purple, check icon appears. Priority chips slide in below.",
      animation: "Purpose selection triggers a brief scale pulse (1.02 over 0.15s). Priority section slides in from height 0."
    },
    copy_spec: {
      primary_text: "What brings you to Split Lease?",
      secondary_text: "Tell us about your stay and we\u2019ll show you spaces that match.",
      micro_copy: ["Working remotely", "Traveling for work", "Relocating", "Quiet workspace", "Close to transit", "Budget-friendly", "See spaces that match"],
      do_list: ["Keep purpose options to 3-4 maximum", "Frame this as \u2018help us help you\u2019 not \u2018we need your data\u2019"],
      dont_list: ["Never make this a long form or survey", "Never lock users into selections \u2014 an Edit option must always be visible"]
    },
    html_css: "<html><head><meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\"><style>@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap');:root{--primary-purple:#31135D;--secondary-purple:rgb(109,49,194);--accent-purple:rgb(140,104,238);--text-dark:#1a1a1a;--text-gray:#6b7280;--text-description:#374151;--bg-white:#ffffff;--bg-off-white:rgb(252,250,255);--border-color:#e5e7eb}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'DM Sans',sans-serif;background:#f9fafb;padding:24px 12px;display:flex;flex-direction:column;align-items:center;gap:20px;min-height:100vh}.purpose-selector{background:var(--bg-white);border:1px solid var(--border-color);border-radius:12px;padding:24px 20px;max-width:480px;width:100%;box-shadow:0 2px 8px rgba(0,0,0,0.05)}.purpose-selector h2{font-family:'Inter',sans-serif;font-size:18px;font-weight:700;color:var(--primary-purple);margin-bottom:4px}.purpose-subtitle{font-size:13px;color:var(--text-gray);margin-bottom:18px;line-height:1.5}.purpose-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:18px}.purpose-card{display:flex;flex-direction:column;align-items:center;gap:8px;padding:16px 10px;border:1.5px solid var(--border-color);border-radius:12px;cursor:pointer;transition:all .2s;text-align:center;position:relative}.purpose-card:hover{border-color:var(--accent-purple);box-shadow:0 2px 8px rgba(49,19,93,0.1)}.purpose-card.selected{border-color:var(--secondary-purple);border-width:2px;background:var(--bg-off-white)}.purpose-card .emoji{font-size:24px;line-height:1}.purpose-card .card-label{font-family:'Inter',sans-serif;font-size:12px;font-weight:600;color:var(--text-dark);line-height:1.3}.purpose-card .check-mark{position:absolute;top:6px;right:6px;width:18px;height:18px;border-radius:50%;background:var(--secondary-purple);display:none;align-items:center;justify-content:center}.purpose-card.selected .check-mark{display:flex}.check-mark svg{width:11px;height:11px;color:white}.priority-section{margin-bottom:18px}.priority-label{font-family:'Inter',sans-serif;font-size:13px;font-weight:600;color:var(--text-dark);margin-bottom:8px}.priority-chips{display:flex;flex-wrap:wrap;gap:6px}.priority-chip{padding:7px 14px;border-radius:20px;font-family:'Inter',sans-serif;font-size:12px;font-weight:500;cursor:pointer;border:1.5px solid var(--border-color);background:var(--bg-white);color:var(--text-gray);transition:all .15s}.priority-chip:hover{border-color:var(--accent-purple);color:var(--secondary-purple)}.priority-chip.selected{background:var(--secondary-purple);color:white;border-color:var(--secondary-purple);font-weight:600}.cta-btn{width:100%;padding:12px;background:var(--secondary-purple);color:white;border:none;border-radius:12px;font-family:'Inter',sans-serif;font-size:14px;font-weight:600;cursor:pointer;margin-bottom:8px}.cta-btn:hover{background:var(--accent-purple)}.skip-link{display:block;text-align:center;font-family:'Inter',sans-serif;font-size:12px;color:var(--text-gray);text-decoration:none;cursor:pointer}.skip-link:hover{color:var(--secondary-purple)}.preference-bar{max-width:480px;width:100%;background:linear-gradient(135deg,#31135D 0%,rgba(109,49,194,0.9) 100%);border-radius:10px;padding:10px 18px;display:flex;align-items:center;justify-content:space-between;color:white}.pref-content{display:flex;align-items:center;gap:8px}.pref-icon{width:20px;height:20px;display:flex;align-items:center;justify-content:center;opacity:.8}.pref-text{font-family:'Inter',sans-serif;font-size:12px;font-weight:600}.pref-text span{opacity:.7;font-weight:400}.pref-edit{font-family:'Inter',sans-serif;font-size:11px;font-weight:500;opacity:.7;cursor:pointer;border:none;background:none;color:white;text-decoration:underline}@media(max-width:600px){.purpose-grid{grid-template-columns:1fr}.purpose-card{flex-direction:row;padding:12px 14px;text-align:left}.purpose-card .emoji{font-size:20px}}</style></head><body><div class=\"purpose-selector\"><h2>What brings you to Split Lease?</h2><div class=\"purpose-subtitle\">We'll show you spaces and reviews from people in your situation.</div><div class=\"purpose-grid\"><div class=\"purpose-card selected\"><div class=\"check-mark\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"3\"><polyline points=\"20 6 9 17 4 12\"/></svg></div><div class=\"emoji\">\ud83d\udcbb</div><div class=\"card-label\">Working remotely</div></div><div class=\"purpose-card\"><div class=\"check-mark\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"3\"><polyline points=\"20 6 9 17 4 12\"/></svg></div><div class=\"emoji\">\u2708\ufe0f</div><div class=\"card-label\">Traveling for work</div></div><div class=\"purpose-card\"><div class=\"check-mark\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"3\"><polyline points=\"20 6 9 17 4 12\"/></svg></div><div class=\"emoji\">\ud83d\udce6</div><div class=\"card-label\">Relocating</div></div></div><div class=\"priority-section\"><div class=\"priority-label\">What matters most for your stay?</div><div class=\"priority-chips\"><div class=\"priority-chip selected\">Quiet workspace</div><div class=\"priority-chip\">Close to transit</div><div class=\"priority-chip selected\">Budget-friendly</div><div class=\"priority-chip\">Pet-friendly</div><div class=\"priority-chip\">Walkable neighborhood</div></div></div><button class=\"cta-btn\">See spaces that match</button><a class=\"skip-link\">Browse all spaces</a></div><div class=\"preference-bar\"><div class=\"pref-content\"><div class=\"pref-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"/></svg></div><div class=\"pref-text\">Remote Worker <span>\u00b7 Quiet workspace \u00b7 Budget-friendly</span></div></div><button class=\"pref-edit\">Edit</button></div></body></html>"
  },
  {
    id: "rb-ui-006",
    name: "Commitment Reassurance Badge",
    category: "badge",
    priority: "high",
    journey_phases: ["proposal_creation", "acceptance"],
    problem_it_solves: "At the peak commitment moment \u2014 when the guest is about to submit a proposal \u2014 there is zero social proof to reassure them, creating a \u2018checkout desert\u2019 where doubt is highest and psychological support is absent.",
    why_this_is_a_signature: "No platform provides social proof at the commitment moment \u2014 users would feel a genuine wave of reassurance at the exact moment they\u2019re most nervous about committing real money to a shared living arrangement.",
    before_after: {
      before: "Airbnb checkout: A price breakdown, a payment form, and a \u2018Confirm and Pay\u2019 button. Zero social proof at the peak uncertainty moment.",
      after: "Split Lease proposal: Between your summary and the submit button, a quiet badge: \u2018Guests rate stays with Sarah 4.9/5 \u2014 97% of proposals accepted.\u2019 Exactly the reassurance you need."
    },
    visual_spec: {
      layout: "Flexbox row \u2014 icon on the left, two-line text stack on the right, compact pill-shaped container",
      background: "rgba(140,104,238,0.06) \u2014 a barely-there purple tint",
      border: "1px solid rgba(140,104,238,0.15)",
      border_radius: "8px",
      color_usage: "Accent purple at very low opacity (6%) for background. Secondary purple for key stat numbers. Everything restrained."
    },
    interaction_spec: {
      default_state: "Badge is visible but unobtrusive, between the proposal summary and the submit button.",
      hover: "Subtle border color intensifies. A tooltip could show sample size.",
      click: "Tapping expands to show a mini detail card with the host\u2019s review breakdown.",
      animation: "Badge fades in (0.3s ease) with a subtle slide-up from 4px. No flashy animations."
    },
    copy_spec: {
      primary_text: "Guests rate stays with Sarah 4.9 out of 5",
      secondary_text: "97% of proposals to this host are accepted",
      micro_copy: ["Based on 23 past guests", "View reviews", "Guests like you loved this host"],
      do_list: ["Use the host\u2019s first name to maintain the relationship frame", "Show honest numbers \u2014 if only 5 guests have stayed, say so"],
      dont_list: ["Never fabricate or round up stats \u2014 authenticity is the point", "Never use exclamation marks or urgency language"]
    },
    html_css: "<html><head><meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\"><style>@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap');:root{--primary-purple:#31135D;--secondary-purple:rgb(109,49,194);--accent-purple:rgb(140,104,238);--text-dark:#1a1a1a;--text-gray:#6b7280;--text-description:#374151;--bg-white:#ffffff;--bg-off-white:rgb(252,250,255);--border-color:#e5e7eb}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'DM Sans',sans-serif;background:#f9fafb;padding:24px 12px;display:flex;flex-direction:column;align-items:center;gap:14px;min-height:100vh}.proposal-context{max-width:380px;width:100%;display:flex;flex-direction:column;gap:14px}.proposal-summary{background:var(--bg-white);border:1px solid var(--border-color);border-radius:12px;padding:18px}.proposal-summary h3{font-family:'Inter',sans-serif;font-size:15px;font-weight:700;color:var(--primary-purple);margin-bottom:10px}.summary-row{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid #f3f4f6;font-size:13px}.summary-row:last-child{border-bottom:none}.summary-row .label{color:var(--text-gray)}.summary-row .value{font-family:'Inter',sans-serif;font-weight:600;color:var(--text-dark)}.summary-row .total{font-size:16px;color:var(--primary-purple)}.reassurance-badge{background:rgba(140,104,238,0.06);border:1px solid rgba(140,104,238,0.15);border-radius:8px;padding:10px 14px;display:flex;align-items:center;gap:10px;animation:badge-enter .3s ease;transition:all .2s;cursor:pointer}.reassurance-badge:hover{background:rgba(140,104,238,0.1);border-color:rgba(140,104,238,0.3)}@keyframes badge-enter{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}.badge-icon{width:32px;height:32px;border-radius:50%;background:rgba(109,49,194,0.1);display:flex;align-items:center;justify-content:center;flex-shrink:0}.badge-icon svg{width:16px;height:16px;color:var(--secondary-purple)}.badge-text{flex:1}.badge-stat{font-family:'Inter',sans-serif;font-size:12px;font-weight:600;color:var(--primary-purple);line-height:1.4}.badge-stat .highlight{color:var(--secondary-purple)}.badge-meta{font-size:11px;color:var(--text-gray);margin-top:1px}.submit-btn{width:100%;padding:14px;background:var(--secondary-purple);color:white;border:none;border-radius:12px;font-family:'Inter',sans-serif;font-size:15px;font-weight:600;cursor:pointer;box-shadow:0 4px 12px rgba(109,49,194,0.3)}.submit-btn:hover{background:var(--accent-purple)}</style></head><body><div class=\"proposal-context\"><div class=\"proposal-summary\"><h3>Proposal Summary</h3><div class=\"summary-row\"><span class=\"label\">Space</span><span class=\"value\">Sarah's Williamsburg Studio</span></div><div class=\"summary-row\"><span class=\"label\">Dates</span><span class=\"value\">Mar 3 \u2013 Apr 14 (6 weeks)</span></div><div class=\"summary-row\"><span class=\"label\">Weekly rate</span><span class=\"value\">$650/week</span></div><div class=\"summary-row\"><span class=\"label\">Total</span><span class=\"value total\">$3,900</span></div></div><div class=\"reassurance-badge\"><div class=\"badge-icon\"><svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\"/></svg></div><div class=\"badge-text\"><div class=\"badge-stat\">Guests rate stays with Sarah <span class=\"highlight\">4.9 out of 5</span></div><div class=\"badge-meta\">97% of proposals accepted \u00b7 Based on 23 past guests</div></div></div><button class=\"submit-btn\">Submit Proposal to Sarah</button></div></body></html>"
  }
];

// ===== RENDER =====
function formatPhase(p) {
  return p.replace(/_/g, ' ').replace(/\b\w/g, function(c){ return c.toUpperCase(); });
}

function esc(s) {
  var d = document.createElement('div');
  d.textContent = s;
  return d.innerHTML;
}

function renderCard(el) {
  var priorityClass = 'badge-' + el.priority;
  var phases = el.journey_phases.map(function(p){ return '<span class="phase-tag">' + formatPhase(p) + '</span>'; }).join('');

  // Build detail sections
  var visualRows = '';
  if (el.visual_spec) {
    var vs = el.visual_spec;
    if (vs.layout) visualRows += '<tr><td>Layout</td><td>' + esc(vs.layout) + '</td></tr>';
    if (vs.background) visualRows += '<tr><td>Background</td><td>' + esc(vs.background) + '</td></tr>';
    if (vs.border) visualRows += '<tr><td>Border</td><td>' + esc(vs.border) + '</td></tr>';
    if (vs.border_radius) visualRows += '<tr><td>Radius</td><td>' + esc(vs.border_radius) + '</td></tr>';
    if (vs.color_usage) visualRows += '<tr><td>Color Usage</td><td>' + esc(vs.color_usage) + '</td></tr>';
  }

  var interactionRows = '';
  if (el.interaction_spec) {
    var is2 = el.interaction_spec;
    if (is2.default_state) interactionRows += '<tr><td>Default</td><td>' + esc(is2.default_state) + '</td></tr>';
    if (is2.hover) interactionRows += '<tr><td>Hover</td><td>' + esc(is2.hover) + '</td></tr>';
    if (is2.click) interactionRows += '<tr><td>Click</td><td>' + esc(is2.click) + '</td></tr>';
    if (is2.animation) interactionRows += '<tr><td>Animation</td><td>' + esc(is2.animation) + '</td></tr>';
  }

  var copyHtml = '';
  if (el.copy_spec) {
    var cs = el.copy_spec;
    var microChips = '';
    if (cs.micro_copy) {
      microChips = '<div class="micro-chips">' + cs.micro_copy.map(function(m){ return '<span class="micro-chip">' + esc(m) + '</span>'; }).join('') + '</div>';
    }
    var doList = '';
    if (cs.do_list && cs.do_list.length) {
      doList = '<div style="margin-top:8px"><strong style="font-size:11px;color:#16a34a;font-family:Inter,sans-serif">DO:</strong><ul class="detail-list do-list">' + cs.do_list.map(function(d){ return '<li>' + esc(d) + '</li>'; }).join('') + '</ul></div>';
    }
    var dontList = '';
    if (cs.dont_list && cs.dont_list.length) {
      dontList = '<div style="margin-top:8px"><strong style="font-size:11px;color:#dc2626;font-family:Inter,sans-serif">DON\'T:</strong><ul class="detail-list dont-list">' + cs.dont_list.map(function(d){ return '<li>' + esc(d) + '</li>'; }).join('') + '</ul></div>';
    }
    copyHtml = '<div class="detail-section"><div class="detail-heading"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>Copy Spec</div>' +
      '<table class="detail-table"><tr><td>Primary</td><td>' + esc(cs.primary_text || '') + '</td></tr><tr><td>Secondary</td><td>' + esc(cs.secondary_text || '') + '</td></tr></table>' +
      '<div style="margin-top:8px"><strong style="font-size:11px;color:var(--text-gray);font-family:Inter,sans-serif">MICRO-COPY:</strong>' + microChips + '</div>' +
      doList + dontList +
      '</div>';
  }

  // Encode html_css for srcdoc
  var srcdoc = el.html_css.replace(/&/g, '&amp;').replace(/"/g, '&quot;');

  return '<div class="element-card" data-category="' + el.category + '" data-priority="' + el.priority + '" data-phases="' + el.journey_phases.join(',') + '">' +
    '<div class="card-iframe-wrap"><iframe srcdoc="' + srcdoc + '" sandbox="allow-same-origin" loading="lazy" title="' + esc(el.name) + ' preview"></iframe></div>' +
    '<div class="card-body">' +
      '<div class="card-header">' +
        '<div class="card-title">' + esc(el.name) + '</div>' +
        '<div class="badges-row">' +
          '<span class="badge badge-category">' + el.category + '</span>' +
          '<span class="badge ' + priorityClass + '">' + el.priority + '</span>' +
        '</div>' +
      '</div>' +
      '<div class="card-problem">' + esc(el.problem_it_solves) + '</div>' +
      '<div class="before-after">' +
        '<div class="ba-row before"><span class="ba-label">Before</span><span>' + esc(el.before_after.before) + '</span></div>' +
        '<div class="ba-row after"><span class="ba-label">After</span><span>' + esc(el.before_after.after) + '</span></div>' +
      '</div>' +
      '<div class="card-signature">' + esc(el.why_this_is_a_signature) + '</div>' +
      '<div class="phase-tags">' + phases + '</div>' +
      '<button class="expand-toggle" onclick="toggleDetails(this)">' +
        '<span>Full Specs</span>' +
        '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="6 9 12 15 18 9"/></svg>' +
      '</button>' +
    '</div>' +
    '<div class="card-details">' +
      '<div class="detail-section"><div class="detail-heading"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg>Visual Spec</div>' +
      '<table class="detail-table">' + visualRows + '</table></div>' +
      '<div class="detail-section"><div class="detail-heading"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 15l-2 5L9 9l11 4-5 2z"/><path d="M2 2l7.586 7.586"/></svg>Interaction Spec</div>' +
      '<table class="detail-table">' + interactionRows + '</table></div>' +
      copyHtml +
    '</div>' +
  '</div>';
}

function toggleDetails(btn) {
  var card = btn.closest('.element-card');
  var detail = card.querySelector('.card-details');
  var isOpen = detail.classList.contains('visible');
  detail.classList.toggle('visible');
  btn.classList.toggle('open');
  btn.querySelector('span').textContent = isOpen ? 'Full Specs' : 'Hide Specs';
}

function applyFilters() {
  var cat = document.getElementById('filterCategory').value;
  var pri = document.getElementById('filterPriority').value;
  var phase = document.getElementById('filterPhase').value;
  var cards = document.querySelectorAll('.element-card');
  var visible = 0;
  cards.forEach(function(card) {
    var cCat = card.dataset.category;
    var cPri = card.dataset.priority;
    var cPhases = card.dataset.phases;
    var matchCat = cat === 'all' || cCat === cat;
    var matchPri = pri === 'all' || cPri === pri;
    var matchPhase = phase === 'all' || cPhases.split(',').indexOf(phase) !== -1;
    var show = matchCat && matchPri && matchPhase;
    card.style.display = show ? '' : 'none';
    if (show) visible++;
  });
  document.getElementById('filterCount').innerHTML = '<strong>' + visible + '</strong> of ' + ELEMENTS.length + ' elements';
}

// Initialize
(function() {
  var grid = document.getElementById('elementsGrid');
  grid.innerHTML = ELEMENTS.map(renderCard).join('');
})();
</script>
</body>
</html>
