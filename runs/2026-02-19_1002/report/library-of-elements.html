<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Library of Elements â€” Design Stack v2 | Run 2026-02-19_1002</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --primary-purple:#31135D;
  --secondary-purple:rgb(109,49,194);
  --accent-purple:rgb(140,104,238);
  --bg-white:#ffffff;
  --bg-light:#f9fafb;
  --bg-light-gray:#f3f4f6;
  --bg-off-white:rgb(252,250,255);
  --text-dark:#1a1a1a;
  --text-gray:#6b7280;
  --text-light-gray:#9ca3af;
  --text-description:#374151;
  --border-color:#e5e7eb;
  --shadow-sm:0 1px 3px rgba(0,0,0,0.05);
  --shadow-md:0 2px 8px rgba(0,0,0,0.08);
  --shadow-lg:0 4px 16px rgba(0,0,0,0.1);
  --shadow-purple-md:0 4px 8px rgba(49,19,93,0.15);
  --rounded-sm:4px;--rounded-md:6px;--rounded-lg:8px;--rounded-xl:12px;--rounded-2xl:16px;--rounded-pill:20px;
  --font-inter:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
  --font-dm:'DM Sans',sans-serif;
  --transition-fast:0.15s;--transition-base:0.2s;--transition-slow:0.3s;
}
html{scroll-behavior:smooth}
body{font-family:var(--font-inter);background:var(--bg-light);color:var(--text-dark);line-height:1.5;-webkit-font-smoothing:antialiased}
.lib-header{background:linear-gradient(135deg,#31135D 0%,#4a1f8a 50%,#5a2d8f 100%);padding:48px 32px 40px;position:relative;overflow:hidden}
.lib-header::before{content:'';position:absolute;top:-60%;right:-10%;width:500px;height:500px;background:radial-gradient(circle,rgba(140,104,238,0.15) 0%,transparent 70%);pointer-events:none}
.lib-header__inner{max-width:1320px;margin:0 auto;position:relative;z-index:1}
.lib-header__badge{display:inline-block;background:rgba(255,255,255,0.12);color:rgba(255,255,255,0.85);font-size:11px;font-weight:600;padding:4px 12px;border-radius:var(--rounded-pill);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:16px;backdrop-filter:blur(4px)}
.lib-header__title{font-size:36px;font-weight:800;color:#fff;margin-bottom:8px;letter-spacing:-0.5px}
.lib-header__sub{font-family:var(--font-dm);font-size:16px;color:rgba(255,255,255,0.7);max-width:600px;line-height:1.6}
.lib-header__meta{display:flex;gap:24px;margin-top:20px;flex-wrap:wrap}
.lib-header__meta-item{font-size:12px;color:rgba(255,255,255,0.55);font-family:var(--font-dm)}
.lib-header__meta-item strong{color:rgba(255,255,255,0.85);font-weight:600}
.lib-toolbar{position:sticky;top:0;z-index:100;background:rgba(255,255,255,0.92);backdrop-filter:blur(12px);border-bottom:1px solid var(--border-color);padding:12px 32px;transition:box-shadow var(--transition-base)}
.lib-toolbar.scrolled{box-shadow:var(--shadow-md)}
.lib-toolbar__inner{max-width:1320px;margin:0 auto;display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.lib-search{position:relative;flex:1;min-width:220px;max-width:400px}
.lib-search__input{width:100%;padding:9px 14px 9px 36px;border:1px solid var(--border-color);border-radius:var(--rounded-lg);font-family:var(--font-inter);font-size:13px;background:var(--bg-white);color:var(--text-dark);transition:border-color var(--transition-fast);outline:none}
.lib-search__input:focus{border-color:var(--secondary-purple)}
.lib-search__icon{position:absolute;left:11px;top:50%;transform:translateY(-50%);color:var(--text-light-gray);font-size:14px;pointer-events:none}
.lib-filters{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.lib-filter-group{position:relative}
.lib-filter-btn{display:inline-flex;align-items:center;gap:5px;padding:7px 14px;border:1px solid var(--border-color);border-radius:var(--rounded-lg);background:var(--bg-white);font-family:var(--font-inter);font-size:12px;font-weight:500;color:var(--text-gray);cursor:pointer;transition:border-color var(--transition-fast),color var(--transition-fast);white-space:nowrap}
.lib-filter-btn:hover,.lib-filter-btn.active{border-color:var(--secondary-purple);color:var(--secondary-purple)}
.lib-filter-btn .arrow{font-size:10px;margin-left:2px;transition:transform var(--transition-fast)}
.lib-filter-btn.active .arrow{transform:rotate(180deg)}
.lib-filter-dropdown{position:absolute;top:calc(100% + 4px);left:0;min-width:200px;background:var(--bg-white);border:1px solid var(--border-color);border-radius:var(--rounded-lg);box-shadow:var(--shadow-lg);padding:6px 0;display:none;z-index:200}
.lib-filter-dropdown.open{display:block}
.lib-filter-option{display:flex;align-items:center;gap:8px;padding:8px 14px;font-size:12px;color:var(--text-dark);cursor:pointer;transition:background var(--transition-fast)}
.lib-filter-option:hover{background:var(--bg-light)}
.lib-filter-option input[type=checkbox]{accent-color:var(--secondary-purple)}
.lib-count{font-size:12px;color:var(--text-light-gray);font-family:var(--font-dm);margin-left:auto;white-space:nowrap}
.lib-grid-wrap{max-width:1320px;margin:0 auto;padding:24px 32px 64px}
.lib-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:20px}
.lib-empty{grid-column:1/-1;text-align:center;padding:80px 24px;color:var(--text-light-gray);font-size:15px}
.lib-card{background:var(--bg-white);border:1px solid var(--border-color);border-radius:var(--rounded-xl);overflow:hidden;transition:box-shadow var(--transition-base),border-color var(--transition-base),transform var(--transition-base);cursor:pointer;display:flex;flex-direction:column}
.lib-card:hover{box-shadow:var(--shadow-purple-md);border-color:rgba(109,49,194,0.25);transform:translateY(-2px)}
.lib-card__preview{width:100%;height:220px;border-bottom:1px solid var(--border-color);background:var(--bg-light);position:relative;overflow:hidden}
.lib-card__preview iframe{width:100%;height:100%;border:none;pointer-events:none;transform-origin:top left}
.lib-card__body{padding:16px 18px;flex:1;display:flex;flex-direction:column}
.lib-card__top-row{display:flex;align-items:center;gap:8px;margin-bottom:8px;flex-wrap:wrap}
.lib-card__cat{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;padding:3px 9px;border-radius:var(--rounded-pill);background:rgba(109,49,194,0.08);color:var(--secondary-purple)}
.lib-card__id{font-size:10px;color:var(--text-light-gray);margin-left:auto;font-family:var(--font-dm)}
.lib-card__name{font-size:16px;font-weight:700;color:var(--text-dark);margin-bottom:6px;line-height:1.3}
.lib-card__desc{font-family:var(--font-dm);font-size:13px;color:var(--text-gray);line-height:1.5;margin-bottom:12px;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;flex:1}
.lib-card__phases{display:flex;gap:4px;flex-wrap:wrap;margin-bottom:10px}
.lib-card__phase{font-size:10px;padding:2px 8px;border-radius:var(--rounded-sm);background:var(--bg-light-gray);color:var(--text-gray);font-weight:500}
.lib-card__sources{font-size:10px;color:var(--text-light-gray);font-family:var(--font-dm);border-top:1px solid var(--border-color);padding-top:10px;margin-top:auto}
.lib-card__sources strong{color:var(--text-gray);font-weight:600}
.lib-overlay{position:fixed;inset:0;background:rgba(49,19,93,0.5);z-index:1000;display:none;align-items:flex-start;justify-content:center;padding:40px 24px;overflow-y:auto;backdrop-filter:blur(4px);animation:fadeIn var(--transition-base) ease}
.lib-overlay.open{display:flex}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.lib-modal{background:var(--bg-white);border-radius:var(--rounded-2xl);width:100%;max-width:900px;box-shadow:0 24px 64px rgba(49,19,93,0.3);animation:slideUp var(--transition-slow) ease;margin-bottom:40px}
.lib-modal__preview{width:100%;min-height:300px;max-height:450px;border-radius:var(--rounded-2xl) var(--rounded-2xl) 0 0;overflow:hidden;background:var(--bg-light);border-bottom:1px solid var(--border-color);position:relative}
.lib-modal__preview iframe{width:100%;height:400px;border:none}
.lib-modal__close{position:absolute;top:14px;right:14px;z-index:10;width:36px;height:36px;border-radius:50%;background:rgba(255,255,255,0.9);border:1px solid var(--border-color);display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;color:var(--text-dark);transition:background var(--transition-fast)}
.lib-modal__close:hover{background:var(--bg-white)}
.lib-modal__content{padding:28px 32px 32px}
.lib-modal__header{display:flex;align-items:flex-start;gap:12px;margin-bottom:20px;flex-wrap:wrap}
.lib-modal__title{font-size:24px;font-weight:800;color:var(--text-dark);flex:1;min-width:200px}
.lib-modal__desc{font-family:var(--font-dm);font-size:14px;color:var(--text-description);line-height:1.7;margin-bottom:24px}
.lib-modal__section{margin-bottom:24px}
.lib-modal__section-title{font-size:13px;font-weight:700;color:var(--primary-purple);text-transform:uppercase;letter-spacing:0.6px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid rgba(109,49,194,0.1)}
.lib-modal__phases-row{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:16px}
.lib-modal__sources-row{font-size:12px;color:var(--text-gray);font-family:var(--font-dm)}
.lib-modal__sources-row code{background:var(--bg-light-gray);padding:2px 6px;border-radius:var(--rounded-sm);font-size:11px;color:var(--secondary-purple);margin:0 2px}
@media(max-width:768px){
  .lib-header{padding:32px 20px}.lib-header__title{font-size:26px}
  .lib-toolbar{padding:10px 16px}.lib-grid-wrap{padding:16px 16px 48px}
  .lib-grid{grid-template-columns:1fr;gap:16px}
  .lib-modal__content{padding:20px}.lib-modal{max-width:100%}.lib-overlay{padding:20px 12px}
}
</style>
</head>
<body>
<header class="lib-header">
  <div class="lib-header__inner">
    <span class="lib-header__badge">Design Stack v2 &middot; Layer 8 Element Factory</span>
    <h1 class="lib-header__title">Library of Elements</h1>
    <p class="lib-header__sub">Browsable catalog of production-ready UI elements for the Split Lease host journey. Each element includes live preview and design specs.</p>
    <div class="lib-header__meta">
      <span class="lib-header__meta-item"><strong>Run:</strong> 2026-02-19_1002</span>
      <span class="lib-header__meta-item"><strong>Journey:</strong> Host</span>
      <span class="lib-header__meta-item"><strong>Elements:</strong> 8</span>
      <span class="lib-header__meta-item"><strong>Style:</strong> Split Lease Purple Palette</span>
    </div>
  </div>
</header>

<div class="lib-toolbar" id="toolbar">
  <div class="lib-toolbar__inner">
    <div class="lib-search">
      <span class="lib-search__icon">&#128269;</span>
      <input class="lib-search__input" type="text" id="searchInput" placeholder="Search elements by name or description...">
    </div>
    <div class="lib-filters">
      <div class="lib-filter-group">
        <button class="lib-filter-btn" data-filter="phase">Phase <span class="arrow">&#9662;</span></button>
        <div class="lib-filter-dropdown" data-filter-for="phase">
          <label class="lib-filter-option"><input type="checkbox" value="active_lease"> active lease</label>
          <label class="lib-filter-option"><input type="checkbox" value="evaluation"> evaluation</label>
          <label class="lib-filter-option"><input type="checkbox" value="listing_creation"> listing creation</label>
          <label class="lib-filter-option"><input type="checkbox" value="onboarding"> onboarding</label>
          <label class="lib-filter-option"><input type="checkbox" value="pricing"> pricing</label>
          <label class="lib-filter-option"><input type="checkbox" value="proposal_mgmt"> proposal mgmt</label>
          <label class="lib-filter-option"><input type="checkbox" value="retention"> retention</label>
        </div>
      </div>
    </div>
    <span class="lib-count" id="resultCount">8 elements</span>
  </div>
</div>

<div class="lib-grid-wrap">
  <div class="lib-grid" id="elementGrid"></div>
</div>

<div class="lib-overlay" id="modalOverlay">
  <div class="lib-modal" id="modalContent"></div>
</div>

<script>
const ELEMENTS = [
  {
      id: "ds-ui-1002-001",
      name: "Agent-Continuity Entry Screen - Recognition Before Demand Through Trigger Inheritance",
      category: "card",
      source_elements: ["works-002","communicates-003","looks-002","behaves-001","feels-001"],
      journey_phases: ["onboarding","listing_creation"],
      priority: "high",
      description: "June's entire relationship is with Bryant, not the platform. She is personally depleted ('going through a lot of stuff myself') and time-constrained. Saffer's trigger principle states that manual triggers must be recognizable in context -- and June's only recognized trigger is Bryant. This entry screen inherits the agent trigger by making Bryant's name, the property address, and June's exact pricing numbers the first things she sees. The microinteraction structure: the trigger is the email link (agent-initiated), the rule is 'show the host what was discussed, not what is needed,' the feedback is the populated listing preview, and the loop is the persistent agent presence throughout the first lease cycle. No account creation, no orientation, no blank forms -- just recognition.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Agent-Continuity Entry Screen</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-purple: #31135D;
    --secondary-purple: rgb(109, 49, 194);
    --accent-purple: rgb(140, 104, 238);
    --bg-light-gray: #f3f4f6;
    --text-dark: #1a1a1a;
    --text-gray: #6b7280;
    --border-color: #e5e7eb;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light-gray);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 24px;
  }
  .entry-card {
    max-width: 480px;
    width: 100%;
    background: #ffffff;
    border-radius: 16px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    overflow: hidden;
  }
  .entry-header {
    background: var(--primary-purple);
    padding: 28px 24px 24px;
    color: #ffffff;
  }
  .agent-row {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 16px;
  }
  .agent-avatar {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--secondary-purple), var(--accent-purple));
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 18px;
    flex-shrink: 0;
  }
  .agent-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }
  .agent-name {
    font-size: 16px;
    font-weight: 600;
  }
  .agent-role {
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    opacity: 0.8;
  }
  .entry-message {
    font-family: 'DM Sans', sans-serif;
    font-size: 15px;
    line-height: 1.6;
    opacity: 0.95;
  }
  .entry-message strong {
    font-weight: 600;
    color: #ffffff;
  }
  .entry-body {
    padding: 24px;
  }
  .property-label {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--text-gray);
    margin-bottom: 6px;
  }
  .property-address {
    font-size: 17px;
    font-weight: 600;
    color: var(--text-dark);
    margin-bottom: 4px;
  }
  .property-detail {
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    color: var(--text-gray);
    margin-bottom: 20px;
  }
  .rules-strip {
    background: #f9fafb;
    border: 1px solid var(--border-color);
    border-radius: 10px;
    padding: 16px;
    margin-bottom: 20px;
  }
  .rules-strip__title {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--text-gray);
    margin-bottom: 12px;
  }
  .rule-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    border-bottom: 1px solid #f0f0f0;
  }
  .rule-row:last-child {
    border-bottom: none;
    padding-bottom: 0;
  }
  .rule-row:first-of-type {
    padding-top: 0;
  }
  .rule-label {
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    color: #374151;
  }
  .rule-value {
    font-family: 'DM Sans', sans-serif;
    font-size: 15px;
    font-weight: 600;
    color: var(--primary-purple);
    letter-spacing: -0.01em;
  }
  .rule-value--conditional {
    font-size: 13px;
    font-weight: 500;
    text-align: right;
    max-width: 180px;
  }
  .entry-confirm {
    width: 100%;
    padding: 14px 24px;
    background: var(--secondary-purple);
    color: #ffffff;
    border: none;
    border-radius: 12px;
    font-family: 'Inter', sans-serif;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease, transform 0.2s ease;
  }
  .entry-confirm:hover {
    background: var(--accent-purple);
    transform: translateY(-1px);
  }
  .entry-note {
    text-align: center;
    margin-top: 12px;
    font-family: 'DM Sans', sans-serif;
    font-size: 12px;
    color: #9ca3af;
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .entry-header { padding: 20px 16px; }
    .entry-body { padding: 16px; }
    .entry-message { font-size: 14px; }
    .property-address { font-size: 15px; }
  }
</style>
</head>
<body>
  <div class="entry-card">
    <div class="entry-header">
      <div class="agent-row">
        <div class="agent-avatar">B</div>
        <div class="agent-info">
          <span class="agent-name">Bryant</span>
          <span class="agent-role">Your hosting manager at Split Lease</span>
        </div>
      </div>
      <p class="entry-message">Hi June, I prepared your listing from the details you shared on our call. Everything below is from your <strong>Furnished Finder listing</strong> and what we discussed. Review it and confirm when you&rsquo;re ready.</p>
    </div>
    <div class="entry-body">
      <div class="property-label">Property</div>
      <div class="property-address">3-Family House &middot; Harlem, NY</div>
      <div class="property-detail">Near 3/2/9 Express &middot; Available March 2</div>
      <div class="rules-strip">
        <div class="rules-strip__title">Your terms from the call</div>
        <div class="rule-row">
          <span class="rule-label">Monthly rent</span>
          <span class="rule-value">\$2,690</span>
        </div>
        <div class="rule-row">
          <span class="rule-label">Security deposit</span>
          <span class="rule-value">\$2,500</span>
        </div>
        <div class="rule-row">
          <span class="rule-label">Cleaning fee</span>
          <span class="rule-value">\$140</span>
        </div>
        <div class="rule-row">
          <span class="rule-label">Utility cap</span>
          <span class="rule-value rule-value--conditional">\$40 &middot; guest pays overage</span>
        </div>
      </div>
      <button class="entry-confirm">Everything Looks Right</button>
      <p class="entry-note">You can edit any detail after confirming. Nothing is final until you say so.</p>
    </div>
  </div>
</body>
</html>`
    },
  {
      id: "ds-ui-1002-002",
      name: "Persistent Rule Verification Strip - Mono-Numeric Feedback That Survives Every Screen",
      category: "card",
      source_elements: ["works-001","communicates-001","looks-001","behaves-002","feels-006"],
      journey_phases: ["listing_creation","proposal_mgmt","active_lease"],
      priority: "high",
      description: "June asked 'Are there any fees?' identically twice in the same call (07:32 and 10:59), proving verbal feedback does not persist. Saffer's core axiom is 'Feedback Illuminates the Rules' -- and rules that disappear are rules the host cannot trust. This persistent strip displays June's exact protection rules ($2,690 rent, $2,500 deposit, $140 cleaning, $40 utility cap with guest-paid overage) in a fixed, scannable format that appears on every screen where those rules are actionable. The microinteraction structure: the trigger is any screen navigation, the rule is 'always show host-defined parameters,' the feedback is the strip itself with verification indicators, and the long loop is that the strip persists across the entire lease lifecycle without the host needing to re-verify. The monospace numerics create a visual signature that the host's eye learns to locate by typeface alone.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Persistent Rule Verification Strip</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-purple: #31135D;
    --secondary-purple: rgb(109, 49, 194);
    --accent-purple: rgb(140, 104, 238);
    --bg-light-gray: #f3f4f6;
    --text-dark: #1a1a1a;
    --text-gray: #6b7280;
    --border-color: #e5e7eb;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light-gray);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 24px;
  }
  .page-context {
    max-width: 520px;
    width: 100%;
  }
  .page-title {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-dark);
    margin-bottom: 4px;
  }
  .page-subtitle {
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    color: var(--text-gray);
    margin-bottom: 16px;
  }
  .rule-strip {
    background: #ffffff;
    border: 1px solid var(--border-color);
    border-left: 3px solid var(--primary-purple);
    border-radius: 10px;
    padding: 16px 20px;
    margin-bottom: 16px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
  }
  .rule-strip__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 14px;
  }
  .rule-strip__title {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--primary-purple);
  }
  .rule-strip__status {
    font-size: 11px;
    font-weight: 600;
    color: var(--secondary-purple);
    background: #F0EBFF;
    padding: 3px 10px;
    border-radius: 20px;
  }
  .rule-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
  }
  .rule-item {
    display: flex;
    flex-direction: column;
    gap: 3px;
  }
  .rule-item--full {
    grid-column: 1 / -1;
    background: rgb(252, 250, 255);
    border-radius: 8px;
    padding: 10px 12px;
    border: 1px solid #E8E0F0;
  }
  .rule-item__label {
    font-size: 11px;
    font-weight: 500;
    color: #9ca3af;
    text-transform: uppercase;
    letter-spacing: 0.04em;
  }
  .rule-item__value {
    font-family: 'DM Sans', sans-serif;
    font-size: 18px;
    font-weight: 600;
    color: var(--text-dark);
    letter-spacing: -0.02em;
  }
  .rule-item--full .rule-item__value {
    font-size: 14px;
    font-weight: 500;
    color: var(--primary-purple);
  }
  .rule-item__check {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-size: 11px;
    font-weight: 600;
    color: var(--secondary-purple);
    margin-top: 2px;
  }
  .rule-item__check svg {
    flex-shrink: 0;
  }
  .context-card {
    background: #ffffff;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
  }
  .context-card__label {
    font-size: 12px;
    font-weight: 600;
    color: var(--text-gray);
    margin-bottom: 6px;
  }
  .context-card__text {
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    color: #374151;
    line-height: 1.6;
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .rule-grid { grid-template-columns: 1fr; }
    .rule-item--full { grid-column: 1; }
    .rule-item__value { font-size: 16px; }
  }
</style>
</head>
<body>
  <div class="page-context">
    <h2 class="page-title">Proposal Review</h2>
    <p class="page-subtitle">Guest request for your Harlem property</p>
    <div class="rule-strip">
      <div class="rule-strip__header">
        <span class="rule-strip__title">Your rules</span>
        <span class="rule-strip__status">All matched</span>
      </div>
      <div class="rule-grid">
        <div class="rule-item">
          <span class="rule-item__label">Rent</span>
          <span class="rule-item__value">\$2,690</span>
          <span class="rule-item__check">
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            Proposal matches
          </span>
        </div>
        <div class="rule-item">
          <span class="rule-item__label">Deposit</span>
          <span class="rule-item__value">\$2,500</span>
          <span class="rule-item__check">
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            Proposal matches
          </span>
        </div>
        <div class="rule-item">
          <span class="rule-item__label">Cleaning</span>
          <span class="rule-item__value">\$140</span>
          <span class="rule-item__check">
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            Proposal matches
          </span>
        </div>
        <div class="rule-item">
          <span class="rule-item__label">No fees</span>
          <span class="rule-item__value">\$0</span>
          <span class="rule-item__check">
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            Confirmed
          </span>
        </div>
        <div class="rule-item rule-item--full">
          <span class="rule-item__label">Utility protection rule</span>
          <span class="rule-item__value">You cover the first \$40 of electric. Guest pays anything above that.</span>
          <span class="rule-item__check">
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            Guest acknowledged this rule
          </span>
        </div>
      </div>
    </div>
    <div class="context-card">
      <div class="context-card__label">Why this strip appears on every screen</div>
      <p class="context-card__text">Your rules are your terms. They appear here, on your listing, and on your active lease dashboard &mdash; so you never have to ask whether they were captured.</p>
    </div>
  </div>
</body>
</html>`
    },
  {
      id: "ds-ui-1002-003",
      name: "Single-Surface Proposal Decision Screen - Inline Verification with Urgency Without Anxiety",
      category: "card",
      source_elements: ["works-006","communicates-002","looks-003","behaves-003","feels-004"],
      journey_phases: ["proposal_mgmt","evaluation"],
      priority: "high",
      description: "June manages multiple properties while depleted and time-constrained. Saffer's rule design principle -- 'Limited Options and Smart Defaults' -- demands that the proposal decision not scatter information across tabs or require navigation to verify terms. This single-surface screen presents the guest profile, verification badges, lease terms, and the host's rules all on one scrollable view. The microinteraction: the trigger is a notification from Bryant ('A guest wants your March dates'), the rules are the host's own terms displayed for verification, the feedback is match/mismatch indicators on each term, and the mode is a spring-loaded decision state where approve/decline are equally weighted. The emotional target from L5 feels-004 is 'urgency without anxiety' -- the host should feel confident deciding quickly because all information is visible, not pressured because information is hidden.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Proposal Decision Screen</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-purple: #31135D;
    --secondary-purple: rgb(109, 49, 194);
    --accent-purple: rgb(140, 104, 238);
    --bg-light-gray: #f3f4f6;
    --text-dark: #1a1a1a;
    --text-gray: #6b7280;
    --border-color: #e5e7eb;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light-gray);
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    padding: 24px;
  }
  .proposal {
    max-width: 520px;
    width: 100%;
  }
  .proposal__from {
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    color: var(--text-gray);
    margin-bottom: 12px;
  }
  .proposal__from strong {
    color: var(--primary-purple);
    font-weight: 600;
  }
  .proposal__guest-card {
    background: #ffffff;
    border-radius: 16px;
    padding: 24px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    margin-bottom: 12px;
  }
  .guest-top {
    display: flex;
    align-items: center;
    gap: 14px;
    margin-bottom: 16px;
  }
  .guest-avatar {
    width: 52px;
    height: 52px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    font-size: 20px;
    flex-shrink: 0;
  }
  .guest-detail {
    flex: 1;
  }
  .guest-name {
    font-size: 18px;
    font-weight: 700;
    color: var(--text-dark);
    margin-bottom: 2px;
  }
  .guest-role {
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    color: var(--text-gray);
  }
  .badges {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 16px;
  }
  .badge {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 11px;
    font-weight: 600;
    padding: 4px 10px;
    border-radius: 20px;
    background: #EDEAFF;
    color: #4B47CE;
  }
  .badge svg {
    flex-shrink: 0;
  }
  .terms-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
  }
  .term {
    display: flex;
    flex-direction: column;
    gap: 3px;
  }
  .term__label {
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    color: var(--text-gray);
  }
  .term__value {
    font-size: 15px;
    font-weight: 600;
    color: var(--text-dark);
  }
  .proposal__rules-card {
    background: #ffffff;
    border-radius: 12px;
    padding: 16px 20px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    border-left: 3px solid var(--primary-purple);
    margin-bottom: 12px;
  }
  .rules-header {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--primary-purple);
    margin-bottom: 10px;
  }
  .rule-check {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 6px 0;
    border-bottom: 1px solid #f3f4f6;
  }
  .rule-check:last-child {
    border-bottom: none;
  }
  .rule-check__text {
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    color: #374151;
  }
  .rule-check__indicator {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 11px;
    font-weight: 600;
    color: var(--secondary-purple);
  }
  .proposal__actions {
    background: #ffffff;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
  }
  .actions-row {
    display: flex;
    gap: 12px;
    margin-bottom: 12px;
  }
  .btn {
    flex: 1;
    padding: 14px 20px;
    border-radius: 12px;
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
    text-align: center;
  }
  .btn--approve {
    background: var(--secondary-purple);
    color: #ffffff;
  }
  .btn--approve:hover {
    background: var(--accent-purple);
    transform: translateY(-1px);
  }
  .btn--decline {
    background: #ffffff;
    color: var(--text-dark);
    border: 1.5px solid var(--border-color);
  }
  .btn--decline:hover {
    background: #f9fafb;
    border-color: #d1d5db;
  }
  .actions-note {
    text-align: center;
    font-family: 'DM Sans', sans-serif;
    font-size: 12px;
    color: #9ca3af;
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .proposal__guest-card { padding: 16px; }
    .terms-grid { grid-template-columns: 1fr; gap: 10px; }
    .actions-row { flex-direction: column; }
  }
</style>
</head>
<body>
  <div class="proposal">
    <p class="proposal__from"><strong>Bryant</strong> sent this proposal for your Harlem property</p>
    <div class="proposal__guest-card">
      <div class="guest-top">
        <div class="guest-avatar">R</div>
        <div class="guest-detail">
          <div class="guest-name">Rachel T.</div>
          <div class="guest-role">Travel nurse &middot; NYP Columbia</div>
        </div>
      </div>
      <div class="badges">
        <span class="badge">
          <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          ID verified
        </span>
        <span class="badge">
          <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Employment confirmed
        </span>
        <span class="badge">
          <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Background clear
        </span>
        <span class="badge">
          <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          2 prior leases &middot; 0 issues
        </span>
      </div>
      <div class="terms-grid">
        <div class="term">
          <span class="term__label">Duration</span>
          <span class="term__value">3 months</span>
        </div>
        <div class="term">
          <span class="term__label">Start date</span>
          <span class="term__value">March 3, 2026</span>
        </div>
        <div class="term">
          <span class="term__label">Schedule</span>
          <span class="term__value">Mon &ndash; Fri</span>
        </div>
        <div class="term">
          <span class="term__label">Monthly rent</span>
          <span class="term__value">\$2,690</span>
        </div>
      </div>
    </div>
    <div class="proposal__rules-card">
      <div class="rules-header">Your rules &mdash; all matched</div>
      <div class="rule-check">
        <span class="rule-check__text">Deposit: \$2,500</span>
        <span class="rule-check__indicator">
          <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Match
        </span>
      </div>
      <div class="rule-check">
        <span class="rule-check__text">Cleaning fee: \$140</span>
        <span class="rule-check__indicator">
          <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Match
        </span>
      </div>
      <div class="rule-check">
        <span class="rule-check__text">Utility cap: \$40 / guest pays overage</span>
        <span class="rule-check__indicator">
          <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Acknowledged
        </span>
      </div>
      <div class="rule-check">
        <span class="rule-check__text">No platform fees to you</span>
        <span class="rule-check__indicator">
          <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Confirmed
        </span>
      </div>
    </div>
    <div class="proposal__actions">
      <div class="actions-row">
        <button class="btn btn--approve">Approve Placement</button>
        <button class="btn btn--decline">Decline</button>
      </div>
      <p class="actions-note">You decide. Declining has no penalty and no fees.</p>
    </div>
  </div>
</body>
</html>`
    },
  {
      id: "ds-ui-1002-004",
      name: "Utility Cap Protection Rule Card - Conditional Rule Capture with Visible Enforcement Feedback",
      category: "card",
      source_elements: ["works-001","communicates-001","looks-007","behaves-007","feels-002"],
      journey_phases: ["listing_creation","pricing"],
      priority: "high",
      description: "June's utility cap ($40 with guest-paid overage) is not a preference -- it is a protection mechanism born from repeated painful experiences ('people have been ridiculous with the electric bill... I had to start protecting myself'). Saffer's rule design chapter insists that rules must capture conditional logic, not just binary states. A simple 'utilities included: yes/no' toggle cannot represent '$40 threshold where the owner pays the first $40 and the guest pays anything above that.' This card implements a structured conditional rule with three components: threshold amount, owner responsibility, and overage assignment. The microinteraction: the trigger is the host entering utility terms during listing creation, the rule is the conditional logic (threshold + allocation), the feedback is immediate confirmation in the host's own language, and the enforcement loop shows the rule is active on proposals and lease dashboards. The left-border accent and elevated visual treatment signal that this is a protection rule, not a standard form field.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Utility Cap Protection Rule</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-purple: #31135D;
    --secondary-purple: rgb(109, 49, 194);
    --accent-purple: rgb(140, 104, 238);
    --bg-light-gray: #f3f4f6;
    --text-dark: #1a1a1a;
    --text-gray: #6b7280;
    --border-color: #e5e7eb;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light-gray);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 24px;
  }
  .protection-card {
    max-width: 480px;
    width: 100%;
    background: #ffffff;
    border-radius: 16px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    overflow: hidden;
  }
  .protection-card__header {
    background: rgb(252, 250, 255);
    padding: 20px 24px;
    border-bottom: 1px solid #E8E0F0;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .protection-icon {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    background: var(--primary-purple);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  .protection-icon svg {
    width: 18px;
    height: 18px;
  }
  .protection-card__title {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-dark);
  }
  .protection-card__subtitle {
    font-family: 'DM Sans', sans-serif;
    font-size: 12px;
    color: var(--text-gray);
  }
  .protection-card__body {
    padding: 24px;
  }
  .rule-builder {
    margin-bottom: 24px;
  }
  .rule-builder__row {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 16px;
  }
  .rule-builder__label {
    font-size: 13px;
    font-weight: 500;
    color: #374151;
    min-width: 110px;
  }
  .rule-builder__input {
    flex: 1;
    height: 42px;
    padding: 0 14px;
    background: #f9fafb;
    border: 1.5px solid var(--border-color);
    border-radius: 8px;
    font-family: 'DM Sans', sans-serif;
    font-size: 16px;
    font-weight: 600;
    color: var(--primary-purple);
    text-align: right;
    transition: border-color 0.2s ease;
  }
  .rule-builder__input:focus {
    outline: none;
    border-color: var(--secondary-purple);
    box-shadow: 0 0 0 3px rgba(109, 49, 194, 0.1);
  }
  .rule-builder__select {
    flex: 1;
    height: 42px;
    padding: 0 14px;
    background: #f9fafb;
    border: 1.5px solid var(--border-color);
    border-radius: 8px;
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    color: var(--text-dark);
    cursor: pointer;
    -webkit-appearance: none;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5L6 6.5L11 1.5' stroke='%236b7280' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    padding-right: 32px;
    transition: border-color 0.2s ease;
  }
  .rule-builder__select:focus {
    outline: none;
    border-color: var(--secondary-purple);
  }
  .rule-divider {
    height: 1px;
    background: #f3f4f6;
    margin: 20px 0;
  }
  .feedback-block {
    background: rgb(252, 250, 255);
    border-left: 3px solid var(--primary-purple);
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 20px;
  }
  .feedback-block__label {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--primary-purple);
    margin-bottom: 8px;
  }
  .feedback-block__text {
    font-family: 'DM Sans', sans-serif;
    font-size: 15px;
    font-weight: 500;
    color: var(--text-dark);
    line-height: 1.6;
  }
  .feedback-block__note {
    font-family: 'DM Sans', sans-serif;
    font-size: 12px;
    color: var(--text-gray);
    margin-top: 8px;
    line-height: 1.5;
  }
  .save-btn {
    width: 100%;
    padding: 14px;
    background: var(--secondary-purple);
    color: #ffffff;
    border: none;
    border-radius: 12px;
    font-family: 'Inter', sans-serif;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease, transform 0.2s ease;
  }
  .save-btn:hover {
    background: var(--accent-purple);
    transform: translateY(-1px);
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .protection-card__body { padding: 16px; }
    .rule-builder__row { flex-direction: column; align-items: stretch; gap: 6px; }
    .rule-builder__label { min-width: unset; }
  }
</style>
</head>
<body>
  <div class="protection-card">
    <div class="protection-card__header">
      <div class="protection-icon">
        <svg viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9 1.5L3 4.5V8.25C3 12.15 5.56 15.78 9 16.5C12.44 15.78 15 12.15 15 8.25V4.5L9 1.5Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <div>
        <div class="protection-card__title">Utility Protection Rule</div>
        <div class="protection-card__subtitle">Set your cap and overage policy</div>
      </div>
    </div>
    <div class="protection-card__body">
      <div class="rule-builder">
        <div class="rule-builder__row">
          <span class="rule-builder__label">You cover up to</span>
          <input type="text" class="rule-builder__input" value="\$40" readonly>
        </div>
        <div class="rule-builder__row">
          <span class="rule-builder__label">Utility type</span>
          <select class="rule-builder__select">
            <option selected>Electric only</option>
            <option>Electric + Gas</option>
            <option>All utilities</option>
          </select>
        </div>
        <div class="rule-builder__row">
          <span class="rule-builder__label">Overage paid by</span>
          <select class="rule-builder__select">
            <option selected>Guest pays overage</option>
            <option>Split evenly</option>
            <option>I absorb overage</option>
          </select>
        </div>
      </div>
      <div class="feedback-block">
        <div class="feedback-block__label">How this appears to guests</div>
        <p class="feedback-block__text">You cover the first \$40 of electric. Your guest pays anything above that.</p>
        <p class="feedback-block__note">This rule will appear on your listing, on every proposal, and on the active lease dashboard. Guests must acknowledge it before booking.</p>
      </div>
      <button class="save-btn">Save Protection Rule</button>
    </div>
  </div>
</body>
</html>`
    },
  {
      id: "ds-ui-1002-005",
      name: "Ambient-to-Alert Lease Health Dashboard - Adaptive Long Loop for Active Lease Monitoring",
      category: "card",
      source_elements: ["works-005","communicates-005","looks-004","behaves-004","feels-007"],
      journey_phases: ["active_lease","retention"],
      priority: "high",
      description: "June's utility abuse history ('I have had bills of a hundred, $200') means she will monitor her active lease with hypervigilance unless the platform offloads that burden. Saffer's Long Loops chapter describes adaptive feedback that changes behavior over repeated cycles -- the dashboard should feel calm when everything is normal and escalate visually only when attention is needed. This implements the ambient-to-alert pattern from L3 looks-004: payment status and utility usage default to quiet, ambient indicators (subtle purple tones). When utility usage approaches the $40 cap, the visual treatment escalates from ambient to attention to alert using warm amber. The microinteraction: the trigger is the host visiting the dashboard (or a system-initiated push when thresholds approach), the rules are the host's own protection parameters, the feedback is color-coded status indicators, and the long loop adapts by learning which metrics the host checks most often and surfacing those first. The emotional target is 'vigilance offloading' -- the host trusts the dashboard to watch so she does not have to.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lease Health Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-purple: #31135D;
    --secondary-purple: rgb(109, 49, 194);
    --accent-purple: rgb(140, 104, 238);
    --bg-light-gray: #f3f4f6;
    --text-dark: #1a1a1a;
    --text-gray: #6b7280;
    --border-color: #e5e7eb;
    --status-calm: #EDEAFF;
    --status-calm-text: #4B47CE;
    --status-attention: #FDF4E3;
    --status-attention-text: #92620E;
    --status-alert: #FDE8E8;
    --status-alert-text: #9B2C2C;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light-gray);
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    padding: 24px;
  }
  .dashboard {
    max-width: 520px;
    width: 100%;
  }
  .dashboard__header {
    margin-bottom: 16px;
  }
  .dashboard__title {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-dark);
    margin-bottom: 2px;
  }
  .dashboard__property {
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    color: var(--text-gray);
  }
  .health-overview {
    background: #ffffff;
    border-radius: 16px;
    padding: 24px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    margin-bottom: 12px;
  }
  .health-top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }
  .health-label {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-dark);
  }
  .health-status {
    font-size: 12px;
    font-weight: 600;
    padding: 4px 12px;
    border-radius: 20px;
  }
  .health-status--calm {
    background: var(--status-calm);
    color: var(--status-calm-text);
  }
  .health-status--attention {
    background: var(--status-attention);
    color: var(--status-attention-text);
  }
  .health-metrics {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }
  .metric {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }
  .metric__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .metric__name {
    font-size: 13px;
    font-weight: 500;
    color: #374151;
  }
  .metric__value {
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    font-weight: 600;
  }
  .metric__value--calm {
    color: var(--status-calm-text);
  }
  .metric__value--attention {
    color: var(--status-attention-text);
  }
  .metric__bar {
    height: 8px;
    background: var(--bg-light-gray);
    border-radius: 4px;
    overflow: hidden;
  }
  .metric__fill {
    height: 100%;
    border-radius: 4px;
    transition: width 0.4s ease-out;
  }
  .metric__fill--calm {
    background: linear-gradient(90deg, #EDEAFF, var(--accent-purple));
  }
  .metric__fill--attention {
    background: linear-gradient(90deg, #FDF4E3, #C4841D);
  }
  .payment-card {
    background: #ffffff;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    margin-bottom: 12px;
  }
  .payment-card__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
  }
  .payment-card__title {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-dark);
  }
  .payment-card__badge {
    font-size: 11px;
    font-weight: 600;
    padding: 3px 10px;
    border-radius: 20px;
    background: var(--status-calm);
    color: var(--status-calm-text);
  }
  .payment-timeline {
    display: flex;
    gap: 8px;
  }
  .payment-month {
    flex: 1;
    text-align: center;
  }
  .payment-month__dot {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 4px;
    font-size: 14px;
  }
  .payment-month__dot--paid {
    background: var(--status-calm);
    color: var(--status-calm-text);
  }
  .payment-month__dot--upcoming {
    background: var(--bg-light-gray);
    color: var(--text-gray);
  }
  .payment-month__label {
    font-family: 'DM Sans', sans-serif;
    font-size: 11px;
    color: var(--text-gray);
  }
  .rule-reminder {
    background: rgb(252, 250, 255);
    border-left: 3px solid var(--primary-purple);
    border-radius: 10px;
    padding: 14px 16px;
  }
  .rule-reminder__title {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--primary-purple);
    margin-bottom: 8px;
  }
  .rule-reminder__text {
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    color: #374151;
    line-height: 1.5;
  }
  .rule-reminder__text strong {
    color: var(--status-attention-text);
    font-weight: 600;
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .health-overview { padding: 16px; }
    .payment-timeline { flex-wrap: wrap; }
  }
</style>
</head>
<body>
  <div class="dashboard">
    <div class="dashboard__header">
      <h2 class="dashboard__title">Active Lease</h2>
      <p class="dashboard__property">3-Family House &middot; Harlem, NY &middot; Rachel T.</p>
    </div>
    <div class="health-overview">
      <div class="health-top">
        <span class="health-label">Lease health</span>
        <span class="health-status health-status--attention">1 item needs attention</span>
      </div>
      <div class="health-metrics">
        <div class="metric">
          <div class="metric__header">
            <span class="metric__name">Payment status</span>
            <span class="metric__value metric__value--calm">On time</span>
          </div>
          <div class="metric__bar">
            <div class="metric__fill metric__fill--calm" style="width: 66%"></div>
          </div>
        </div>
        <div class="metric">
          <div class="metric__header">
            <span class="metric__name">Electric usage this month</span>
            <span class="metric__value metric__value--attention">\$34 of \$40 cap</span>
          </div>
          <div class="metric__bar">
            <div class="metric__fill metric__fill--attention" style="width: 85%"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="payment-card">
      <div class="payment-card__header">
        <span class="payment-card__title">Payment history</span>
        <span class="payment-card__badge">All on time</span>
      </div>
      <div class="payment-timeline">
        <div class="payment-month">
          <div class="payment-month__dot payment-month__dot--paid">
            <svg width="14" height="14" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <span class="payment-month__label">Mar</span>
        </div>
        <div class="payment-month">
          <div class="payment-month__dot payment-month__dot--paid">
            <svg width="14" height="14" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <span class="payment-month__label">Apr</span>
        </div>
        <div class="payment-month">
          <div class="payment-month__dot payment-month__dot--upcoming">&middot;</div>
          <span class="payment-month__label">May</span>
        </div>
      </div>
    </div>
    <div class="rule-reminder">
      <div class="rule-reminder__title">Your utility rule is active</div>
      <p class="rule-reminder__text">You cover the first \$40 of electric. Guest pays overage. This month&rsquo;s usage is at <strong>\$34</strong> &mdash; approaching your cap. If it exceeds \$40, the guest will be billed for the difference automatically.</p>
    </div>
  </div>
</body>
</html>`
    },
  {
      id: "ds-ui-1002-006",
      name: "Cross-Platform Calendar Disclosure Panel - Acknowledgment Trigger at Commitment Points",
      category: "card",
      source_elements: ["works-003","communicates-004","looks-005","behaves-005","feels-005"],
      journey_phases: ["proposal_mgmt","listing_creation"],
      priority: "high",
      description: "June lists on Furnished Finder and plans to list with Split Lease simultaneously, creating a calendar conflict that only surfaces when a guest books overlapping dates on both platforms. Saffer's complexity absorption principle ('Absorb Complexity,' Ch. 3, p. 56-59) states that systems should handle complexity the user would otherwise manage manually. But calendar synchronization has a dangerous failure mode: if the platform silently blocks dates without the host understanding why, or worse, allows double-booking, trust collapses. This panel surfaces cross-platform calendar impact at the exact moment it matters -- when the host is about to approve a proposal. The microinteraction: the trigger is a system-detected overlap between the proposal dates and the host's Furnished Finder calendar, the rule is 'always disclose cross-platform impact before commitment,' the feedback is a visual timeline showing which dates are affected, and the mode is a spring-loaded acknowledgment gate that prevents approval without calendar awareness. The emotional target from L5 feels-005 is 'effortless continuity' -- the host should feel that the platform manages her multi-platform complexity, not that it creates new problems.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cross-Platform Calendar Disclosure</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-purple: #31135D;
    --secondary-purple: rgb(109, 49, 194);
    --accent-purple: rgb(140, 104, 238);
    --bg-light-gray: #f3f4f6;
    --text-dark: #1a1a1a;
    --text-gray: #6b7280;
    --border-color: #e5e7eb;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light-gray);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 24px;
  }
  .calendar-panel {
    max-width: 480px;
    width: 100%;
    background: #ffffff;
    border-radius: 16px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    overflow: hidden;
  }
  .calendar-panel__header {
    background: #FFF8F0;
    border-bottom: 1px solid #F0DFC8;
    padding: 20px 24px;
    display: flex;
    align-items: flex-start;
    gap: 12px;
  }
  .calendar-icon {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    background: #C4841D;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  .calendar-icon svg {
    width: 18px;
    height: 18px;
  }
  .calendar-panel__title {
    font-size: 15px;
    font-weight: 700;
    color: #7C3A00;
    margin-bottom: 2px;
  }
  .calendar-panel__subtitle {
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    color: #92620E;
    line-height: 1.5;
  }
  .calendar-panel__body {
    padding: 24px;
  }
  .timeline {
    margin-bottom: 24px;
  }
  .timeline__label {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--text-gray);
    margin-bottom: 12px;
  }
  .timeline__bar {
    display: flex;
    height: 40px;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid var(--border-color);
    margin-bottom: 8px;
  }
  .timeline__segment {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    font-weight: 600;
    transition: opacity 0.2s ease;
  }
  .timeline__segment--splitlease {
    background: #EDEAFF;
    color: var(--primary-purple);
    flex: 3;
  }
  .timeline__segment--overlap {
    background: #FDF4E3;
    color: #7C3A00;
    flex: 1;
    border-left: 2px dashed #C4841D;
    border-right: 2px dashed #C4841D;
  }
  .timeline__segment--ff {
    background: #f9fafb;
    color: var(--text-gray);
    flex: 2;
  }
  .timeline__legend {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
  }
  .legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-family: 'DM Sans', sans-serif;
    font-size: 12px;
    color: #374151;
  }
  .legend-dot {
    width: 10px;
    height: 10px;
    border-radius: 3px;
  }
  .legend-dot--sl {
    background: #EDEAFF;
    border: 1px solid var(--accent-purple);
  }
  .legend-dot--overlap {
    background: #FDF4E3;
    border: 1px solid #C4841D;
  }
  .legend-dot--ff {
    background: #f9fafb;
    border: 1px solid var(--border-color);
  }
  .impact-summary {
    background: #f9fafb;
    border-radius: 10px;
    padding: 16px;
    margin-bottom: 24px;
  }
  .impact-summary__title {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-dark);
    margin-bottom: 8px;
  }
  .impact-item {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    color: #374151;
    line-height: 1.5;
    margin-bottom: 6px;
  }
  .impact-item:last-child {
    margin-bottom: 0;
  }
  .impact-item__bullet {
    font-size: 11px;
    color: #C4841D;
    margin-top: 3px;
    flex-shrink: 0;
  }
  .acknowledge-row {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 14px 16px;
    background: rgb(252, 250, 255);
    border-radius: 10px;
    border: 1px solid #E8E0F0;
    margin-bottom: 16px;
    cursor: pointer;
    transition: background 0.2s ease;
  }
  .acknowledge-row:hover {
    background: #F0EBFF;
  }
  .acknowledge-checkbox {
    width: 20px;
    height: 20px;
    border: 2px solid var(--secondary-purple);
    border-radius: 5px;
    flex-shrink: 0;
    margin-top: 1px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #ffffff;
  }
  .acknowledge-text {
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    color: var(--text-dark);
    line-height: 1.5;
  }
  .proceed-btn {
    width: 100%;
    padding: 14px;
    background: var(--secondary-purple);
    color: #ffffff;
    border: none;
    border-radius: 12px;
    font-family: 'Inter', sans-serif;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease, transform 0.2s ease;
    opacity: 0.5;
  }
  .proceed-btn:hover {
    background: var(--accent-purple);
    transform: translateY(-1px);
    opacity: 1;
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .calendar-panel__body { padding: 16px; }
    .timeline__segment { font-size: 10px; }
    .timeline__legend { gap: 10px; }
  }
</style>
</head>
<body>
  <div class="calendar-panel">
    <div class="calendar-panel__header">
      <div class="calendar-icon">
        <svg viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="4" width="14" height="12" rx="2" stroke="white" stroke-width="1.5"/>
          <path d="M2 8H16" stroke="white" stroke-width="1.5"/>
          <path d="M6 2V5" stroke="white" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M12 2V5" stroke="white" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
      </div>
      <div>
        <div class="calendar-panel__title">Calendar overlap detected</div>
        <p class="calendar-panel__subtitle">Your Furnished Finder listing has bookings that overlap with this proposal&rsquo;s dates.</p>
      </div>
    </div>
    <div class="calendar-panel__body">
      <div class="timeline">
        <div class="timeline__label">March 2026</div>
        <div class="timeline__bar">
          <div class="timeline__segment timeline__segment--splitlease">Mar 3 &ndash; 14</div>
          <div class="timeline__segment timeline__segment--overlap">Mar 15 &ndash; 19</div>
          <div class="timeline__segment timeline__segment--ff">Mar 20 &ndash; 31</div>
        </div>
        <div class="timeline__legend">
          <div class="legend-item">
            <div class="legend-dot legend-dot--sl"></div>
            Split Lease only
          </div>
          <div class="legend-item">
            <div class="legend-dot legend-dot--overlap"></div>
            Overlap (5 days)
          </div>
          <div class="legend-item">
            <div class="legend-dot legend-dot--ff"></div>
            Furnished Finder only
          </div>
        </div>
      </div>
      <div class="impact-summary">
        <div class="impact-summary__title">What happens if you approve</div>
        <div class="impact-item">
          <span class="impact-item__bullet">&bull;</span>
          <span>March 15&ndash;19 will be blocked on your Furnished Finder calendar automatically</span>
        </div>
        <div class="impact-item">
          <span class="impact-item__bullet">&bull;</span>
          <span>Your existing FF inquiry for those dates will be notified of unavailability</span>
        </div>
        <div class="impact-item">
          <span class="impact-item__bullet">&bull;</span>
          <span>Your Split Lease guest has priority for the full March 3&ndash;May 31 term</span>
        </div>
      </div>
      <div class="acknowledge-row">
        <div class="acknowledge-checkbox">
          <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="#6D31C2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
        <span class="acknowledge-text">I understand that approving this proposal will block the overlapping dates on Furnished Finder.</span>
      </div>
      <button class="proceed-btn">Continue to Approval</button>
    </div>
  </div>
</body>
</html>`
    },
  {
      id: "ds-ui-1002-007",
      name: "Multi-Unit Listing Manager - Building-Level Inheritance with Unit-Level Override",
      category: "card",
      source_elements: ["works-004","communicates-006","looks-006","behaves-006","feels-005"],
      journey_phases: ["listing_creation","retention"],
      priority: "high",
      description: "June owns a three-family house and wants to list two apartments. Saffer's 'Don't Start from Zero' principle (Ch. 3, p. 64) means the second listing should inherit everything from the first -- pricing, rules, protection policies, calendar preferences -- with the host only changing what differs between units. Without inheritance, June must re-enter $2,690 rent, $2,500 deposit, $140 cleaning, $40 utility cap, and all vetting preferences for each unit separately. This is the exact cognitive tax that Saffer warns against: 'avoid having the user provide the same piece of information twice.' The multi-unit manager displays the building as a parent container with shared defaults, and individual units as children that inherit those defaults but allow per-unit overrides. The microinteraction: the trigger is the host creating a second listing at the same address, the rule is 'inherit building-level defaults automatically,' the feedback is visual indicators showing which values are inherited vs. customized, and the long loop is that changes to building-level defaults propagate to all units unless individually overridden.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multi-Unit Listing Manager</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-purple: #31135D;
    --secondary-purple: rgb(109, 49, 194);
    --accent-purple: rgb(140, 104, 238);
    --bg-light-gray: #f3f4f6;
    --text-dark: #1a1a1a;
    --text-gray: #6b7280;
    --border-color: #e5e7eb;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light-gray);
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    padding: 24px;
  }
  .multi-unit {
    max-width: 560px;
    width: 100%;
  }
  .multi-unit__header {
    margin-bottom: 16px;
  }
  .multi-unit__title {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-dark);
    margin-bottom: 2px;
  }
  .multi-unit__subtitle {
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    color: var(--text-gray);
  }
  .building-card {
    background: var(--primary-purple);
    border-radius: 16px;
    padding: 20px 24px;
    color: #ffffff;
    margin-bottom: 12px;
  }
  .building-card__label {
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    opacity: 0.7;
    margin-bottom: 6px;
  }
  .building-card__address {
    font-size: 17px;
    font-weight: 600;
    margin-bottom: 16px;
  }
  .building-defaults {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
  }
  .building-default {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }
  .building-default__label {
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    opacity: 0.6;
  }
  .building-default__value {
    font-family: 'DM Sans', sans-serif;
    font-size: 15px;
    font-weight: 600;
  }
  .building-default__value--small {
    font-size: 12px;
    font-weight: 400;
    opacity: 0.85;
  }
  .unit-card {
    background: #ffffff;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    margin-bottom: 10px;
    border: 1px solid var(--border-color);
    transition: box-shadow 0.2s ease;
  }
  .unit-card:hover {
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  }
  .unit-card__top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 14px;
  }
  .unit-card__name {
    font-size: 15px;
    font-weight: 700;
    color: var(--text-dark);
  }
  .unit-card__status {
    font-size: 11px;
    font-weight: 600;
    padding: 3px 10px;
    border-radius: 20px;
  }
  .unit-card__status--active {
    background: #EDEAFF;
    color: #4B47CE;
  }
  .unit-card__status--draft {
    background: var(--bg-light-gray);
    color: var(--text-gray);
  }
  .unit-fields {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }
  .unit-field {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }
  .unit-field__label {
    font-size: 11px;
    font-weight: 500;
    color: #9ca3af;
  }
  .unit-field__value {
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    font-weight: 600;
    color: var(--text-dark);
  }
  .unit-field__inherited {
    font-size: 10px;
    color: var(--accent-purple);
    font-weight: 500;
  }
  .unit-field__custom {
    font-size: 10px;
    color: #C4841D;
    font-weight: 500;
  }
  .unit-card__footer {
    margin-top: 14px;
    padding-top: 12px;
    border-top: 1px solid #f3f4f6;
    display: flex;
    gap: 8px;
  }
  .unit-action {
    font-family: 'Inter', sans-serif;
    font-size: 12px;
    font-weight: 600;
    color: var(--secondary-purple);
    background: none;
    border: none;
    cursor: pointer;
    padding: 4px 0;
    transition: color 0.2s ease;
  }
  .unit-action:hover {
    color: var(--accent-purple);
  }
  .unit-action--muted {
    color: var(--text-gray);
  }
  .unit-action--muted:hover {
    color: var(--text-dark);
  }
  .add-unit {
    width: 100%;
    padding: 14px;
    background: #ffffff;
    border: 2px dashed var(--border-color);
    border-radius: 12px;
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    font-weight: 600;
    color: var(--text-gray);
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
  }
  .add-unit:hover {
    border-color: var(--secondary-purple);
    color: var(--secondary-purple);
    background: rgb(252, 250, 255);
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .building-defaults { grid-template-columns: 1fr; }
    .unit-fields { grid-template-columns: 1fr; }
    .building-card { padding: 16px; }
  }
</style>
</head>
<body>
  <div class="multi-unit">
    <div class="multi-unit__header">
      <h2 class="multi-unit__title">Your Properties</h2>
      <p class="multi-unit__subtitle">Building defaults apply to all units unless you customize them</p>
    </div>
    <div class="building-card">
      <div class="building-card__label">Building defaults</div>
      <div class="building-card__address">3-Family House &middot; Harlem, NY</div>
      <div class="building-defaults">
        <div class="building-default">
          <span class="building-default__label">Default rent</span>
          <span class="building-default__value">\$2,690/mo</span>
        </div>
        <div class="building-default">
          <span class="building-default__label">Default deposit</span>
          <span class="building-default__value">\$2,500</span>
        </div>
        <div class="building-default">
          <span class="building-default__label">Cleaning fee</span>
          <span class="building-default__value">\$140</span>
        </div>
        <div class="building-default">
          <span class="building-default__label">Utility rule</span>
          <span class="building-default__value building-default__value--small">\$40 cap / guest pays overage</span>
        </div>
      </div>
    </div>
    <div class="unit-card">
      <div class="unit-card__top">
        <span class="unit-card__name">Unit 1 &mdash; 2nd Floor</span>
        <span class="unit-card__status unit-card__status--active">Active</span>
      </div>
      <div class="unit-fields">
        <div class="unit-field">
          <span class="unit-field__label">Rent</span>
          <span class="unit-field__value">\$2,690</span>
          <span class="unit-field__inherited">Inherited</span>
        </div>
        <div class="unit-field">
          <span class="unit-field__label">Deposit</span>
          <span class="unit-field__value">\$2,500</span>
          <span class="unit-field__inherited">Inherited</span>
        </div>
        <div class="unit-field">
          <span class="unit-field__label">Available</span>
          <span class="unit-field__value">March 2</span>
        </div>
        <div class="unit-field">
          <span class="unit-field__label">Guest</span>
          <span class="unit-field__value">Rachel T.</span>
        </div>
      </div>
      <div class="unit-card__footer">
        <button class="unit-action">Edit listing</button>
        <button class="unit-action unit-action--muted">View proposals</button>
      </div>
    </div>
    <div class="unit-card">
      <div class="unit-card__top">
        <span class="unit-card__name">Unit 2 &mdash; 3rd Floor</span>
        <span class="unit-card__status unit-card__status--draft">Draft</span>
      </div>
      <div class="unit-fields">
        <div class="unit-field">
          <span class="unit-field__label">Rent</span>
          <span class="unit-field__value">\$2,400</span>
          <span class="unit-field__custom">Customized</span>
        </div>
        <div class="unit-field">
          <span class="unit-field__label">Deposit</span>
          <span class="unit-field__value">\$2,500</span>
          <span class="unit-field__inherited">Inherited</span>
        </div>
        <div class="unit-field">
          <span class="unit-field__label">Available</span>
          <span class="unit-field__value">March 3</span>
        </div>
        <div class="unit-field">
          <span class="unit-field__label">Guest</span>
          <span class="unit-field__value">&mdash;</span>
        </div>
      </div>
      <div class="unit-card__footer">
        <button class="unit-action">Finish listing</button>
        <button class="unit-action unit-action--muted">Duplicate from Unit 1</button>
      </div>
    </div>
    <button class="add-unit">+ Add another unit at this address</button>
  </div>
</body>
</html>`
    },
  {
      id: "ds-ui-1002-008",
      name: "Recurring Proof Notification - Earned Trust Through Visible Rule Enforcement Over Time",
      category: "card",
      source_elements: ["works-005","communicates-005","looks-004","behaves-004","feels-003"],
      journey_phases: ["active_lease","retention"],
      priority: "high",
      description: "Saffer's Long Loops chapter describes how microinteractions must evolve over repeated use cycles. June's trust was built through Bryant's verbal promises, but platform trust must be earned through repeated proof of enforcement. When the utility cap is enforced correctly for the first time (guest billed for overage above $40), the platform must not let this proof pass silently. When rent arrives on time, the platform must not treat it as invisible. L5 feels-003 defines this as 'Earned Trust Through Recurring Proof, Not Silence' -- every successful enforcement is an opportunity to reinforce the host's decision to use the platform. This notification card is sent after each rule enforcement event: rent deposited, utility cap enforced, guest compliance confirmed. The microinteraction: the trigger is a successful enforcement event (system-initiated), the rule is 'always make enforcement visible,' the feedback is a warm, brief notification with the specific rule and outcome, and the long loop tracks enforcement history so the host can see a pattern of protection over time. The emotional target is 'persistent certainty' -- the host should accumulate evidence that the platform keeps its promises.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Recurring Proof Notification</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --primary-purple: #31135D;
    --secondary-purple: rgb(109, 49, 194);
    --accent-purple: rgb(140, 104, 238);
    --bg-light-gray: #f3f4f6;
    --text-dark: #1a1a1a;
    --text-gray: #6b7280;
    --border-color: #e5e7eb;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light-gray);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 24px;
  }
  .proof-stack {
    max-width: 420px;
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  .proof-header {
    margin-bottom: 4px;
  }
  .proof-header__title {
    font-size: 18px;
    font-weight: 700;
    color: var(--text-dark);
    margin-bottom: 2px;
  }
  .proof-header__subtitle {
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    color: var(--text-gray);
  }
  .proof-card {
    background: #ffffff;
    border-radius: 12px;
    padding: 18px 20px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    border-left: 3px solid var(--secondary-purple);
    transition: box-shadow 0.2s ease;
  }
  .proof-card:hover {
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  }
  .proof-card--highlight {
    border-left-color: #C4841D;
    background: #FFFDF8;
  }
  .proof-card__top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
  }
  .proof-card__type {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--primary-purple);
  }
  .proof-card--highlight .proof-card__type {
    color: #7C3A00;
  }
  .proof-card__date {
    font-family: 'DM Sans', sans-serif;
    font-size: 12px;
    color: #9ca3af;
  }
  .proof-card__message {
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    color: #374151;
    line-height: 1.6;
    margin-bottom: 10px;
  }
  .proof-card__message strong {
    font-weight: 600;
    color: var(--text-dark);
  }
  .proof-card__detail {
    display: flex;
    align-items: center;
    gap: 8px;
    background: #f9fafb;
    border-radius: 8px;
    padding: 10px 12px;
  }
  .proof-card--highlight .proof-card__detail {
    background: #FDF4E3;
  }
  .proof-card__detail-icon {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: #EDEAFF;
  }
  .proof-card--highlight .proof-card__detail-icon {
    background: #FEE8C8;
  }
  .proof-card__detail-text {
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    color: #374151;
  }
  .proof-card__detail-text strong {
    font-weight: 600;
  }
  .proof-summary {
    background: var(--primary-purple);
    border-radius: 12px;
    padding: 18px 20px;
    color: #ffffff;
  }
  .proof-summary__label {
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    opacity: 0.7;
    margin-bottom: 10px;
  }
  .proof-summary__stats {
    display: flex;
    gap: 24px;
  }
  .proof-stat {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }
  .proof-stat__value {
    font-size: 22px;
    font-weight: 700;
  }
  .proof-stat__label {
    font-family: 'DM Sans', sans-serif;
    font-size: 12px;
    opacity: 0.75;
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .proof-summary__stats { gap: 16px; flex-wrap: wrap; }
    .proof-stat__value { font-size: 18px; }
  }
</style>
</head>
<body>
  <div class="proof-stack">
    <div class="proof-header">
      <h2 class="proof-header__title">Protection Log</h2>
      <p class="proof-header__subtitle">Every time your rules are enforced, it shows up here</p>
    </div>
    <div class="proof-card proof-card--highlight">
      <div class="proof-card__top">
        <span class="proof-card__type">Utility cap enforced</span>
        <span class="proof-card__date">April 22, 2026</span>
      </div>
      <p class="proof-card__message">Your guest&rsquo;s electric bill was <strong>\$67</strong> this month. Your cap is \$40, so <strong>you paid \$40</strong> and the <strong>guest was billed \$27</strong> for the overage.</p>
      <div class="proof-card__detail">
        <div class="proof-card__detail-icon">
          <svg width="14" height="14" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="#7C3A00" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
        <span class="proof-card__detail-text">Guest payment of <strong>\$27</strong> collected successfully</span>
      </div>
    </div>
    <div class="proof-card">
      <div class="proof-card__top">
        <span class="proof-card__type">Rent deposited</span>
        <span class="proof-card__date">April 1, 2026</span>
      </div>
      <p class="proof-card__message"><strong>\$2,690</strong> deposited to your account for April. This is your second on-time payment.</p>
      <div class="proof-card__detail">
        <div class="proof-card__detail-icon">
          <svg width="14" height="14" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="#4B47CE" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
        <span class="proof-card__detail-text">Deposited on time &middot; <strong>2 of 3 months complete</strong></span>
      </div>
    </div>
    <div class="proof-card">
      <div class="proof-card__top">
        <span class="proof-card__type">Rent deposited</span>
        <span class="proof-card__date">March 1, 2026</span>
      </div>
      <p class="proof-card__message"><strong>\$2,690</strong> deposited to your account for March. First payment confirmed on schedule.</p>
      <div class="proof-card__detail">
        <div class="proof-card__detail-icon">
          <svg width="14" height="14" viewBox="0 0 12 12" fill="none"><path d="M2 6l3 3 5-5" stroke="#4B47CE" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
        <span class="proof-card__detail-text">Deposited on time &middot; <strong>1 of 3 months complete</strong></span>
      </div>
    </div>
    <div class="proof-summary">
      <div class="proof-summary__label">Your protection record</div>
      <div class="proof-summary__stats">
        <div class="proof-stat">
          <span class="proof-stat__value">\$5,380</span>
          <span class="proof-stat__label">Total rent deposited</span>
        </div>
        <div class="proof-stat">
          <span class="proof-stat__value">1</span>
          <span class="proof-stat__label">Utility cap enforced</span>
        </div>
        <div class="proof-stat">
          <span class="proof-stat__value">0</span>
          <span class="proof-stat__label">Issues unresolved</span>
        </div>
      </div>
    </div>
  </div>
</body>
</html>`
    }
];

function createSrcdoc(snippet) {
  return snippet;
}

function renderCards() {
  const grid = document.getElementById('elementGrid');
  const search = document.getElementById('searchInput').value.toLowerCase();
  const checkedPhases = Array.from(document.querySelectorAll('[data-filter-for="phase"] input:checked')).map(c => c.value);

  let filtered = ELEMENTS.filter(el => {
    if (search && !el.name.toLowerCase().includes(search) && !el.description.toLowerCase().includes(search)) return false;
    if (checkedPhases.length && !el.journey_phases.some(p => checkedPhases.includes(p))) return false;
    return true;
  });

  document.getElementById('resultCount').textContent = filtered.length + ' element' + (filtered.length !== 1 ? 's' : '');

  if (!filtered.length) {
    grid.innerHTML = '<div class="lib-empty">No elements match your filters.</div>';
    return;
  }

  grid.innerHTML = filtered.map((el, i) => {
    const phases = el.journey_phases.map(p => '<span class="lib-card__phase">' + p.replace(/_/g, ' ') + '</span>').join('');
    const sources = el.source_elements.map(s => '<code>' + s + '</code>').join(' ');
    return '<div class="lib-card" data-idx="' + ELEMENTS.indexOf(el) + '">' +
      '<div class="lib-card__preview"><iframe srcdoc="' + escapeAttr(el.html_css_snippet) + '" loading="lazy" sandbox="allow-same-origin"></iframe></div>' +
      '<div class="lib-card__body">' +
        '<div class="lib-card__top-row"><span class="lib-card__cat">UI Element</span><span class="lib-card__id">' + el.id + '</span></div>' +
        '<div class="lib-card__name">' + el.name + '</div>' +
        '<div class="lib-card__desc">' + el.description + '</div>' +
        '<div class="lib-card__phases">' + phases + '</div>' +
        '<div class="lib-card__sources"><strong>Sources:</strong> ' + sources + '</div>' +
      '</div></div>';
  }).join('');
}

function escapeAttr(s) {
  return s.replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}

function openModal(idx) {
  const el = ELEMENTS[idx];
  const overlay = document.getElementById('modalOverlay');
  const modal = document.getElementById('modalContent');
  const phases = el.journey_phases.map(p => '<span class="lib-card__phase" style="font-size:12px;padding:4px 10px;">' + p.replace(/_/g, ' ') + '</span>').join('');
  const sources = el.source_elements.map(s => '<code>' + s + '</code>').join(' ');

  modal.innerHTML =
    '<div class="lib-modal__preview"><iframe srcdoc="' + escapeAttr(el.html_css_snippet) + '" sandbox="allow-same-origin"></iframe><button class="lib-modal__close" onclick="closeModal()">&times;</button></div>' +
    '<div class="lib-modal__content">' +
      '<div class="lib-modal__header"><h2 class="lib-modal__title">' + el.name + '</h2></div>' +
      '<p class="lib-modal__desc">' + el.description + '</p>' +
      '<div class="lib-modal__section"><div class="lib-modal__section-title">Journey Phases</div><div class="lib-modal__phases-row">' + phases + '</div></div>' +
      '<div class="lib-modal__section"><div class="lib-modal__section-title">Source Elements</div><div class="lib-modal__sources-row">' + sources + '</div></div>' +
    '</div>';

  overlay.classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  document.getElementById('modalOverlay').classList.remove('open');
  document.body.style.overflow = '';
}

// Event listeners
document.getElementById('searchInput').addEventListener('input', renderCards);
document.querySelectorAll('.lib-filter-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const dropdown = btn.nextElementSibling;
    dropdown.classList.toggle('open');
    btn.classList.toggle('active');
  });
});
document.querySelectorAll('.lib-filter-dropdown input').forEach(cb => {
  cb.addEventListener('change', renderCards);
});
document.getElementById('elementGrid').addEventListener('click', e => {
  const card = e.target.closest('.lib-card');
  if (card) openModal(parseInt(card.dataset.idx));
});
document.getElementById('modalOverlay').addEventListener('click', e => {
  if (e.target === e.currentTarget) closeModal();
});
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });
window.addEventListener('scroll', () => {
  document.getElementById('toolbar').classList.toggle('scrolled', window.scrollY > 10);
});

// Initial render
renderCards();
</script>
</body>
</html>