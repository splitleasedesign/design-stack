<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Library of Elements — Design Stack v2 | Run 2026-02-19_1100</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --primary-purple:#31135D;
  --secondary-purple:rgb(109,49,194);
  --accent-purple:rgb(140,104,238);
  --bg-white:#ffffff;
  --bg-light:#f9fafb;
  --bg-light-gray:#f3f4f6;
  --bg-off-white:rgb(252,250,255);
  --text-dark:#1a1a1a;
  --text-gray:#6b7280;
  --text-light-gray:#9ca3af;
  --text-description:#374151;
  --border-color:#e5e7eb;
  --shadow-sm:0 1px 3px rgba(0,0,0,0.05);
  --shadow-md:0 2px 8px rgba(0,0,0,0.08);
  --shadow-lg:0 4px 16px rgba(0,0,0,0.1);
  --shadow-purple-md:0 4px 8px rgba(49,19,93,0.15);
  --rounded-sm:4px;--rounded-md:6px;--rounded-lg:8px;--rounded-xl:12px;--rounded-2xl:16px;--rounded-pill:20px;
  --font-inter:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
  --font-dm:'DM Sans',sans-serif;
  --transition-fast:0.15s;--transition-base:0.2s;--transition-slow:0.3s;
}
html{scroll-behavior:smooth}
body{font-family:var(--font-inter);background:var(--bg-light);color:var(--text-dark);line-height:1.5;-webkit-font-smoothing:antialiased}
.lib-header{background:linear-gradient(135deg,#31135D 0%,#4a1f8a 50%,#5a2d8f 100%);padding:48px 32px 40px;position:relative;overflow:hidden}
.lib-header::before{content:'';position:absolute;top:-60%;right:-10%;width:500px;height:500px;background:radial-gradient(circle,rgba(140,104,238,0.15) 0%,transparent 70%);pointer-events:none}
.lib-header__inner{max-width:1320px;margin:0 auto;position:relative;z-index:1}
.lib-header__badge{display:inline-block;background:rgba(255,255,255,0.12);color:rgba(255,255,255,0.85);font-size:11px;font-weight:600;padding:4px 12px;border-radius:var(--rounded-pill);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:16px;backdrop-filter:blur(4px)}
.lib-header__title{font-size:36px;font-weight:800;color:#fff;margin-bottom:8px;letter-spacing:-0.5px}
.lib-header__sub{font-family:var(--font-dm);font-size:16px;color:rgba(255,255,255,0.7);max-width:600px;line-height:1.6}
.lib-header__meta{display:flex;gap:24px;margin-top:20px;flex-wrap:wrap}
.lib-header__meta-item{font-size:12px;color:rgba(255,255,255,0.55);font-family:var(--font-dm)}
.lib-header__meta-item strong{color:rgba(255,255,255,0.85);font-weight:600}
.lib-toolbar{position:sticky;top:0;z-index:100;background:rgba(255,255,255,0.92);backdrop-filter:blur(12px);border-bottom:1px solid var(--border-color);padding:12px 32px;transition:box-shadow var(--transition-base)}
.lib-toolbar.scrolled{box-shadow:var(--shadow-md)}
.lib-toolbar__inner{max-width:1320px;margin:0 auto;display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.lib-search{position:relative;flex:1;min-width:220px;max-width:400px}
.lib-search__input{width:100%;padding:9px 14px 9px 36px;border:1px solid var(--border-color);border-radius:var(--rounded-lg);font-family:var(--font-inter);font-size:13px;background:var(--bg-white);color:var(--text-dark);transition:border-color var(--transition-fast);outline:none}
.lib-search__input:focus{border-color:var(--secondary-purple)}
.lib-search__icon{position:absolute;left:11px;top:50%;transform:translateY(-50%);color:var(--text-light-gray);font-size:14px;pointer-events:none}
.lib-filters{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.lib-filter-group{position:relative}
.lib-filter-btn{display:inline-flex;align-items:center;gap:5px;padding:7px 14px;border:1px solid var(--border-color);border-radius:var(--rounded-lg);background:var(--bg-white);font-family:var(--font-inter);font-size:12px;font-weight:500;color:var(--text-gray);cursor:pointer;transition:border-color var(--transition-fast),color var(--transition-fast);white-space:nowrap}
.lib-filter-btn:hover,.lib-filter-btn.active{border-color:var(--secondary-purple);color:var(--secondary-purple)}
.lib-filter-btn .arrow{font-size:10px;margin-left:2px;transition:transform var(--transition-fast)}
.lib-filter-btn.active .arrow{transform:rotate(180deg)}
.lib-filter-dropdown{position:absolute;top:calc(100% + 4px);left:0;min-width:200px;background:var(--bg-white);border:1px solid var(--border-color);border-radius:var(--rounded-lg);box-shadow:var(--shadow-lg);padding:6px 0;display:none;z-index:200}
.lib-filter-dropdown.open{display:block}
.lib-filter-option{display:flex;align-items:center;gap:8px;padding:8px 14px;font-size:12px;color:var(--text-dark);cursor:pointer;transition:background var(--transition-fast)}
.lib-filter-option:hover{background:var(--bg-light)}
.lib-filter-option input[type=checkbox]{accent-color:var(--secondary-purple)}
.lib-count{font-size:12px;color:var(--text-light-gray);font-family:var(--font-dm);margin-left:auto;white-space:nowrap}
.lib-grid-wrap{max-width:1320px;margin:0 auto;padding:24px 32px 64px}
.lib-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:20px}
.lib-empty{grid-column:1/-1;text-align:center;padding:80px 24px;color:var(--text-light-gray);font-size:15px}
.lib-card{background:var(--bg-white);border:1px solid var(--border-color);border-radius:var(--rounded-xl);overflow:hidden;transition:box-shadow var(--transition-base),border-color var(--transition-base),transform var(--transition-base);cursor:pointer;display:flex;flex-direction:column}
.lib-card:hover{box-shadow:var(--shadow-purple-md);border-color:rgba(109,49,194,0.25);transform:translateY(-2px)}
.lib-card__preview{width:100%;height:220px;border-bottom:1px solid var(--border-color);background:var(--bg-light);position:relative;overflow:hidden}
.lib-card__preview iframe{width:100%;height:100%;border:none;pointer-events:none;transform-origin:top left}
.lib-card__body{padding:16px 18px;flex:1;display:flex;flex-direction:column}
.lib-card__top-row{display:flex;align-items:center;gap:8px;margin-bottom:8px;flex-wrap:wrap}
.lib-card__cat{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;padding:3px 9px;border-radius:var(--rounded-pill);background:rgba(109,49,194,0.08);color:var(--secondary-purple)}
.lib-card__id{font-size:10px;color:var(--text-light-gray);margin-left:auto;font-family:var(--font-dm)}
.lib-card__name{font-size:16px;font-weight:700;color:var(--text-dark);margin-bottom:6px;line-height:1.3}
.lib-card__desc{font-family:var(--font-dm);font-size:13px;color:var(--text-gray);line-height:1.5;margin-bottom:12px;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;flex:1}
.lib-card__phases{display:flex;gap:4px;flex-wrap:wrap;margin-bottom:10px}
.lib-card__phase{font-size:10px;padding:2px 8px;border-radius:var(--rounded-sm);background:var(--bg-light-gray);color:var(--text-gray);font-weight:500}
.lib-card__sources{font-size:10px;color:var(--text-light-gray);font-family:var(--font-dm);border-top:1px solid var(--border-color);padding-top:10px;margin-top:auto}
.lib-card__sources strong{color:var(--text-gray);font-weight:600}
.lib-overlay{position:fixed;inset:0;background:rgba(49,19,93,0.5);z-index:1000;display:none;align-items:flex-start;justify-content:center;padding:40px 24px;overflow-y:auto;backdrop-filter:blur(4px);animation:fadeIn var(--transition-base) ease}
.lib-overlay.open{display:flex}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.lib-modal{background:var(--bg-white);border-radius:var(--rounded-2xl);width:100%;max-width:900px;box-shadow:0 24px 64px rgba(49,19,93,0.3);animation:slideUp var(--transition-slow) ease;margin-bottom:40px}
.lib-modal__preview{width:100%;min-height:300px;max-height:450px;border-radius:var(--rounded-2xl) var(--rounded-2xl) 0 0;overflow:hidden;background:var(--bg-light);border-bottom:1px solid var(--border-color);position:relative}
.lib-modal__preview iframe{width:100%;height:400px;border:none}
.lib-modal__close{position:absolute;top:14px;right:14px;z-index:10;width:36px;height:36px;border-radius:50%;background:rgba(255,255,255,0.9);border:1px solid var(--border-color);display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;color:var(--text-dark);transition:background var(--transition-fast)}
.lib-modal__close:hover{background:var(--bg-white)}
.lib-modal__content{padding:28px 32px 32px}
.lib-modal__header{display:flex;align-items:flex-start;gap:12px;margin-bottom:20px;flex-wrap:wrap}
.lib-modal__title{font-size:24px;font-weight:800;color:var(--text-dark);flex:1;min-width:200px}
.lib-modal__desc{font-family:var(--font-dm);font-size:14px;color:var(--text-description);line-height:1.7;margin-bottom:24px}
.lib-modal__section{margin-bottom:24px}
.lib-modal__section-title{font-size:13px;font-weight:700;color:var(--primary-purple);text-transform:uppercase;letter-spacing:0.6px;margin-bottom:12px;padding-bottom:6px;border-bottom:2px solid rgba(109,49,194,0.1)}
.lib-modal__phases-row{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:16px}
.lib-modal__sources-row{font-size:12px;color:var(--text-gray);font-family:var(--font-dm)}
.lib-modal__sources-row code{background:var(--bg-light-gray);padding:2px 6px;border-radius:var(--rounded-sm);font-size:11px;color:var(--secondary-purple);margin:0 2px}
@media(max-width:768px){
  .lib-header{padding:32px 20px}.lib-header__title{font-size:26px}
  .lib-toolbar{padding:10px 16px}.lib-grid-wrap{padding:16px 16px 48px}
  .lib-grid{grid-template-columns:1fr;gap:16px}
  .lib-modal__content{padding:20px}.lib-modal{max-width:100%}.lib-overlay{padding:20px 12px}
}
</style>
</head>
<body>
<header class="lib-header">
  <div class="lib-header__inner">
    <span class="lib-header__badge">Design Stack v2 &middot; Layer 8 Element Factory</span>
    <h1 class="lib-header__title">Library of Elements</h1>
    <p class="lib-header__sub">Browsable catalog of production-ready UI elements for the Split Lease host journey. Each element includes live preview and design specs.</p>
    <div class="lib-header__meta">
      <span class="lib-header__meta-item"><strong>Run:</strong> 2026-02-19_1100</span>
      <span class="lib-header__meta-item"><strong>Journey:</strong> Host</span>
      <span class="lib-header__meta-item"><strong>Elements:</strong> 7</span>
      <span class="lib-header__meta-item"><strong>Style:</strong> Split Lease Purple Palette</span>
    </div>
  </div>
</header>

<div class="lib-toolbar" id="toolbar">
  <div class="lib-toolbar__inner">
    <div class="lib-search">
      <span class="lib-search__icon">&#128269;</span>
      <input class="lib-search__input" type="text" id="searchInput" placeholder="Search elements by name or description...">
    </div>
    <div class="lib-filters">
      <div class="lib-filter-group">
        <button class="lib-filter-btn" data-filter="phase">Phase <span class="arrow">&#9662;</span></button>
        <div class="lib-filter-dropdown" data-filter-for="phase">
          <label class="lib-filter-option"><input type="checkbox" value="active_lease"> active lease</label>
          <label class="lib-filter-option"><input type="checkbox" value="evaluation"> evaluation</label>
          <label class="lib-filter-option"><input type="checkbox" value="listing_creation"> listing creation</label>
          <label class="lib-filter-option"><input type="checkbox" value="onboarding"> onboarding</label>
          <label class="lib-filter-option"><input type="checkbox" value="pricing"> pricing</label>
          <label class="lib-filter-option"><input type="checkbox" value="proposal_mgmt"> proposal mgmt</label>
          <label class="lib-filter-option"><input type="checkbox" value="retention"> retention</label>
        </div>
      </div>
    </div>
    <span class="lib-count" id="resultCount">7 elements</span>
  </div>
</div>

<div class="lib-grid-wrap">
  <div class="lib-grid" id="elementGrid"></div>
</div>

<div class="lib-overlay" id="modalOverlay">
  <div class="lib-modal" id="modalContent"></div>
</div>

<script>
const ELEMENTS = [
  {
      id: "ds-ui-1100-001",
      name: "Call-Echo Guarantee Landing Section",
      category: "card",
      source_elements: ["works-001","communicates-001","looks-001","looks-003","behaves-005","feels-001"],
      journey_phases: ["evaluation","onboarding"],
      priority: "high",
      description: "A host landing page hero section that mirrors the exact conversational phrases Robert used on the call. Three guarantee headlines appear in high-contrast serif typography on a warm background, producing the phrase-level recognition that Kahneman's cognitive ease research links to truth perception. Diane explicitly said she wanted to 'read the whole website' before committing (15:59), and at 16:38 she couldn't even name the platform. This section ensures that within 3 seconds of landing, she encounters the exact promises she already accepted on the call -- payment guarantee, damage matching, zero host fees -- in the same plain language Robert used. The warm off-white background bridges the emotional gap between the warm call and the cold screen.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Call-Echo Guarantee Landing Section</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=DM+Sans:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: #f3f4f6;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
  }
  .card {
    background: #fdfcfa;
    border-radius: 12px;
    max-width: 560px;
    width: 100%;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    overflow: hidden;
  }
  .card-header {
    background: #31135D;
    padding: 20px 32px;
    display: flex;
    align-items: center;
    gap: 12px;
  }
  .card-header-icon {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: rgba(255,255,255,0.15);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  .card-header-icon svg { stroke: #fff; }
  .card-header-text {
    color: rgba(255,255,255,0.85);
    font-size: 14px;
    line-height: 1.5;
  }
  .card-header-text strong {
    color: #fff;
    font-weight: 600;
  }
  .card-body {
    padding: 32px;
  }
  .guarantee-item {
    padding: 24px 0;
    border-bottom: 1px solid #e2dfd9;
    opacity: 0;
    transform: translateY(12px);
    animation: settle 400ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .guarantee-item:nth-child(1) { animation-delay: 100ms; }
  .guarantee-item:nth-child(2) { animation-delay: 250ms; }
  .guarantee-item:nth-child(3) { animation-delay: 400ms; border-bottom: none; }
  .guarantee-item:first-child { padding-top: 0; }
  .guarantee-item:last-child { padding-bottom: 0; }
  @keyframes settle {
    to { opacity: 1; transform: translateY(0); }
  }
  .guarantee-number {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 11px;
    font-weight: 500;
    color: rgb(109, 49, 194);
    letter-spacing: 0.05em;
    text-transform: uppercase;
    margin-bottom: 8px;
  }
  .guarantee-headline {
    font-family: 'DM Sans', sans-serif;
    font-size: 20px;
    font-weight: 700;
    color: #31135D;
    line-height: 1.3;
    margin-bottom: 8px;
  }
  .guarantee-body {
    font-size: 14px;
    color: #374151;
    line-height: 1.6;
  }
  .guarantee-body .mono {
    font-family: 'IBM Plex Mono', monospace;
    font-weight: 500;
    color: #31135D;
  }
  .card-footer {
    padding: 24px 32px;
    background: #f9f8f6;
    border-top: 1px solid #e2dfd9;
  }
  .claim-btn {
    display: block;
    width: 100%;
    padding: 14px 24px;
    background: rgb(109, 49, 194);
    color: #fff;
    border: none;
    border-radius: 8px;
    font-family: 'Inter', sans-serif;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease, transform 0.1s ease;
  }
  .claim-btn:hover { background: rgb(90, 42, 173); }
  .claim-btn:active { transform: scale(0.98); }
  .claim-sub {
    text-align: center;
    margin-top: 10px;
    font-size: 12px;
    color: #8a857e;
    line-height: 1.5;
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .card-header { padding: 16px 20px; }
    .card-body { padding: 24px 20px; }
    .guarantee-headline { font-size: 18px; }
    .card-footer { padding: 20px; }
  }
  @media (prefers-reduced-motion: reduce) {
    .guarantee-item { opacity: 1; transform: none; animation: none; }
  }
</style>
</head>
<body>
<div class="card">
  <div class="card-header">
    <div class="card-header-icon">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
    </div>
    <div class="card-header-text"><strong>Robert</strong> prepared this for you</div>
  </div>
  <div class="card-body">
    <div class="guarantee-item">
      <div class="guarantee-number">Guarantee 01</div>
      <div class="guarantee-headline">We guarantee that we will collect the payment and pay you.</div>
      <div class="guarantee-body">You don't have to worry about collecting from guests -- the payment comes from us, every month, on time.</div>
    </div>
    <div class="guarantee-item">
      <div class="guarantee-number">Guarantee 02</div>
      <div class="guarantee-headline">If the damage exceeds your deposit, we will match the same amount.</div>
      <div class="guarantee-body">Your <span class="mono">\$500</span> deposit becomes <span class="mono">\$1,000</span> in protection. We match dollar for dollar.</div>
    </div>
    <div class="guarantee-item">
      <div class="guarantee-number">Guarantee 03</div>
      <div class="guarantee-headline">We do not charge you. All our income comes from markup to the guests.</div>
      <div class="guarantee-body">If nothing happens, all you lose is the time you spent talking with us. Zero cost to list.</div>
    </div>
  </div>
  <div class="card-footer">
    <button class="claim-btn">Claim your account when you're ready</button>
    <div class="claim-sub">Take your time. This link stays active.</div>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1100-002",
      name: "Sequential Pricing Scenario Card",
      category: "card",
      source_elements: ["works-002","communicates-002","looks-004","behaves-002","feels-002","feels-004"],
      journey_phases: ["pricing","listing_creation"],
      priority: "high",
      description: "A single-focus pricing card that presents one rate question at a time, mirroring how Robert explained Split Lease's variable pricing on the call (12:29-13:49). Diane's 'I'm familiar' response (14:20) masks a familiarity trap -- she pattern-matched 'per night' to her 15-year hotel model without processing the novel variable-rate structure. This card uses Kahneman's cognitive ease principle: one question per screen maximizes legibility and prevents the overwhelming multi-variable matrix that would spike cognitive strain. The mono typography for dollar amounts signals financial precision, and a live projection shows the real-world consequence of the entered rate, gently activating System 2 at the moment it matters most.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sequential Pricing Scenario Card</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=DM+Sans:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: #f3f4f6;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
  }
  .scenario-card {
    background: #ffffff;
    border-radius: 12px;
    max-width: 500px;
    width: 100%;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    padding: 32px;
    animation: cardEnter 350ms cubic-bezier(0.16, 1, 0.3, 1) both;
  }
  @keyframes cardEnter {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .scenario-label {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 11px;
    font-weight: 500;
    color: rgb(109, 49, 194);
    letter-spacing: 0.05em;
    text-transform: uppercase;
    margin-bottom: 16px;
  }
  .scenario-context {
    font-size: 13px;
    color: #6b7280;
    line-height: 1.5;
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .scenario-context svg { stroke: #8a857e; flex-shrink: 0; }
  .scenario-question {
    font-family: 'DM Sans', sans-serif;
    font-size: 20px;
    font-weight: 700;
    color: #31135D;
    line-height: 1.3;
    margin-bottom: 24px;
  }
  .rate-input-group {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px;
  }
  .rate-prefix {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 24px;
    font-weight: 600;
    color: #31135D;
  }
  .rate-input {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 28px;
    font-weight: 600;
    color: #31135D;
    width: 120px;
    padding: 12px 16px;
    border: 2px solid #e2dfd9;
    border-radius: 8px;
    outline: none;
    transition: border-color 0.2s ease;
    background: #fdfcfa;
  }
  .rate-input:focus {
    border-color: rgb(109, 49, 194);
    box-shadow: 0 0 0 3px rgba(109, 49, 194, 0.1);
  }
  .rate-suffix {
    font-size: 14px;
    color: #6b7280;
  }
  .projection {
    background: #f9f8f6;
    border-radius: 8px;
    padding: 16px 20px;
    margin-bottom: 24px;
  }
  .projection-label {
    font-size: 12px;
    color: #8a857e;
    margin-bottom: 8px;
  }
  .projection-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px 0;
  }
  .projection-desc {
    font-size: 14px;
    color: #374151;
  }
  .projection-amount {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 16px;
    font-weight: 600;
    color: #31135D;
  }
  .projection-total {
    border-top: 1px solid #e2dfd9;
    margin-top: 8px;
    padding-top: 8px;
  }
  .projection-total .projection-desc {
    font-weight: 600;
    color: #1a1a1a;
  }
  .projection-total .projection-amount {
    font-size: 18px;
  }
  .confirm-btn {
    display: block;
    width: 100%;
    padding: 14px 24px;
    background: rgb(109, 49, 194);
    color: #fff;
    border: none;
    border-radius: 8px;
    font-family: 'Inter', sans-serif;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease, transform 0.1s ease;
  }
  .confirm-btn:hover { background: rgb(90, 42, 173); }
  .confirm-btn:active { transform: scale(0.98); }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .scenario-card { padding: 24px 20px; }
    .scenario-question { font-size: 18px; }
    .rate-input { font-size: 24px; width: 100px; padding: 10px 12px; }
    .rate-prefix { font-size: 20px; }
  }
  @media (prefers-reduced-motion: reduce) {
    .scenario-card { animation: none; }
  }
</style>
</head>
<body>
<div class="scenario-card">
  <div class="scenario-label">Pricing · Your Manhattan Apartment</div>
  <div class="scenario-context">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
    You know nightly pricing. Here is what is different.
  </div>
  <div class="scenario-question">If a guest books 4 nights per week, what would you charge per night?</div>
  <div class="rate-input-group">
    <span class="rate-prefix">\$</span>
    <input type="number" class="rate-input" value="50" min="0" id="rateInput" />
    <span class="rate-suffix">per night</span>
  </div>
  <div class="projection">
    <div class="projection-label">What this produces</div>
    <div class="projection-row">
      <span class="projection-desc">4 nights × \$50</span>
      <span class="projection-amount" id="weeklyAmt">\$200/week</span>
    </div>
    <div class="projection-row projection-total">
      <span class="projection-desc">Monthly total</span>
      <span class="projection-amount" id="monthlyAmt">\$800/mo</span>
    </div>
  </div>
  <button class="confirm-btn">Confirm rate &amp; continue</button>
</div>
<script>
  const input = document.getElementById('rateInput');
  const weeklyEl = document.getElementById('weeklyAmt');
  const monthlyEl = document.getElementById('monthlyAmt');
  input.addEventListener('input', () => {
    const rate = parseInt(input.value) || 0;
    const weekly = rate * 4;
    const monthly = weekly * 4;
    weeklyEl.textContent = '\$' + weekly + '/week';
    monthlyEl.textContent = '\$' + monthly + '/mo';
  });
</script>
</body>
</html>`
    },
  {
      id: "ds-ui-1100-003",
      name: "Pricing Confirmation Projection Card",
      category: "card",
      source_elements: ["works-002","communicates-002","looks-002","looks-004","behaves-002","feels-004"],
      journey_phases: ["pricing"],
      priority: "high",
      description: "The controlled-friction confirmation card that appears after all individual pricing scenarios are entered. This is the deliberate System 2 activation point that Kahneman's 'bad font' research justifies: showing a concrete monthly projection with two guest scenarios side-by-side forces the host to verify that her intuitive understanding matches the actual mechanics. Diane's confident 'I'm familiar' (14:20) was based on pattern-matching 'per night' to her 15-year hotel model. This card surfaces the novel variable-rate structure by showing Guest A at 4 nights/$50 and Guest B at 2 nights/$60, with different weekly totals -- revealing that rate changes based on booking pattern. The card enters with a slightly slower animation (400ms vs 300ms) to signal 'pause and read carefully.'",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pricing Confirmation Projection</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=DM+Sans:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: #f3f4f6;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
  }
  .confirm-card {
    background: #ffffff;
    border-radius: 12px;
    max-width: 540px;
    width: 100%;
    box-shadow: 0 4px 12px rgba(0,0,0,0.10);
    overflow: hidden;
    animation: confirmEnter 450ms cubic-bezier(0.16, 1, 0.3, 1) both;
  }
  @keyframes confirmEnter {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .confirm-header {
    padding: 28px 32px 0;
  }
  .confirm-label {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 11px;
    font-weight: 500;
    color: rgb(109, 49, 194);
    letter-spacing: 0.05em;
    text-transform: uppercase;
    margin-bottom: 12px;
  }
  .confirm-title {
    font-family: 'DM Sans', sans-serif;
    font-size: 20px;
    font-weight: 700;
    color: #31135D;
    line-height: 1.3;
    margin-bottom: 4px;
  }
  .confirm-subtitle {
    font-size: 14px;
    color: #6b7280;
    margin-bottom: 24px;
  }
  .projection-table {
    margin: 0 32px;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid #e2dfd9;
  }
  .projection-header-row {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    background: #f9f8f6;
    padding: 10px 16px;
    border-bottom: 1px solid #e2dfd9;
  }
  .projection-header-row span {
    font-size: 11px;
    font-weight: 600;
    color: #8a857e;
    text-transform: uppercase;
    letter-spacing: 0.03em;
  }
  .projection-data-row {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    padding: 14px 16px;
    border-bottom: 1px solid #f3f4f6;
    align-items: center;
  }
  .projection-data-row:last-child { border-bottom: none; }
  .projection-data-row .guest-label {
    font-size: 14px;
    font-weight: 500;
    color: #1a1a1a;
  }
  .projection-data-row .guest-desc {
    font-size: 12px;
    color: #6b7280;
  }
  .projection-data-row .rate-cell {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 14px;
    font-weight: 500;
    color: #374151;
  }
  .projection-data-row .amount-cell {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 15px;
    font-weight: 600;
    color: #31135D;
  }
  .total-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 20px 32px 0;
    padding: 16px 20px;
    background: #31135D;
    border-radius: 8px;
  }
  .total-label {
    font-size: 14px;
    font-weight: 600;
    color: rgba(255,255,255,0.85);
  }
  .total-amount {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 22px;
    font-weight: 600;
    color: #ffffff;
  }
  .callout {
    margin: 20px 32px;
    padding: 14px 16px;
    background: #f0f7ff;
    border-radius: 8px;
    border-left: 3px solid #4A90E2;
    display: flex;
    gap: 10px;
    align-items: flex-start;
  }
  .callout svg { stroke: #4A90E2; flex-shrink: 0; margin-top: 2px; }
  .callout-text {
    font-size: 13px;
    color: #374151;
    line-height: 1.5;
  }
  .callout-text strong {
    font-weight: 600;
    color: #1a1a1a;
  }
  .confirm-actions {
    padding: 24px 32px;
    display: flex;
    gap: 12px;
  }
  .btn-confirm {
    flex: 1;
    padding: 14px 24px;
    background: rgb(109, 49, 194);
    color: #fff;
    border: none;
    border-radius: 8px;
    font-family: 'Inter', sans-serif;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease;
  }
  .btn-confirm:hover { background: rgb(90, 42, 173); }
  .btn-adjust {
    padding: 14px 20px;
    background: transparent;
    color: #6b7280;
    border: 1px solid #e2dfd9;
    border-radius: 8px;
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: border-color 0.2s ease, color 0.2s ease;
  }
  .btn-adjust:hover { border-color: #31135D; color: #31135D; }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .confirm-header { padding: 24px 20px 0; }
    .projection-table { margin: 0 20px; }
    .projection-header-row, .projection-data-row { grid-template-columns: 1.2fr 0.8fr 1fr; padding: 10px 12px; }
    .total-row { margin: 16px 20px 0; }
    .callout { margin: 16px 20px; }
    .confirm-actions { padding: 20px; flex-direction: column; }
    .confirm-title { font-size: 18px; }
    .total-amount { font-size: 20px; }
  }
  @media (prefers-reduced-motion: reduce) {
    .confirm-card { animation: none; }
  }
</style>
</head>
<body>
<div class="confirm-card">
  <div class="confirm-header">
    <div class="confirm-label">Review · Your Manhattan Apartment</div>
    <div class="confirm-title">Here is what your rates produce</div>
    <div class="confirm-subtitle">A typical month with two part-time guests</div>
  </div>
  <div class="projection-table">
    <div class="projection-header-row">
      <span>Guest</span>
      <span>Rate</span>
      <span>Monthly</span>
    </div>
    <div class="projection-data-row">
      <div>
        <div class="guest-label">Guest A</div>
        <div class="guest-desc">Mon–Thu · 4 nights</div>
      </div>
      <div class="rate-cell">\$50/night</div>
      <div class="amount-cell">\$800/mo</div>
    </div>
    <div class="projection-data-row">
      <div>
        <div class="guest-label">Guest B</div>
        <div class="guest-desc">Fri–Sat · 2 nights</div>
      </div>
      <div class="rate-cell">\$60/night</div>
      <div class="amount-cell">\$480/mo</div>
    </div>
  </div>
  <div class="total-row">
    <span class="total-label">Your monthly income</span>
    <span class="total-amount">\$1,280</span>
  </div>
  <div class="callout">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
    <div class="callout-text"><strong>Your rate changes based on how many nights a guest books.</strong> A 2-night guest pays more per night than a 4-night guest. Confirm this is what you intended.</div>
  </div>
  <div class="confirm-actions">
    <button class="btn-confirm">Yes, these rates are correct</button>
    <button class="btn-adjust">Adjust rates</button>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1100-004",
      name: "Listing Import Verification Card",
      category: "card",
      source_elements: ["works-003","works-006","communicates-005","looks-006","behaves-001","feels-006"],
      journey_phases: ["onboarding","listing_creation"],
      priority: "high",
      description: "A listing verification card for the import path that Robert described (10:32-11:03): 'We take that information from that site for you, create your listings... then you go in and verify.' For Diane with three properties and extreme time poverty ('the day is never long enough,' 00:49), the import path is the only viable option. This card reduces verification to a 2-minute scan-and-approve action: the imported listing appears as a visual summary card with 'Looks Good' or 'Edit' choices. Multi-property progress is shown via a compact counter. Each element meets the 48px minimum tap target for mobile use during Diane's 90-second schedule gaps. The card uses the optimistic import pattern -- skeleton states for any fields still loading, with settled fields already visible.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Listing Import Verification Card</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=DM+Sans:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: #f3f4f6;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
  }
  .verify-card {
    background: #ffffff;
    border-radius: 12px;
    max-width: 500px;
    width: 100%;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    overflow: hidden;
    animation: cardEnter 350ms cubic-bezier(0.16, 1, 0.3, 1) both;
  }
  @keyframes cardEnter {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .verify-progress {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 16px 24px;
    background: #f9f8f6;
    border-bottom: 1px solid #e2dfd9;
  }
  .progress-step {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'IBM Plex Mono', monospace;
    font-size: 12px;
    font-weight: 600;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }
  .progress-step.done {
    background: rgb(109, 49, 194);
    color: #fff;
  }
  .progress-step.current {
    background: #31135D;
    color: #fff;
  }
  .progress-step.upcoming {
    background: #e2dfd9;
    color: #8a857e;
  }
  .progress-connector {
    flex: 1;
    height: 2px;
    background: #e2dfd9;
    max-width: 40px;
  }
  .progress-connector.filled { background: rgb(109, 49, 194); }
  .progress-text {
    margin-left: auto;
    font-family: 'IBM Plex Mono', monospace;
    font-size: 12px;
    color: #6b7280;
    white-space: nowrap;
  }
  .listing-photo {
    width: 100%;
    height: 180px;
    background: linear-gradient(135deg, #e8e5f0 0%, #d4d0e0 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }
  .listing-photo svg { stroke: #8a857e; }
  .listing-badge {
    position: absolute;
    top: 12px;
    left: 12px;
    background: rgba(49, 19, 93, 0.85);
    color: #fff;
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 11px;
    font-weight: 600;
    backdrop-filter: blur(4px);
  }
  .listing-details {
    padding: 24px;
  }
  .listing-title {
    font-family: 'DM Sans', sans-serif;
    font-size: 18px;
    font-weight: 700;
    color: #31135D;
    margin-bottom: 4px;
  }
  .listing-location {
    font-size: 13px;
    color: #6b7280;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 4px;
  }
  .listing-location svg { stroke: #8a857e; }
  .listing-specs {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
    margin-bottom: 20px;
  }
  .spec-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    color: #374151;
  }
  .spec-item svg { stroke: #8a857e; }
  .listing-amenities {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 24px;
  }
  .amenity-tag {
    padding: 4px 10px;
    background: #f3f4f6;
    border-radius: 20px;
    font-size: 12px;
    color: #374151;
  }
  .verify-status {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 16px;
    background: #f0f7ff;
    border-radius: 8px;
    margin-bottom: 20px;
  }
  .verify-status svg { stroke: #4A90E2; flex-shrink: 0; }
  .verify-status-text {
    font-size: 13px;
    color: #374151;
  }
  .verify-actions {
    display: flex;
    gap: 12px;
  }
  .btn-approve {
    flex: 1;
    min-height: 48px;
    padding: 14px 24px;
    background: rgb(109, 49, 194);
    color: #fff;
    border: none;
    border-radius: 8px;
    font-family: 'Inter', sans-serif;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
  }
  .btn-approve:hover { background: rgb(90, 42, 173); }
  .btn-approve svg { stroke: #fff; }
  .btn-edit {
    min-height: 48px;
    padding: 14px 20px;
    background: transparent;
    color: #374151;
    border: 1px solid #e2dfd9;
    border-radius: 8px;
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: border-color 0.2s ease;
  }
  .btn-edit:hover { border-color: #31135D; color: #31135D; }
  .time-estimate {
    text-align: center;
    padding: 12px 24px;
    font-size: 12px;
    color: #8a857e;
    border-top: 1px solid #f3f4f6;
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .listing-details { padding: 20px; }
    .listing-photo { height: 150px; }
    .verify-actions { flex-direction: column; }
    .btn-approve, .btn-edit { width: 100%; justify-content: center; }
  }
  @media (prefers-reduced-motion: reduce) {
    .verify-card { animation: none; }
  }
</style>
</head>
<body>
<div class="verify-card">
  <div class="verify-progress">
    <div class="progress-step done">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
    </div>
    <div class="progress-connector filled"></div>
    <div class="progress-step current">2</div>
    <div class="progress-connector"></div>
    <div class="progress-step upcoming">3</div>
    <span class="progress-text">Listing 2 of 3</span>
  </div>
  <div class="listing-photo">
    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
    <div class="listing-badge">Imported from Airbnb</div>
  </div>
  <div class="listing-details">
    <div class="listing-title">Furnished 2BR Apartment</div>
    <div class="listing-location">
      <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
      Queens, NY
    </div>
    <div class="listing-specs">
      <div class="spec-item">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 7v11a2 2 0 002 2h14a2 2 0 002-2V7"/><path d="M21 7H3l2-4h14l2 4z"/></svg>
        2 bed
      </div>
      <div class="spec-item">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 22V4a2 2 0 012-2h12a2 2 0 012 2v18"/><path d="M14 10h2"/><path d="M14 14h2"/></svg>
        1 bath
      </div>
      <div class="spec-item">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 21V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v16"/></svg>
        Fully furnished
      </div>
    </div>
    <div class="listing-amenities">
      <span class="amenity-tag">WiFi</span>
      <span class="amenity-tag">A/C</span>
      <span class="amenity-tag">Washer/Dryer</span>
      <span class="amenity-tag">Kitchen</span>
    </div>
    <div class="verify-status">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
      <span class="verify-status-text">Imported successfully. Review the details and approve.</span>
    </div>
    <div class="verify-actions">
      <button class="btn-approve">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
        Looks good
      </button>
      <button class="btn-edit">Edit details</button>
    </div>
  </div>
  <div class="time-estimate">This takes about 2 minutes</div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1100-005",
      name: "Guest Proposal Rich Preview Card",
      category: "card",
      source_elements: ["works-002","communicates-003","looks-002","behaves-006","feels-007"],
      journey_phases: ["proposal_mgmt"],
      priority: "high",
      description: "A rich guest proposal card that compensates for the loss of physical evaluation that Diane relied on for 15 years with UN diplomats. Her instinctive question 'So I don't need them first to see?' (09:48) reveals her evaluation model is physical. The platform restricts direct communication until lease signing (08:47), so this card must provide enough digital information to produce the cognitive ease that in-person meeting would. It leads with the guest's stated purpose (why they need the space), shows a visual weekly schedule, displays verification badges inline, features the guest's own words prominently, and offers a Zoom meeting as a bridge to physical evaluation. Kahneman's research shows information richness produces the ease/intuition cluster that enables experienced hosts to evaluate intuitively rather than suspiciously.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guest Proposal Rich Preview</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=DM+Sans:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: #f3f4f6;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
  }
  .proposal-card {
    background: #ffffff;
    border-radius: 12px;
    max-width: 520px;
    width: 100%;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    overflow: hidden;
  }
  .proposal-top {
    padding: 24px 28px;
    border-bottom: 1px solid #f3f4f6;
  }
  .proposal-for {
    font-size: 12px;
    color: #8a857e;
    margin-bottom: 12px;
  }
  .guest-intro {
    display: flex;
    align-items: center;
    gap: 14px;
    margin-bottom: 16px;
  }
  .guest-avatar {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: linear-gradient(135deg, #31135D 0%, #5a2d8f 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-family: 'DM Sans', sans-serif;
    font-size: 18px;
    font-weight: 700;
    flex-shrink: 0;
  }
  .guest-info h3 {
    font-family: 'DM Sans', sans-serif;
    font-size: 18px;
    font-weight: 700;
    color: #31135D;
    margin-bottom: 2px;
  }
  .guest-purpose {
    font-size: 14px;
    color: #374151;
    font-weight: 500;
  }
  .verification-badges {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }
  .badge {
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 500;
  }
  .badge svg { flex-shrink: 0; }
  .badge-verified {
    background: #e8f0eb;
    color: #2d5a3d;
  }
  .badge-verified svg { stroke: #2d5a3d; }
  .badge-new {
    background: #f0f7ff;
    color: #2d5a8a;
  }
  .badge-new svg { stroke: #2d5a8a; }
  .proposal-body {
    padding: 24px 28px;
  }
  .section-label {
    font-size: 11px;
    font-weight: 600;
    color: #8a857e;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 10px;
  }
  .schedule-row {
    display: flex;
    gap: 6px;
    margin-bottom: 20px;
  }
  .day-cell {
    flex: 1;
    text-align: center;
    padding: 8px 0;
    border-radius: 6px;
    font-size: 11px;
    font-weight: 600;
  }
  .day-cell.occupied {
    background: rgb(109, 49, 194);
    color: #fff;
  }
  .day-cell.empty {
    background: #f3f4f6;
    color: #bdb8b0;
  }
  .terms-row {
    display: flex;
    gap: 24px;
    margin-bottom: 20px;
  }
  .term-item {
    display: flex;
    flex-direction: column;
  }
  .term-label {
    font-size: 11px;
    color: #8a857e;
    margin-bottom: 4px;
  }
  .term-value {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 14px;
    font-weight: 500;
    color: #31135D;
  }
  .guest-message {
    background: #fdfcfa;
    border-left: 3px solid #e2dfd9;
    padding: 14px 16px;
    border-radius: 0 8px 8px 0;
    margin-bottom: 24px;
  }
  .guest-message p {
    font-size: 14px;
    color: #374151;
    line-height: 1.6;
    font-style: italic;
  }
  .guest-message .msg-author {
    font-size: 12px;
    color: #8a857e;
    font-style: normal;
    margin-top: 8px;
  }
  .proposal-actions {
    display: flex;
    gap: 10px;
    padding: 0 28px 24px;
  }
  .btn-accept {
    flex: 1;
    min-height: 48px;
    padding: 14px 20px;
    background: rgb(109, 49, 194);
    color: #fff;
    border: none;
    border-radius: 8px;
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease;
  }
  .btn-accept:hover { background: rgb(90, 42, 173); }
  .btn-zoom {
    min-height: 48px;
    padding: 14px 16px;
    background: #f9f8f6;
    color: #374151;
    border: 1px solid #e2dfd9;
    border-radius: 8px;
    font-family: 'Inter', sans-serif;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: border-color 0.2s ease;
    white-space: nowrap;
  }
  .btn-zoom:hover { border-color: #31135D; }
  .btn-zoom svg { stroke: #374151; }
  .btn-decline {
    min-height: 48px;
    padding: 14px 16px;
    background: transparent;
    color: #8a857e;
    border: none;
    font-family: 'Inter', sans-serif;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: color 0.2s ease;
  }
  .btn-decline:hover { color: #b83a3a; }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .proposal-top, .proposal-body { padding: 20px; }
    .proposal-actions { padding: 0 20px 20px; flex-wrap: wrap; }
    .btn-accept { flex-basis: 100%; }
    .terms-row { gap: 16px; }
    .schedule-row { gap: 4px; }
    .day-cell { font-size: 10px; padding: 6px 0; }
  }
</style>
</head>
<body>
<div class="proposal-card">
  <div class="proposal-top">
    <div class="proposal-for">For your Manhattan Apartment</div>
    <div class="guest-intro">
      <div class="guest-avatar">AM</div>
      <div class="guest-info">
        <h3>Alex M.</h3>
        <div class="guest-purpose">Commuter — works in finance in Midtown, Mon–Thu</div>
      </div>
    </div>
    <div class="verification-badges">
      <span class="badge badge-verified">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
        ID verified
      </span>
      <span class="badge badge-verified">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 21V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v16"/></svg>
        Employed (verified)
      </span>
      <span class="badge badge-new">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
        First stay
      </span>
    </div>
  </div>
  <div class="proposal-body">
    <div class="section-label">Proposed schedule</div>
    <div class="schedule-row">
      <div class="day-cell occupied">Mon</div>
      <div class="day-cell occupied">Tue</div>
      <div class="day-cell occupied">Wed</div>
      <div class="day-cell occupied">Thu</div>
      <div class="day-cell empty">Fri</div>
      <div class="day-cell empty">Sat</div>
      <div class="day-cell empty">Sun</div>
    </div>
    <div class="terms-row">
      <div class="term-item">
        <span class="term-label">Rate</span>
        <span class="term-value">\$50/night</span>
      </div>
      <div class="term-item">
        <span class="term-label">Duration</span>
        <span class="term-value">3 months</span>
      </div>
      <div class="term-item">
        <span class="term-label">Starts</span>
        <span class="term-value">Mar 1</span>
      </div>
    </div>
    <div class="section-label">Personal message</div>
    <div class="guest-message">
      <p>"I travel to NYC weekly for work and need a clean, quiet place near transit. Happy to do a video call if that helps."</p>
      <div class="msg-author">— Alex M.</div>
    </div>
  </div>
  <div class="proposal-actions">
    <button class="btn-accept">Accept proposal</button>
    <button class="btn-zoom">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="23 7 16 12 23 17 23 7"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg>
      Schedule Zoom
    </button>
    <button class="btn-decline">Decline</button>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1100-006",
      name: "Payment Trust Badge Row Dashboard",
      category: "card",
      source_elements: ["works-005","communicates-004","looks-002","looks-005","behaves-004","feels-005"],
      journey_phases: ["active_lease","retention"],
      priority: "high",
      description: "A dashboard payment track record component that makes every successful payment a visible, countable mere-exposure event. Diane's COVID experience ('I had pretty good people, steady... some moved out, didn't pay,' 06:23) shows what happens when years of success are invisible -- failures dominate perception. This badge row renders each payment period as a circular badge: filled with purple and a checkmark when paid, outlined when upcoming. A running count in mono typography ('4 of 6 payments on time') and cumulative earnings make the pattern salient. Kahneman's mere exposure research requires conscious perception of repeated positive stimuli for the platform to become a 'safety signal.' Each badge fill is a gentle 300ms animation -- not celebratory, but visible enough to register as a positive exposure event. For multi-property hosts like Diane, a consolidated total across all properties compounds the trust signal.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Payment Trust Badge Row</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=DM+Sans:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: #f3f4f6;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
  }
  .dashboard-card {
    background: #ffffff;
    border-radius: 12px;
    max-width: 540px;
    width: 100%;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    overflow: hidden;
  }
  .dash-header {
    padding: 24px 28px 0;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
  }
  .dash-title {
    font-family: 'DM Sans', sans-serif;
    font-size: 16px;
    font-weight: 700;
    color: #31135D;
    margin-bottom: 4px;
  }
  .dash-subtitle {
    font-size: 12px;
    color: #8a857e;
  }
  .dash-total {
    text-align: right;
  }
  .dash-total-label {
    font-size: 11px;
    color: #8a857e;
    margin-bottom: 2px;
  }
  .dash-total-amount {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 22px;
    font-weight: 600;
    color: #31135D;
  }
  .badge-section {
    padding: 24px 28px;
  }
  .property-group {
    margin-bottom: 20px;
  }
  .property-group:last-child { margin-bottom: 0; }
  .property-label {
    font-size: 12px;
    font-weight: 500;
    color: #374151;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .property-label svg { stroke: #8a857e; }
  .badge-row {
    display: flex;
    gap: 10px;
    align-items: center;
    margin-bottom: 8px;
  }
  .payment-badge {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    position: relative;
  }
  .payment-badge.paid {
    background: rgb(109, 49, 194);
  }
  .payment-badge.paid svg {
    stroke: #fff;
    animation: checkIn 300ms cubic-bezier(0.16, 1, 0.3, 1) both;
    animation-delay: 150ms;
  }
  @keyframes checkIn {
    from { opacity: 0; transform: scale(0.5); }
    to { opacity: 1; transform: scale(1); }
  }
  .payment-badge.upcoming {
    background: #ffffff;
    border: 2px solid #e2dfd9;
  }
  .payment-badge.upcoming .month-label {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 9px;
    font-weight: 500;
    color: #bdb8b0;
  }
  .payment-badge.late {
    background: #fef3e2;
    border: 2px solid #c17a28;
  }
  .payment-badge.late svg { stroke: #c17a28; }
  .badge-count {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 13px;
    color: #374151;
    margin-left: 4px;
  }
  .badge-count strong {
    color: #31135D;
    font-weight: 600;
  }
  .consolidated {
    padding: 20px 28px;
    background: #f9f8f6;
    border-top: 1px solid #e2dfd9;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .consolidated-text {
    font-size: 13px;
    color: #374151;
    font-weight: 500;
  }
  .consolidated-stat {
    display: flex;
    align-items: center;
    gap: 16px;
  }
  .stat-item {
    text-align: center;
  }
  .stat-value {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 16px;
    font-weight: 600;
    color: #31135D;
  }
  .stat-label {
    font-size: 10px;
    color: #8a857e;
    margin-top: 2px;
  }
  .guarantee-reminder {
    padding: 14px 28px;
    border-top: 1px solid #f3f4f6;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .guarantee-reminder svg { stroke: rgb(109, 49, 194); flex-shrink: 0; }
  .guarantee-reminder span {
    font-size: 12px;
    color: #6b7280;
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .dash-header { padding: 20px 20px 0; flex-direction: column; gap: 12px; }
    .dash-total { text-align: left; }
    .badge-section { padding: 20px; }
    .consolidated { padding: 16px 20px; flex-direction: column; gap: 12px; align-items: flex-start; }
    .guarantee-reminder { padding: 12px 20px; }
    .payment-badge { width: 32px; height: 32px; }
    .badge-row { gap: 8px; }
  }
  @media (prefers-reduced-motion: reduce) {
    .payment-badge.paid svg { animation: none; opacity: 1; transform: scale(1); }
  }
</style>
</head>
<body>
<div class="dashboard-card">
  <div class="dash-header">
    <div>
      <div class="dash-title">Payment Track Record</div>
      <div class="dash-subtitle">Across all properties</div>
    </div>
    <div class="dash-total">
      <div class="dash-total-label">Total earned</div>
      <div class="dash-total-amount">\$7,680</div>
    </div>
  </div>
  <div class="badge-section">
    <div class="property-group">
      <div class="property-label">
        <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
        Manhattan Apartment
      </div>
      <div class="badge-row">
        <div class="payment-badge paid"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg></div>
        <div class="payment-badge paid"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg></div>
        <div class="payment-badge paid"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg></div>
        <div class="payment-badge paid"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg></div>
        <div class="payment-badge upcoming"><span class="month-label">M5</span></div>
        <div class="payment-badge upcoming"><span class="month-label">M6</span></div>
        <span class="badge-count"><strong>4</strong> of 6 on time</span>
      </div>
    </div>
    <div class="property-group">
      <div class="property-label">
        <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
        Queens Building 1
      </div>
      <div class="badge-row">
        <div class="payment-badge paid"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg></div>
        <div class="payment-badge paid"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg></div>
        <div class="payment-badge paid"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg></div>
        <div class="payment-badge late"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg></div>
        <div class="payment-badge upcoming"><span class="month-label">M5</span></div>
        <div class="payment-badge upcoming"><span class="month-label">M6</span></div>
        <span class="badge-count"><strong>3</strong> of 6 on time · 1 late</span>
      </div>
    </div>
  </div>
  <div class="consolidated">
    <span class="consolidated-text">All properties combined</span>
    <div class="consolidated-stat">
      <div class="stat-item">
        <div class="stat-value">7/12</div>
        <div class="stat-label">On time</div>
      </div>
      <div class="stat-item">
        <div class="stat-value">0</div>
        <div class="stat-label">Damage claims</div>
      </div>
    </div>
  </div>
  <div class="guarantee-reminder">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
    <span>All payments delivered as guaranteed. Late payment covered by your guarantee.</span>
  </div>
</div>
</body>
</html>`
    },
  {
      id: "ds-ui-1100-007",
      name: "Micro-Task Notification Deep Link Card",
      category: "card",
      source_elements: ["works-006","communicates-005","looks-006","behaves-001","feels-006"],
      journey_phases: ["onboarding","listing_creation","proposal_mgmt"],
      priority: "high",
      description: "A deep-linked micro-task card designed for the 90-second gaps in Diane's packed schedule. She described her time constraint as structural: 'the day is never long enough' (00:49), and with three properties across Manhattan and Queens, every friction point is multiplied 3x. Kahneman's observation that 'System 2 is lazy and mental effort is aversive' means the mere perception of effort prevents task initiation. This card shows what a host sees when tapping a notification deep link -- one decision, one property, specific time estimate, and a single primary action. No navigation required. No dashboard to find. No multi-step wizard. Tasks are sequenced across properties rather than bundled, so completing one feels like progress rather than the start of a backlog. The card auto-saves all input so interruption loses nothing.",
      html_css_snippet: `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Micro-Task Notification Card</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=DM+Sans:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: #f3f4f6;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 24px;
    gap: 20px;
  }
  .notification-preview {
    background: #ffffff;
    border-radius: 12px;
    max-width: 400px;
    width: 100%;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    padding: 16px 20px;
    display: flex;
    align-items: center;
    gap: 14px;
    border-left: 4px solid rgb(109, 49, 194);
    cursor: pointer;
    transition: box-shadow 0.2s ease, transform 0.1s ease;
  }
  .notification-preview:hover {
    box-shadow: 0 4px 12px rgba(0,0,0,0.12);
  }
  .notification-preview:active { transform: scale(0.99); }
  .notif-icon {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    background: linear-gradient(135deg, #31135D 0%, #5a2d8f 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  .notif-icon svg { stroke: #fff; }
  .notif-content { flex: 1; }
  .notif-title {
    font-size: 14px;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 2px;
  }
  .notif-body {
    font-size: 12px;
    color: #6b7280;
  }
  .notif-time {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 11px;
    color: rgb(109, 49, 194);
    font-weight: 500;
    white-space: nowrap;
  }
  .task-card {
    background: #ffffff;
    border-radius: 12px;
    max-width: 400px;
    width: 100%;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    overflow: hidden;
    animation: taskEnter 300ms cubic-bezier(0.16, 1, 0.3, 1) both;
  }
  @keyframes taskEnter {
    from { opacity: 0; transform: translateY(12px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .task-header {
    padding: 20px 24px;
    border-bottom: 1px solid #f3f4f6;
  }
  .task-property {
    font-size: 11px;
    color: #8a857e;
    display: flex;
    align-items: center;
    gap: 4px;
    margin-bottom: 8px;
  }
  .task-property svg { stroke: #8a857e; }
  .task-title {
    font-family: 'DM Sans', sans-serif;
    font-size: 18px;
    font-weight: 700;
    color: #31135D;
    margin-bottom: 4px;
  }
  .task-estimate {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 12px;
    color: rgb(109, 49, 194);
    font-weight: 500;
  }
  .task-body {
    padding: 20px 24px;
  }
  .task-summary {
    font-size: 14px;
    color: #374151;
    line-height: 1.6;
    margin-bottom: 20px;
  }
  .task-action {
    display: block;
    width: 100%;
    min-height: 48px;
    padding: 14px 24px;
    background: rgb(109, 49, 194);
    color: #fff;
    border: none;
    border-radius: 8px;
    font-family: 'Inter', sans-serif;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease, transform 0.1s ease;
    text-align: center;
  }
  .task-action:hover { background: rgb(90, 42, 173); }
  .task-action:active { transform: scale(0.98); }
  .task-later {
    display: block;
    width: 100%;
    text-align: center;
    padding: 12px;
    font-size: 13px;
    color: #8a857e;
    background: none;
    border: none;
    cursor: pointer;
    transition: color 0.2s ease;
  }
  .task-later:hover { color: #374151; }
  .task-progress {
    padding: 12px 24px;
    background: #f9f8f6;
    border-top: 1px solid #f3f4f6;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .progress-text {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 12px;
    color: #374151;
  }
  .progress-dots {
    display: flex;
    gap: 6px;
  }
  .progress-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
  }
  .progress-dot.done { background: rgb(109, 49, 194); }
  .progress-dot.current { background: #31135D; }
  .progress-dot.todo { background: #e2dfd9; }
  .section-label {
    font-size: 10px;
    font-weight: 600;
    color: #8a857e;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: 12px;
  }
  @media (max-width: 480px) {
    body { padding: 16px; }
    .task-header { padding: 16px 20px; }
    .task-body { padding: 16px 20px; }
    .task-progress { padding: 10px 20px; }
  }
  @media (prefers-reduced-motion: reduce) {
    .task-card { animation: none; }
  }
</style>
</head>
<body>
<div class="section-label">Notification (what the host sees in her phone)</div>
<div class="notification-preview">
  <div class="notif-icon">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
  </div>
  <div class="notif-content">
    <div class="notif-title">Your Queens listing is ready</div>
    <div class="notif-body">Tap to verify the imported details</div>
  </div>
  <div class="notif-time">2 min</div>
</div>

<div class="section-label">Deep-linked task (what opens when tapped)</div>
<div class="task-card">
  <div class="task-header">
    <div class="task-property">
      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
      Queens Building 1
    </div>
    <div class="task-title">Verify your imported listing</div>
    <div class="task-estimate">Under 2 minutes</div>
  </div>
  <div class="task-body">
    <div class="task-summary">We imported your listing details from Airbnb. Review the photos, description, and amenities, then approve.</div>
    <button class="task-action">Review listing now</button>
    <button class="task-later">Save for later</button>
  </div>
  <div class="task-progress">
    <span class="progress-text">Listing 2 of 3</span>
    <div class="progress-dots">
      <div class="progress-dot done"></div>
      <div class="progress-dot current"></div>
      <div class="progress-dot todo"></div>
    </div>
  </div>
</div>
</body>
</html>`
    }
];

function createSrcdoc(snippet) {
  return snippet;
}

function renderCards() {
  const grid = document.getElementById('elementGrid');
  const search = document.getElementById('searchInput').value.toLowerCase();
  const checkedPhases = Array.from(document.querySelectorAll('[data-filter-for="phase"] input:checked')).map(c => c.value);

  let filtered = ELEMENTS.filter(el => {
    if (search && !el.name.toLowerCase().includes(search) && !el.description.toLowerCase().includes(search)) return false;
    if (checkedPhases.length && !el.journey_phases.some(p => checkedPhases.includes(p))) return false;
    return true;
  });

  document.getElementById('resultCount').textContent = filtered.length + ' element' + (filtered.length !== 1 ? 's' : '');

  if (!filtered.length) {
    grid.innerHTML = '<div class="lib-empty">No elements match your filters.</div>';
    return;
  }

  grid.innerHTML = filtered.map((el, i) => {
    const phases = el.journey_phases.map(p => '<span class="lib-card__phase">' + p.replace(/_/g, ' ') + '</span>').join('');
    const sources = el.source_elements.map(s => '<code>' + s + '</code>').join(' ');
    return '<div class="lib-card" data-idx="' + ELEMENTS.indexOf(el) + '">' +
      '<div class="lib-card__preview"><iframe srcdoc="' + escapeAttr(el.html_css_snippet) + '" loading="lazy" sandbox="allow-same-origin"></iframe></div>' +
      '<div class="lib-card__body">' +
        '<div class="lib-card__top-row"><span class="lib-card__cat">UI Element</span><span class="lib-card__id">' + el.id + '</span></div>' +
        '<div class="lib-card__name">' + el.name + '</div>' +
        '<div class="lib-card__desc">' + el.description + '</div>' +
        '<div class="lib-card__phases">' + phases + '</div>' +
        '<div class="lib-card__sources"><strong>Sources:</strong> ' + sources + '</div>' +
      '</div></div>';
  }).join('');
}

function escapeAttr(s) {
  return s.replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}

function openModal(idx) {
  const el = ELEMENTS[idx];
  const overlay = document.getElementById('modalOverlay');
  const modal = document.getElementById('modalContent');
  const phases = el.journey_phases.map(p => '<span class="lib-card__phase" style="font-size:12px;padding:4px 10px;">' + p.replace(/_/g, ' ') + '</span>').join('');
  const sources = el.source_elements.map(s => '<code>' + s + '</code>').join(' ');

  modal.innerHTML =
    '<div class="lib-modal__preview"><iframe srcdoc="' + escapeAttr(el.html_css_snippet) + '" sandbox="allow-same-origin"></iframe><button class="lib-modal__close" onclick="closeModal()">&times;</button></div>' +
    '<div class="lib-modal__content">' +
      '<div class="lib-modal__header"><h2 class="lib-modal__title">' + el.name + '</h2></div>' +
      '<p class="lib-modal__desc">' + el.description + '</p>' +
      '<div class="lib-modal__section"><div class="lib-modal__section-title">Journey Phases</div><div class="lib-modal__phases-row">' + phases + '</div></div>' +
      '<div class="lib-modal__section"><div class="lib-modal__section-title">Source Elements</div><div class="lib-modal__sources-row">' + sources + '</div></div>' +
    '</div>';

  overlay.classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  document.getElementById('modalOverlay').classList.remove('open');
  document.body.style.overflow = '';
}

// Event listeners
document.getElementById('searchInput').addEventListener('input', renderCards);
document.querySelectorAll('.lib-filter-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const dropdown = btn.nextElementSibling;
    dropdown.classList.toggle('open');
    btn.classList.toggle('active');
  });
});
document.querySelectorAll('.lib-filter-dropdown input').forEach(cb => {
  cb.addEventListener('change', renderCards);
});
document.getElementById('elementGrid').addEventListener('click', e => {
  const card = e.target.closest('.lib-card');
  if (card) openModal(parseInt(card.dataset.idx));
});
document.getElementById('modalOverlay').addEventListener('click', e => {
  if (e.target === e.currentTarget) closeModal();
});
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });
window.addEventListener('scroll', () => {
  document.getElementById('toolbar').classList.toggle('scrolled', window.scrollY > 10);
});

// Initial render
renderCards();
</script>
</body>
</html>